<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max &#187; je t&#8217;encule thérèse</title>
	<atom:link href="http://sametmax.com/tag/je-tencule-therese/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 10:56:13 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>Un gros Troll de plus sur Javascript 133</title>
		<link>http://sametmax.com/un-gros-troll-de-plus-sur-javacscript/</link>
		<comments>http://sametmax.com/un-gros-troll-de-plus-sur-javacscript/#comments</comments>
		<pubDate>Thu, 13 Mar 2014 20:02:09 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[je t'encule thérèse]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[ruby]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=9752</guid>
		<description><![CDATA[<a href="http://sametmax.com/un-petit-gout-de-meteor-js-en-python/#comment-21099">Un commentaire très pertinent de Kontre</a> m'a interpellé dernièrement : si Javascript est si pourri, pourquoi tout le monde s'y intéresse ?]]></description>
				<content:encoded><![CDATA[<p><a href="http://sametmax.com/un-petit-gout-de-meteor-js-en-python/#comment-21099">Un commentaire très pertinent de Kontre</a> m&#8217;a interpellé dernièrement : si Javascript est si pourri, pourquoi tout le monde s&#8217;y intéresse ?</p>
<blockquote><p>TD;DR :</p>
<p>L&#8217;inertie technique.</p></blockquote>
<p>Il faut bien comprendre que PERSONNE ne s’intéresse à Javascript directement. Les gens s&#8217;intéressent passionnément à la programmation Web. Et il se trouve que, concernant la programmation côté client, il y a QUE Javascript de disponible.</p>
<p>Quand Ajax est arrivé, des mecs brillants ont rendu le Web plus interactif. Et ils ont utilisé ce qui était implémenté partout : Javascript. Pas parce qu&#8217;ils aimaient Javascript. Pas parce que Javascript était un bon langage.</p>
<p>Parce que c&#8217;était la seule solution dispo.</p>
<p>Avant, personne ne s&#8217;intéressait à ce truc. C&#8217;était un langage de script kiddies pour faire des flocons de neige sur les pages HTML. Et donc tout le monde se foutait royalement que ce soit de la merde. IE l&#8217;avait implémenté parce que Netscape l&#8217;avait fait. C&#8217;était alors un gros hybride qui tentait de rassurer les codeurs C et Java. Javascript était marketing, jusque dans le choix du nom. Puis IE6 a gardé le pouvoir pendant 10 ans, et du coup, tout le monde a suivi.</p>
<p>Personne n&#8217;a réfléchi. Personne n&#8217;a vu venir l&#8217;explosion du Web. Personne ne s&#8217;est dit &#8220;les gars faudrait peut être faire attention, le status quo pue la merde&#8221;. <strong>A cette époque, ça n&#8217;avait pas d&#8217;importance, on a mis les efforts de guerre ailleurs.</strong></p>
<p>L&#8217;heure du Web 2.0 a alors sonné, et là les business ont eu besoin de puissance de feu. Mais c&#8217;était trop tard, il n&#8217;y avait plus qu&#8217;un seul truc hideux de dispo pour la prog&#8230;</p>
<p> Google a utilisé massivement les pages dynamiques, et devant le constat des performances misérables de la seule techno qu&#8217;il y avait a dispo, il a pondu chrome, et sa VM Javascript ultra performante. Si on avait appliqué la même techno à n&#8217;importe quelle autre langage, on aurait obtenu 10 fois cette vitesse.</p>
<p> C&#8217;est quand Google a enfin pu donner des perfs décentes &#8211; c&#8217;est à dire celles qu&#8217;ont d&#8217;autres langage depuis une décennie &#8211; à Javascript que les gens ont envisagé de l&#8217;utiliser sur le serveur. Encore une fois, pas parce que Javascript était une techno dont ils étaient fondamentalement amoureux.</p>
<p>Parce qu&#8217;ils voulaient éviter d&#8217;écrire deux fois le même code côté client et côté serveur et que toute tentative de générer du Javascript n&#8217;a pas été satisfaisante. Et aussi parce que le besoin de faire de l&#8217;asynchrone se faisait sentir et que les Dev clients n&#8217;avaient pas envie d&#8217;apprendre un autre langage. Ben oui, l&#8217;asynchrone, vous croyez que pas que ça existe que sur JS quand même ? C&#8217;est aussi vieux que les premiers compilateurs. Les Devs clients connaissaient déjà le JS, et ça faisait du DRY, alors pouet.</p>
<p>Personne. J&#8217;ai bien dit, personne ! Ne s&#8217;est jamais extasié devant l&#8217;incroyable ergonomie de Javascript. Devant sa facilité de debuggage. Devant la qualité de sa doc.</p>
<div id="attachment_9753" style="width: 373px" class="wp-caption aligncenter"><a href="http://sametmax.com/wp-content/uploads/2014/03/6wbwi22.jpg" class="grouped_elements" rel="tc-fancybox-group9752"><img src="http://sametmax.com/wp-content/uploads/2014/03/6wbwi22.jpg" alt="Dessin humoristique sur la recherche de travail" title="Cherche Dev Javascript pour travailler sur projet innovant dans une start up à fort potentiel de croissance." width="363" height="500" class="size-full wp-image-9753" /></a><p class="wp-caption-text">Cherche Dev Javascript pour travailler sur projet innovant dans une start up à fort potentiel de croissance.</p></div>
<p>Ruby est un langage innovant and fun.</p>
<p>Python est un langage ergonomique and riche.</p>
<p>Php est un langage avec une super doc et une communauté noob friendly.</p>
<p>Lisp est un langage puissant avec un paradigme fonctionnel de référence.</p>
<p>Go est un langage propre avec une gestion de la concurrence très performante.</p>
<p>Javascript est juste là par hasard. Il ne dépasse aucun des langages ci-dessus en terme de ses qualités propres. Sa bibliothèque standard est risible. Il ne sert absolument à rien sans un framework côté serveur, et côté client il est parfaitement improductif sans une lib pour gommer les incompatibilités entre les implémentations.</p>
<p>Les docs sur JS sont éparpillées sur le Web. Les tutos sont déchirés entre tant de versions et de frameworks qu&#8217;on se croirait dans un script des frères wachowski.</p>
<p>Des notions de base comme les closures sont encore obscures pour la plupart des codeurs Javascript, alors qu&#8217;elles peuvent ruiner les perfs de votre programme ou créer des bugs énormes. Les projets innovants en Javascript sont tous faits par des gens hyper compétents parce qu&#8217;innover dans ce langage, ça demande une discipline de dingue tellement il offre d&#8217;opportunité de merder.</p>
<p>Javascript est un hack qu&#8217;on se traine.</p>
<p>C&#8217;est un bug legacy.</p>
<p><strong>C&#8217;est un virus préinstallé dans les navigateurs.</strong></p>
<div id="attachment_9754" style="width: 410px" class="wp-caption aligncenter"><a href="http://sametmax.com/wp-content/uploads/2014/03/24337352.jpg" class="grouped_elements" rel="tc-fancybox-group9752"><img src="http://sametmax.com/wp-content/uploads/2014/03/24337352.jpg" alt="Photo du film le dictateur" title="Ma Fureure, vous ne voulez pas utilisez le C# plutôt ? Naïne, toutes nos troupes sont déjà tatoués sur la fesse gauche, on va devoir y aller comme ça." width="400" height="286" class="size-full wp-image-9754" /></a><p class="wp-caption-text">Ma Fureure, vous ne voulez pas utilisez le C# plutôt ? Naïne, toutes nos troupes sont déjà tatoués sur la fesse gauche, on va devoir y aller comme ça.</p></div>
<p>Oui il y a des produits à base de Javascript fantastiques. Oui les innovations techno Web actuelles intéressantes tournent toutes autour de Javascript de près ou de loin. Et oui, vous devez définitivement mettre les mains dedans parce que le monde du dev avancera en dépit de vos goûts. En tout cas, en dépit des miens, j&#8217;en ai bien conscience.</p>
<p>Mais ceci ne se fait pas grâce à Javascript. Ceci se fait <strong>en dépit</strong> de Javascript. Malgré le fait que c&#8217;est un langage au typage pourri, malgré son scoping dégueulasse, malgré l&#8217;absence des facilités modernes les plus basiques comme le passage d&#8217;arguments avancés ou un slicing décent.</p>
<p>Parce qu&#8217;il y a des gens très (TRÈS) bons qui ont eu Javascript comme contrainte, et qui en ont tiré le meilleur. Et c&#8217;est pas faute d&#8217;avoir essayé autre chose (Flash, GWT, Haxe&#8230;). Ces mecs sont incroyables, ce sont des Dieux vivant, Amen to them, mais Javascript reste à chier.</p>
<p>Et on va se le coltiner encore très, très longtemps.</p>
<p>Au cas où vous ne l&#8217;aurez pas encore compris, je vomis sur Javascript. Mais je code avec, et j&#8217;offre même des formations dessus, car je suis pragmatique. Les besoins de l&#8217;industrie, l&#8217;inertie technologie et le contexte social / technique / économique dictent bien plus souvent les standards que nous utilisons que leurs qualités intrasèques. Sinon nous n&#8217;aurions pas utilisé le format .doc ou les VHS.</p>
<p>En fait, je ne détesterais pas autant Javascript si je n&#8217;en avais pas besoin quotidiennement. Je le hais du plus profond de mon âme justement parce que c&#8217;est non seulement une contrainte inamovible de mon métier, mais en plus une tumeur que les chercheurs annoncent voir grossir de jour en jour. Avec le sourire, les connards !</p>
<p>Le VB est peut être pire que le JS, mais je m&#8217;en branle, je n&#8217;ai pas à y toucher.</p>
<p>Après cet argumentaire, je précise que je ne mettrai pas de tampon sur les commentaires, parce que je comprends bien que je ne peux pas lâcher une caisse et demander à tout le monde de respirer à fond et ne pas se plaindre.</p>
<p>Néanmoins, puisque cet article à des vocations thérapeutique &#8211; vous êtes tous un peu mes psy au fond (la confidentialité bloggeur / lecteur, ça marche ?) &#8211; voici un listing de tout ce que j’abhorre dans le Javascript.</p>
<p><iframe width="560" height="315" src="//www.youtube.com/embed/mD-Jcg5UvUc" frameborder="0" allowfullscreen></iframe>)</p>
<h2>Les experts recommandent d&#8217;éviter la moitié du langage</h2>
<p>Il y a tellement de merdes dans JS que les plus grands experts s&#8217;accordent sur le fait que la première chose à faire est d&#8217;apprendre la liste des choses à ne PAS utiliser.</p>
<p>En fait, Douglas Crockford lui même a écrit <a href="http://shop.oreilly.com/product/9780596517748.do">un bouquin complet</a> rien que sur le sujet.</p>
<p>Je n&#8217;ai pas tout en tête, mais en vrac&#8230;</p>
<p>Ne pas utiliser l&#8217;opérateur <code>==</code>, parce que :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #3366CC;">''</span>        <span style="color: #339933;">==</span>   <span style="color: #3366CC;">'0'</span>           <span style="color: #006600; font-style: italic;">// false</span>
<span style="color: #CC0000;">0</span>         <span style="color: #339933;">==</span>   <span style="color: #3366CC;">''</span>            <span style="color: #006600; font-style: italic;">// true</span>
<span style="color: #CC0000;">0</span>         <span style="color: #339933;">==</span>   <span style="color: #3366CC;">'0'</span>           <span style="color: #006600; font-style: italic;">// true</span>
<span style="color: #003366; font-weight: bold;">false</span>     <span style="color: #339933;">==</span>   <span style="color: #3366CC;">'false'</span>       <span style="color: #006600; font-style: italic;">// false</span>
<span style="color: #003366; font-weight: bold;">false</span>     <span style="color: #339933;">==</span>   <span style="color: #3366CC;">'0'</span>           <span style="color: #006600; font-style: italic;">// true</span>
<span style="color: #003366; font-weight: bold;">false</span>     <span style="color: #339933;">==</span>   <span style="color: #003366; font-weight: bold;">undefined</span>     <span style="color: #006600; font-style: italic;">// false</span>
<span style="color: #003366; font-weight: bold;">false</span>     <span style="color: #339933;">==</span>   <span style="color: #003366; font-weight: bold;">null</span>          <span style="color: #006600; font-style: italic;">// false</span>
<span style="color: #003366; font-weight: bold;">null</span>      <span style="color: #339933;">==</span>   <span style="color: #003366; font-weight: bold;">undefined</span>     <span style="color: #006600; font-style: italic;">// true</span>
<span style="color: #3366CC;">&quot; <span style="color: #000099; font-weight: bold;">\t</span><span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">==</span>   <span style="color: #CC0000;">0</span>             <span style="color: #006600; font-style: italic;">// true</span></pre></td></tr></table></div>

<p>Notez que même <code>===</code> ne retire pas toutes les ambiguïtés :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #339933;">&gt;</span> <span style="color: #000066; font-weight: bold;">var</span> a <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span> <span style="color: #3366CC;">&quot;abc&quot;</span> <span style="color: #339933;">:</span> <span style="color: #CC0000;">1</span> <span style="color: #009900;">&#125;</span>
<span style="color: #339933;">&gt;</span> a<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;abc&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">===</span> a<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;abc&quot;</span><span style="color: #009900;">&#93;</span>
<span style="color: #003366; font-weight: bold;">true</span></pre></td></tr></table></div>

<p>Ne pas utiliser <code>parseInt</code> sans préciser la base sinon :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #339933;">&gt;</span> parseInt<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'06'</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">6</span>
<span style="color: #339933;">&gt;</span> parseInt<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'07'</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">7</span>
<span style="color: #339933;">&gt;</span> parseInt<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'08'</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">0</span>
<span style="color: #339933;">&gt;</span> parseInt<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'09'</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">0</span>
<span style="color: #339933;">&gt;</span> parseInt<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'10'</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">10</span></pre></td></tr></table></div>

<p>Bien se souvenir d&#8217;utiliser <code>var</code> partout. <del datetime="2014-03-21T09:26:19+00:00">En fait activer <code>use strict</code> dès que possible pour éviter l&#8217;insertion de <code>;</code> automatiques.</p>
<p>Et ne pas utiliser la syntaxe de déclaration de variable sans <code>var</code> puisque ça créé une variable globale. <del datetime="2014-03-21T09:26:19+00:00">Cependant, faites gaffe quand vous convertissez du code parce que :</p>
<p><code> a = 1<br />
1<br />
> var a = 1<br />
undefined</code></p>
<p></del> Encore une connerie. Mais vous avez l&#8217;habitude :)</p>
<p>Ah oui, et ne pas utiliser les mots clés <code>new</code> ou <code>with</code> pour vos propres libs. Si, si, on bannit carrément des mots clés, c&#8217;est écrit dans le livre.</p>
<div id="attachment_9755" style="width: 343px" class="wp-caption aligncenter"><a href="http://sametmax.com/wp-content/uploads/2014/03/6NJn2xy.jpg" class="grouped_elements" rel="tc-fancybox-group9752"><img src="http://sametmax.com/wp-content/uploads/2014/03/6NJn2xy.jpg" alt="Phot d&#039;un gant de vaisselle avec des pansements" title="Ce gant est fantastique, si vous ignorez tous les trous il vous permettra de faire la vaisselle aussi bien que tous les autres gants. Comme ça vous êtes jardinier ? Remarquez, j&#039;avais créé le produit pour faire des touchers rectaux à la base, donc il est adaptable ! " width="333" height="500" class="size-full wp-image-9755" /></a><p class="wp-caption-text">Ce gant est fantastique, si vous ignorez tous les trous il vous permettra de faire la vaisselle aussi bien que tous les autres gants. Comme ça vous êtes jardinier ? Remarquez, j&#039;avais créé le produit pour faire des touchers rectaux à la base, donc il est adaptable ! </p></div>
<h2>Faire du JS propre présuppose l&#8217;utilisation de design patterns</h2>
<p>En l&#8217;état, on ne peut pas écrire du JS propre. Écrire la plus simple instruction Javascript est déjà écrire du code sale car toute variable devient globale. Il faut tout foutre dans un conteneur quelconque, souvent dans une fonction anonyme immédiatement appelée, mais il y a d&#8217;autres techniques (services avec injection de dépendance dans angularjs par exemple). </p>
<p>Pour être honnête, on commence à peine à savoir écrire des grosses applis Javascript propres côté client depuis quelques années. Ca a pris un temps fou de trial / error pour gommer petit à petit tous les aspects guedin de la techno et obtenir un socle utilisable. </p>
<p>Un autre truc : personne ne s&#8217;est mis d&#8217;accord sur l&#8217;utilisation des objets : prototypage, simulation d&#8217;héritage, instanciation ou pas, composition uniquement ? En tout cas vous devez en choisir un, et ne pas le merder.</p>
<p>Au fait, vous avez déjà essayé d&#8217;expliquer le prototypage à quelqu&#8217;un ? Bonne chance !</p>
<h2>Non seulement c&#8217;est du typage faible, mais en plus c&#8217;est du typage con</h2>
<p>J&#8217;ouvre Firefox, je tape:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;</span> <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span> + <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span> // Ceci n<span style="color: #483d8b;">'est effectivement PAS un nombre
NaN
&gt; {} + [] // logique IMPARABLE
0
&gt; [] + {} // fuck la commutativité
&quot;[object Object]&quot;</span></pre></td></tr></table></div>

<p>Et après on va me dire que c&#8217;est juste l&#8217;API DOM qui est incohérente selon les implémentations. Mais non, tenez, même ça c&#8217;est cohérent. Je fais la même chose sous Node 0.8 (sur lequel j&#8217;ai par ailleurs <a href="http://sametmax.com/non-nodejs-nest-pas-mature/">déjà râlé</a>):</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;</span> <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span> + <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
<span style="color: #483d8b;">'[object Object]'</span></pre></td></tr></table></div>

<p>Enfin quelle implémentation ? Node original ? <a href="http://www.infoworld.com/article/2854642/javascript/nodejs-gains-a-new-fork-much-to-joyents-dismay.html">Le fork Io.js</a> ? Ou <a href="https://github.com/jasnell/node.js-convergence">le fork qui doit merger les deux</a> ?</p>
<p>On pourrait continuer longtemps avec ces saloperies, mais je finis sur un exemple qui résume bien tout le merdier :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;</span> <span style="color: #483d8b;">'5'</span> + <span style="color: #ff4500;">3</span>
<span style="color: #483d8b;">'53'</span>
<span style="color: #66cc66;">&gt;</span> <span style="color: #483d8b;">'5'</span> - <span style="color: #ff4500;">3</span>
<span style="color: #ff4500;">2</span>
<span style="color: #66cc66;">&gt;</span> <span style="color: #483d8b;">&quot;Vous en étiez à... peau de couilles je crois ?&quot;</span> + <span style="color: #ff4500;">1</span>
<span style="color: #483d8b;">'Vous en étiez à... peau de couilles je crois ?1'</span>
<span style="color: #66cc66;">&gt;</span> <span style="color: #483d8b;">&quot;Vous en étiez à... peau de couilles je crois ?&quot;</span> - <span style="color: #ff4500;">1</span>
NaN</pre></td></tr></table></div>

<p>Et vous pouvez toujours vous dire que si vous faites attention, vous n&#8217;aurez pas de problème, mais ça a des répercussions sur TOUT le langage, dans les recoins les plus vicieux :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;</span> Math.<span style="color: #008000;">min</span><span style="color: black;">&#40;</span>null<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1234</span><span style="color: black;">&#41;</span>
<span style="color: #ff4500;">0</span>
<span style="color: #66cc66;">&gt;</span> Math.<span style="color: #008000;">min</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'null'</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1234</span><span style="color: black;">&#41;</span>
NaN
<span style="color: #66cc66;">&gt;</span> Math.<span style="color: #008000;">min</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'1'</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1234</span><span style="color: black;">&#41;</span>
<span style="color: #ff4500;">1</span></pre></td></tr></table></div>

<h2>L&#8217;élégance d&#8217;un chameau bourré à la villageoise</h2>
<h3>On se déchaîne</h3>
<p>Ruby :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;">coucou = <span style="color:#996600;">&quot;&quot;</span><span style="color:#996600;">&quot;Ceci est une looooooooooooooooooooooooooooooooooooooooongue chaine !
Sur plusieurs lignes !
Et une autre !
Et une autre !
J'adore les sauts de ligne, c'est tellement lisible !!!
&quot;</span><span style="color:#996600;">&quot;&quot;</span>
<span style="color:#CC0066; font-weight:bold;">puts</span> coucou</pre></td></tr></table></div>

<p>Python :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;">variable <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">&quot;foo&quot;</span>
coucou <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">&quot;&quot;&quot;Ceci est une looooooooooooooooooooooooooooooooooooooooongue chaine !
Sur plusieurs lignes !
Et une autre !
Et une autre !
J'adore les sauts de ligne, c'est tellement lisible !!!
Et en prime voila une variable : %s !
&quot;&quot;&quot;</span> % variable
<span style="color: #ff7700;font-weight:bold;">print</span> coucou</pre></td></tr></table></div>

<p>Javascript :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> variable <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;foo&quot;</span><span style="color: #339933;">;</span>
<span style="color: #000066; font-weight: bold;">var</span> coucou <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;Ceci est une looooooooooooooooooooooooooooooooooooooooongue chaine !<span style="color: #000099; font-weight: bold;">\</span>
Sur plusieurs lignes !<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\</span>
Et une autre !<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\</span>
Et une autre !<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\</span>
J'adore les sauts de ligne, c'est tellement lisible !!!<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\</span>
Et en prime voila une variable : &quot;</span> <span style="color: #339933;">+</span> variable <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot; !&quot;</span>
console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span>coucou<span style="color: #009900;">&#41;</span></pre></td></tr></table></div>

<p>C&#8217;est vrai que manipuler des chaînes, c&#8217;est pas la PUTAIN D&#8217;OPERATION INFORMATIQUE LA PLUS COURANTE DANS LE PUTAIN DE MONDE. PUTAIN.</p>
<h3>Séquence émotion</h3>
<p>Une autre opération qu&#8217;on fait 100 fois par jour : créer des séquences (fichiers, settings, données en base, etc), en récupérer une partie, itérer dessus, les transformer, etc.*</p>
<p>Soit la liste :</p>
<pre>l = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</pre>
<p>Récupérer les carrés des nombres paires de la moité supérieure de la liste ?</p>
<p>Python :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;">l <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span>x*x <span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> l<span style="color: black;">&#91;</span><span style="color: #ff4500;">5</span>:<span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">if</span> x %<span style="color: #ff4500;">2</span> <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span></pre></td></tr></table></div>

<p>Ruby :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;">l = l<span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#006666;">5</span>..<span style="color:#006666;">10</span><span style="color:#006600; font-weight:bold;">&#93;</span>.<span style="color:#CC0066; font-weight:bold;">select</span><span style="color:#006600; font-weight:bold;">&#123;</span><span style="color:#006600; font-weight:bold;">|</span>x<span style="color:#006600; font-weight:bold;">|</span> x <span style="color:#006600; font-weight:bold;">%</span> <span style="color:#006666;">2</span> == <span style="color:#006666;">0</span> <span style="color:#006600; font-weight:bold;">&#125;</span>.<span style="color:#9900CC;">collect</span><span style="color:#006600; font-weight:bold;">&#123;</span><span style="color:#006600; font-weight:bold;">|</span>x<span style="color:#006600; font-weight:bold;">|</span> x <span style="color:#006600; font-weight:bold;">*</span> x<span style="color:#006600; font-weight:bold;">&#125;</span></pre></td></tr></table></div>

<p>Javascript (Ma que, gracieux comme oune popotamé):</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> new_list <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span>
l.<span style="color: #660066;">splice</span><span style="color: #009900;">&#40;</span><span style="color: #CC0000;">0</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #009900;">&#41;</span>
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> l.<span style="color: #660066;">length</span><span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>l<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span> <span style="color: #339933;">%</span> <span style="color: #CC0000;">2</span> <span style="color: #339933;">==</span> <span style="color: #CC0000;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        new_list.<span style="color: #660066;">push</span><span style="color: #009900;">&#40;</span>l<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span> <span style="color: #339933;">*</span> l<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
l <span style="color: #339933;">=</span> new_list<span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>Et encore, je suis cool, je mets un code JS qui utilise <code>l.length</code> directement dans la boucle et pas de variable pour <code>l[i]</code>.</p>
<p><code>Array.map</code> arrive avec JS 1.6 et les arrays comprehensions avec la 1.7, que vous pourrez utiliser sur tous les navigateurs d&#8217;<a href="http://stackoverflow.com/questions/2714694/which-javascript-versions-does-ie8-supports">ici 2056</a>. Ou alors juste sur le serveur, mais si c&#8217;est pour pas avoir le même code sur le client ou le serveur, pourquoi ne pas utiliser un langage qui possède tout ça et bien plus depuis 5 ans ?</p>
<h3>DéLire</h3>
<p>Lire un fichier ligne à ligne ? Une opération vraiment rare et compliquée&#8230;</p>
<p>Python :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">for</span> line <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'fichier'</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> line</pre></td></tr></table></div>

<p>Ruby :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC00FF; font-weight:bold;">File</span>.<span style="color:#9900CC;">foreach</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">'/etc/fstab'</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span><span style="color:#006600; font-weight:bold;">|</span>x<span style="color:#006600; font-weight:bold;">|</span> <span style="color:#CC0066; font-weight:bold;">print</span> x <span style="color:#006600; font-weight:bold;">&#125;</span></pre></td></tr></table></div>

<p>En JS&#8230; Heu, enfin avec NodeJS:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> fs  <span style="color: #339933;">=</span> require<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;fs&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
fs.<span style="color: #660066;">readFileSync</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'./input.txt'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">toString</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">split</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">forEach</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>line<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span>line<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>Ah oui, il faut installer un <a href="http://stackoverflow.com/questions/14551608/cant-find-encodings-for-node-js">MODULE SUPPLEMENTAIRE</a> pour gérer tout autre encoding que les variantes d&#8217;unicode.</p>
<h3>PASramètre</h3>
<p>Comment on fait ça en Javascript ?</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> fonction<span style="color: black;">&#40;</span>param<span style="color: #66cc66;">,</span> param2<span style="color: #66cc66;">=</span><span style="color: #483d8b;">&quot;valeur&quot;</span><span style="color: #66cc66;">,</span> **params<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> param<span style="color: #66cc66;">,</span> param2<span style="color: #66cc66;">,</span> params
&nbsp;
fonction<span style="color: black;">&#40;</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> autre_valeur<span style="color: #66cc66;">=</span><span style="color: #ff4500;">2</span><span style="color: black;">&#41;</span></pre></td></tr></table></div>

<p>On fait pas. Du coup on se retourne vers la bonne vieille technique de &#8220;j&#8217;attends un objet en paramètre et je le fusionne avec un autre objet qui a mes valeurs par défaut&#8221;.</p>
<div id="attachment_9756" style="width: 410px" class="wp-caption aligncenter"><a href="http://sametmax.com/wp-content/uploads/2014/03/Dfy90EX.jpg" class="grouped_elements" rel="tc-fancybox-group9752"><img src="http://sametmax.com/wp-content/uploads/2014/03/Dfy90EX.jpg" alt="Photo d&#039;un homme avec un chapeau giraffe" title="Dev JS qui essaye de comprendre pourquoi le callback anonyme de sa promise n&#039;a pas rebindé correctement son this dans une closure . Oui cette phrase a parfaitement du sens en Javascript." width="400" height="439" class="size-full wp-image-9756" /></a><p class="wp-caption-text">Dev JS qui essaye de comprendre pourquoi le callback anonyme de sa promise n&#039;a pas rebindé correctement son this dans une closure . Oui cette phrase a parfaitement du sens en Javascript.</p></div>
<h2>Javascript ça marche partout !</h2>
<p><del datetime="2014-03-13T22:22:12+00:00">Node ne tourne pas sous Windows, excluant de sa pool d&#8217;apprentissage les 3/4 des foyers de la planète. Parce que je sais pas pour vous, mais moi, quand j&#8217;ai appris la programmation, j&#8217;ai pris le premier ordinateur qui m&#8217;est  tombé sous la main et j&#8217;ai essayé. Parce que je n&#8217;y connaissais rien. Je ne me suis pas soucié de l&#8217;OS.</del></p>
<p><em>On me signale dans la comemntoreillette que j&#8217;ai dis une connerie.</em></p>
<p>Ah oui, et sans node, le Javascript on en fait quoi déjà ? Des Interface graphiques poussées comme avec QT ? Du calcul scientifique de haut niveau comme avec Scipy ? Du sys admin windows comme avec pywin32 ?</p>
<p>Ah non, en fait, on fait rien.</p>
<h2>Deux structures de données devraient suffire à n&#8217;importe qui</h2>
<p>Donc, vous avez les arrays. Et les objets. Et pour le reste, vous vous démerdez.</p>
<p>Des sets ? Des heaps ? Des tuples ? Des views ? C&#8217;est pour les petites bites tout ça. C&#8217;est tellement plus rigolo de réimplémenter la roue.</p>
<p>D&#8217;ailleurs, même les roues fournies sont carrées, juste au cas où vous vous sentiez trop à l&#8217;aise.</p>
<p>Qui se souvient des params de splice pour le slicing ? Vous, moi ? Nope. Jamais. C&#8217;est con parce que c&#8217;est AUSSI la seule manière d&#8217;enlever un élément au milieu d&#8217;un array sans laisser une case vide. On allait pas coder ça, ça sert pas souvent&#8230;</p>
<p>En parlant de trucs biens faits, mélanger une structure de données qui fait objet ET hashmap, quelle bonne idée ! Encore plus con que de mélanger les listes et le mapping en PHP. Tu veux récupérer les attributs de ton objet ? Paye ta boucle (et fait gaffe à la chaine de prototypage). Tu veux updater ton dico avec le contenu d&#8217;un autre. Écris ta méthode toi-même, c&#8217;est un truc dont on a pas besoin IRL.</p>
<p>Et tout est comme ça. Encore une fois, le langage tout seul te laisse à poil, il y a toujours un machin à recoder à la main à moins d&#8217;installer une (voir 2) libs pour avoir ne serait-ce que les trucs de base : faire un hash md5, générer un ID unique, filtrer des doublons sur un objet qui n&#8217;est pas une chaîne, et mon grand favoris, la division entière.</p>
<p>Ouai. La division entière n&#8217;est pas incluse de base en JS.</p>
<p>Or le JS, c&#8217;est typiquement le truc pour lequel on veut charger le MOINS DE CHOSES POSSIBLES pour que ta page s&#8217;affiche vite. Du coup on passe notre temps à créer des solutions de contournement avec de la mignification, des CDN qui aident à optimiser l&#8217;usage du cache, et tout le bordel.</p>
<h2>Ah mais il faut utiliser coffeescript !</h2>
<p>Oui donc pas Javascript. Point made.</p>
<p>Le langage est tellement à chier qu&#8217;on a inventé un autre langage pour le générer et pas avoir à s&#8217;en soucier. Et ensuite, on a inventé des libs pour automatiquement faire cette compilation pour le dev, et les outils pour le déployer. Et on a inséré dans les navigateurs une nouvelle technologie : le source map, parce que sinon c&#8217;était trop chiant à débugger. Qu&#8217;il faut aussi déployer pendant le dev. Et former les gens dessus.</p>
<p>Vous trouvez ça normal ?</p>
<p>Vous trouvez que c&#8217;est le signe d&#8217;un BON langage ?</p>
<h2>Ouai mais ça fait un seul langage côté server et client</h2>
<p>Oui, c&#8217;est pour ça que les gens s&#8217;y mettent. Encore une fois, ça n&#8217;a rien à voir avec les qualités de Javascript. Ca reste de la merde en boîte, mais de la merde unifiée.</p>
<p>Et encore, car si on a bien le même langage, on est loin d&#8217;avoir le même code. Le code serveur et le code client est, sauf dans les frameworks avancés comme météorjs, très peu partagé au final. Surtout que vous n&#8217;avez PAS la même version du moteur Javascript côté serveur et côté client.</p>
<p>Les libs externes bien conçues marcherons de la même façon par contre, ce qui est un avantage.</p>
<p>Encore une fois, la question n&#8217;est pas &#8220;est-ce que les gens doivent utiliser Javascript ?&#8221; La réponse à cette question est oui. Pas le choix.</p>
<p>Mais on ne l&#8217;utilise pas parce que c&#8217;est un bon langage. On l&#8217;utilise parce que c&#8217;est le status quo. Qui est tout pérave.</p>
<h2>Arrête de baver et donne nous ta solution !</h2>
<p>J&#8217;ai pas de solution parce qu&#8217;il n&#8217;y en a pas. C&#8217;est trop tard. Le Javascript et là et on l&#8217;a dans le cul.  D&#8217;où ma frustration. La 1.7 va dans la bonne direction, mais le temps qu&#8217;elle soit adoptée partout&#8230;</p>
<p>Par contre si ce n&#8217;est pas trop demandé, arrêtez de mettre du Javascript partout. Limitez la contamination. Vous n&#8217;avez pas vu &#8220;28 jours plus tard&#8221; ? Il faut isoler le problème avant que la pandémie ne dévore l&#8217;humanité. Il y a des tas d&#8217;alternatives : Python, Ruby, Clojure, Go, Lua, etc.</p>
<p>Si vous faites un langage de scripting embarqué, si vous faites un outils de déploiement, si vous faites un premier binding pour votre outil&#8230; Ne donnez pas la prio à cette bouse. Quand je vois Gnome ou QT adopter le JS pour leur scripting, ça me met dans une rage folle. C&#8217;est de la connerie pure. Bordel, il y a un site appelé <a href="http://www.99-bottles-of-beer.net/">99 bottles of beer</a> avec des milliers de langages. Vous avez le choix !</p>
<p>C&#8217;est bien beau d&#8217;avoir le même langage partout, mais si c&#8217;est pour se trainer un boulet&#8230; Vous ne travaillerez pas plus vite.</p>
<p>D&#8217;ailleurs, vous n&#8217;aurez jamais le même langage partout. Vous aurez toujours à apprendre et utiliser 2 ou 3 langages. C&#8217;est un fait de la vie. Les humains ne parlent pas tous anglais ou chinois. Et les codeurs ne coderont jamais dans un espéranto, fusse-t-il fantastique.</p>
<p>Je sais, je sais, quand on vient du C, Javascript parait si facile, on se dit que c&#8217;est une amélioration de l&#8217;ergonomie au prix de la performance. Mais non, c&#8217;est comme acheter une 2 chevaux pour aller en ville à la place de son tracteur, alors qu&#8217;on vous avait proposé une smart ou une mini pour le même prix.</p>
<p>Par ailleurs, il y a une vie en dehors de la prog Web vous savez.</p>
<h2>Si il n&#8217;y a pas de solution, ferme ta gueule alors</h2>
<p>C&#8217;est mon blog, je fais ce que je veux. Na.</p>
<div id="attachment_9757" style="width: 510px" class="wp-caption aligncenter"><a href="http://sametmax.com/wp-content/uploads/2014/03/aTyyA0D.jpg" class="grouped_elements" rel="tc-fancybox-group9752"><img src="http://sametmax.com/wp-content/uploads/2014/03/aTyyA0D.jpg" alt="Photo d&#039;un homme ayant son aspirateur coincé dans un ascenseur" title="Sam, passant directement du stade de la colère à la dépression dans son dueil de la programmation Web" width="500" height="610" class="size-full wp-image-9757" /></a><p class="wp-caption-text">Sam, passant directement du stade de la colère à la dépression dans son dueil de la programmation Web</p></div>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/un-gros-troll-de-plus-sur-javacscript/feed/</wfw:commentRss>
		<slash:comments>133</slash:comments>
	<enclosure url="http://sametmax.com/wp-content/uploads/2014/03/VUIXl1W.jpg" length="122883" type="image/jpg" />	</item>
	</channel>
</rss>
