<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max &#187; stdlib</title>
	<atom:link href="http://sametmax.com/tag/stdlib/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 10:56:13 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>Requests fait partie de la lib standard ! 3</title>
		<link>http://sametmax.com/requests-fait-partie-de-la-lib-standard/</link>
		<comments>http://sametmax.com/requests-fait-partie-de-la-lib-standard/#comments</comments>
		<pubDate>Thu, 29 May 2014 05:07:29 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Gadgets]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[request]]></category>
		<category><![CDATA[stdlib]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=10360</guid>
		<description><![CDATA[Enfin, presque :)]]></description>
				<content:encoded><![CDATA[<p>Enfin, presque :)</p>
<p>J&#8217;étais en train d&#8217;installer en vieux requirements.txt quand soudain :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;">  File <span style="color: #483d8b;">&quot;
&nbsp;
/usr/lib/python2.7/dist-packages/pip/download.py&quot;</span><span style="color: #66cc66;">,</span> line <span style="color: #ff4500;">23</span><span style="color: #66cc66;">,</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #66cc66;">&lt;</span>module<span style="color: #66cc66;">&gt;</span>
    <span style="color: #ff7700;font-weight:bold;">from</span> requests.<span style="color: black;">adapters</span> <span style="color: #ff7700;font-weight:bold;">import</span> BaseAdapter
<span style="color: #008000;">ImportError</span>: No module named adapters</pre></td></tr></table></div>

<p>Wut ?</p>
<p>Mon erreur était due à une version de requests trop ancienne. J&#8217;upgrade et ça remarche. Mais ça m&#8217;a intrigué :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">⟩ grin <span style="color: #ff0000;">&quot;requests&quot;</span>  <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>lib<span style="color: #000000; font-weight: bold;">/</span>python2.7<span style="color: #000000; font-weight: bold;">/</span>dist-packages<span style="color: #000000; font-weight: bold;">/</span>pip<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>lib<span style="color: #000000; font-weight: bold;">/</span>python2.7<span style="color: #000000; font-weight: bold;">/</span>dist-packages<span style="color: #000000; font-weight: bold;">/</span>pip<span style="color: #000000; font-weight: bold;">/</span>download.py:
   <span style="color: #000000;">22</span> : import requests, six
   <span style="color: #000000;">23</span> : from requests.adapters import BaseAdapter
   <span style="color: #000000;">24</span> : from requests.auth import AuthBase, HTTPBasicAuth
   <span style="color: #000000;">25</span> : from requests.compat import IncompleteRead
   <span style="color: #000000;">26</span> : from requests.exceptions import InvalidURL, ChunkedEncodingError
   <span style="color: #000000;">27</span> : from requests.models import Response
   <span style="color: #000000;">28</span> : from requests.structures import CaseInsensitiveDict
  <span style="color: #000000;">120</span> :         <span style="color: #666666; font-style: italic;"># Store the new username and password to use for future requests</span>
  <span style="color: #000000;">182</span> :         <span style="color: #666666; font-style: italic;"># We only work for requests with a host of localhost</span>
  <span style="color: #000000;">211</span> : class PipSession<span style="color: #7a0874; font-weight: bold;">&#40;</span>requests.Session<span style="color: #7a0874; font-weight: bold;">&#41;</span>:
  <span style="color: #000000;">548</span> :         except requests.HTTPError <span style="color: #c20cb9; font-weight: bold;">as</span> exc:
<span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>lib<span style="color: #000000; font-weight: bold;">/</span>python2.7<span style="color: #000000; font-weight: bold;">/</span>dist-packages<span style="color: #000000; font-weight: bold;">/</span>pip<span style="color: #000000; font-weight: bold;">/</span>index.py:
   <span style="color: #000000;">17</span> : import html5lib, requests, pkg_resources
   <span style="color: #000000;">18</span> : from requests.exceptions import SSLError
   <span style="color: #000000;">80</span> :         <span style="color: #666666; font-style: italic;"># The Session we'll use to make requests</span>
  <span style="color: #000000;">689</span> :         except requests.HTTPError <span style="color: #c20cb9; font-weight: bold;">as</span> exc:
  <span style="color: #000000;">692</span> :         except requests.ConnectionError <span style="color: #c20cb9; font-weight: bold;">as</span> exc:
  <span style="color: #000000;">697</span> :         except requests.Timeout:</pre></td></tr></table></div>

<p>Je regarde le code source github, qui <a href="https://github.com/pypa/pip/blob/develop/pip/download.py">diffère</a> de celui de mon système :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> pip._vendor.<span style="color: black;">requests</span>.<span style="color: black;">adapters</span> <span style="color: #ff7700;font-weight:bold;">import</span> BaseAdapter<span style="color: #66cc66;">,</span> HTTPAdapter
<span style="color: #ff7700;font-weight:bold;">from</span> pip._vendor.<span style="color: black;">requests</span>.<span style="color: black;">auth</span> <span style="color: #ff7700;font-weight:bold;">import</span> AuthBase<span style="color: #66cc66;">,</span> HTTPBasicAuth
<span style="color: #ff7700;font-weight:bold;">from</span> pip._vendor.<span style="color: black;">requests</span>.<span style="color: black;">compat</span> <span style="color: #ff7700;font-weight:bold;">import</span> IncompleteRead
<span style="color: #ff7700;font-weight:bold;">from</span> pip._vendor.<span style="color: black;">requests</span>.<span style="color: #dc143c;">exceptions</span> <span style="color: #ff7700;font-weight:bold;">import</span> ChunkedEncodingError</pre></td></tr></table></div>

<p>Mais ça reste bien requests.</p>
<p>Donc, si vous avez la 3.4, vous avez pip installé, qui maintenant embed requests. Donc Python 3.4 vient forcément avec requests \o/</p>
<p>Si vous supportez uniquement cette plateforme, vous pouvez faire :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">try</span>:
    <span style="color: #ff7700;font-weight:bold;">import</span> requests
<span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">ImportError</span>:
    <span style="color: #ff7700;font-weight:bold;">import</span> pip._vendor.<span style="color: black;">requests</span> <span style="color: #ff7700;font-weight:bold;">as</span> requests</pre></td></tr></table></div>

<p>Et bénéficier de requests sans rien installer.</p>
<p>Tout ça pour ça.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/requests-fait-partie-de-la-lib-standard/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Qu&#8217;est-ce que la bibliothèque standard Python ? 4</title>
		<link>http://sametmax.com/quest-ce-que-la-bibliotheque-standard-python/</link>
		<comments>http://sametmax.com/quest-ce-que-la-bibliotheque-standard-python/#comments</comments>
		<pubDate>Mon, 19 May 2014 09:36:16 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[lib]]></category>
		<category><![CDATA[lib standard]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[stdlib]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=10288</guid>
		<description><![CDATA[La lib standard ou stdlib, on vous en parle partout. Ce tuto vous explique comment faire telle tâche avec la lib standard. Ce README dit qu'il n'y a que la lib standard comme dépendance, c'est génial ! Cet article voudrait que le code X soit intégré dans la lib standard.

Mais au fait, c'est quoi la lib standard ?]]></description>
				<content:encoded><![CDATA[<p>La lib standard ou stdlib, on vous en parle partout. Ce tuto vous explique comment faire telle tâche avec la lib standard. Ce README dit qu&#8217;il n&#8217;y a que la lib standard comme dépendance, c&#8217;est génial ! Cet article voudrait que le code X soit intégré dans la lib standard.</p>
<p>Mais au fait, c&#8217;est quoi la lib standard ?</p>
<p>Et bien c&#8217;est tout simplement l&#8217;ensemble du code qui est disponible si vous avez Python installé sur votre machine. Si un module fait partie de la bibliothèque standard, vous êtes certain que votre programme Python peut toujours l&#8217;utiliser : il n&#8217;y a rien à installer.</p>
<p>Cette lib standard est également intégralement <a href="https://docs.python.org/3/">documentée</a> sur le site de Python, si bien que si vous <a href="https://docs.python.org/3/download.html">téléchargez</a> la doc hors ligne, vous pouvez quasiment dev en totale autonomie. En effet, même si le principe de la lib standard est le même pour tous les langages, en Python, elle est particulièrement intéressante car vraiment <a href="http://sametmax.com/tres-grand-listing-des-libs-standard-partie-les-plus-utiles-en-python/">énorme</a>. Et en plus vous avez <a href="https://github.com/sametmax/miroir-du-blog">le dump de notre blog</a> :)</p>
<p>Le code de la lib standard évolue lentement, contrairement aux libs tierces parties, car elles sont soumises à des règles strictes et la revue de la communauté à travers des documents officiels : <a href="http://legacy.python.org/dev/peps/">les PEP</a>. Le PEP le plus célèbre étant le <a href="http://legacy.python.org/dev/peps/pep-0008/">PEP 8</a>, qui décrit le style recommandé pour du code Python. </p>
<p>De fait le code de la lib standard est un code fiable, sans surprise, mais qui proposera rarement les dernières innovations. Pour reprendre <a href="https://mail.python.org/pipermail/python-dev/2010-February/097865.html">les mots de Guido</a> :</p>
<blockquote><p>Le code de la stdlib a un pied dans la tombe.</p></blockquote>
<p>Car Python garanti la compatibilité ascendante de TOUTE la lib standard pour une version majeure. Ce qui veut dire que si vous utilisez un module de la stdlib écrit pour Python 2.5, il marchera en Python 2.7, et un module pour 3.1 marchera pour la 3.4.</p>
<p>Mais ça veut dire aussi que le module pourrira ici quand plus personne ne l&#8217;utilisera. La preuve en est <a href="https://docs.python.org/2/library/getopt.html">getopt</a>, qui a été remplacé par <a href="https://docs.python.org/2/library/optparse.html">optparse</a>, qui a été remplacé par <a href="https://docs.python.org/dev/library/argparse.html">argparse</a>. Deux générations de libs plus tard, getopt est toujours importable en 2.7, bien que plus personne ne s&#8217;en serve, pour garantir cette compatibilité. Et en fait, on peut dire 5 générations, car <a href="http://sametmax.com/la-plus-belle-maniere-de-parser-les-arguments-de-script-en-python/">nous-même utilisons docopt après prôné clize</a>. Le monde de l&#8217;IT est comique.</p>
<p>Certains systèmes ébrèchent le principe de la lib standard, comme Ubuntu, qui package la lib TK séparément, et donc oblige à installer le paquet <code>python-tk</code> pour avoir le module <a href="https://docs.python.org/3/library/tkinter.html">tkinter</a>, normalement inclus dans la lib standard. Ce comportement est heureusement assez rare.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/quest-ce-que-la-bibliotheque-standard-python/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
	<enclosure url="http://sametmax.com/wp-content/uploads/2014/05/20070526081818CaptainobviousChooseOption.jpg" length="51785" type="image/jpg" />	</item>
	</channel>
</rss>
