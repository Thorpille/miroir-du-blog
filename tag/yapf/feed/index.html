<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max &#187; yapf</title>
	<atom:link href="http://sametmax.com/tag/yapf/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 10:56:13 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>Reformater son code avec yapf 16</title>
		<link>http://sametmax.com/reformater-son-code-avec-yapf/</link>
		<comments>http://sametmax.com/reformater-son-code-avec-yapf/#comments</comments>
		<pubDate>Wed, 08 Apr 2015 08:47:21 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[pep8]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[yapf]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=16039</guid>
		<description><![CDATA[En ce moment un outil fait son petit buzz sur hackernews, mais je n'en avais pas parlé jusqu'ici car il n'était pas encore uploadé sur pypi. C'est chose faite]]></description>
				<content:encoded><![CDATA[<p>En ce moment un outil fait son petit buzz sur hackernews, mais je n&#8217;en avais pas parlé jusqu&#8217;ici car il n&#8217;était pas encore uploadé sur pypi. C&#8217;est chose faite :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">pip <span style="color: #c20cb9; font-weight: bold;">install</span> yapf</pre></td></tr></table></div>

<p>Yapf est un reformateur de code, vous lui filez un fichier (ou un dossier à parcourir récursivement), et il reformate le code pour qu&#8217;il soit plus lisible, et plus proche du <a href="http://sametmax.com/le-pep8-en-resume/">PEP8</a>.</p>
<p>On en parle en ce moment car le code appartient à Google et que le projet est comparé à <a href="http://golang.org/cmd/gofmt/">gofmt</a> le formatteur intégré à la stack Goland dont les Golois nous ventent les mérites avec moult regards condescendant vers tous les autres langages depuis qu&#8217;ils l&#8217;ont.</p>
<p>Yapf est loin des features de gofmt pour le moment, mais c&#8217;est cool d&#8217;avoir un point de départ, car c&#8217;est vrai que ça manquait. Non pas que ça n&#8217;existait pas déjà, mais les tentatives précédentes n&#8217;avaient soulevé aucun enthousiasme, et donc pas beaucoup de contrib. Il a fallut, comme d&#8217;hab, qu&#8217;un concours de celui qui a la plus grosse motive tout ça à coup d&#8217;éGOs, si vous voyez ce que je veux dire. On a bien eu pip intégré à Python parce que les codeurs JS se foutaient de notre gueule avec npm installé par défaut. </p>
<p>Bref, pour le moment yapf s&#8217;occupe surtout des espaces et de l&#8217;indentation, mais il le fait bien.</p>
<p>Soit le programme suivant :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">__future__</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: black;">&#40;</span>unicode_literals<span style="color: #66cc66;">,</span> absolute_import<span style="color: #66cc66;">,</span> print_function<span style="color: #66cc66;">,</span>
    division<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> yolo<span style="color: black;">&#40;</span>a<span style="color: #66cc66;">,</span>b <span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span> :
        <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: black;">&#40;</span> <span style="color: #483d8b;">&quot;Ca fait mal aux yeux hein ?&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
        a<span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">if</span> a<span style="color: #66cc66;">==</span>b :
            <span style="color: #ff7700;font-weight:bold;">return</span><span style="color: black;">&#40;</span>b<span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">True</span> <span style="color: #ff7700;font-weight:bold;">and</span>      <span style="color: #008000;">False</span>:<span style="color: #808080; font-style: italic;"># c'est chiant n'est-il pas ?</span>
          <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #483d8b;">&quot;bob&quot;</span>
&nbsp;
&nbsp;
&nbsp;
    WOLOLO <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span>
        <span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
        <span style="color: black;">&#91;</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">6</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">7</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
        <span style="color: black;">&#91;</span><span style="color: #ff4500;">9</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">11</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">12</span><span style="color: black;">&#93;</span>
    <span style="color: black;">&#125;</span>
&nbsp;
    OYOOYO <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span>
        <span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
        <span style="color: black;">&#91;</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">6</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">7</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
        <span style="color: black;">&#91;</span><span style="color: #ff4500;">9</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">11</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">12</span><span style="color: black;">&#93;</span>
    <span style="color: black;">&#125;</span>  <span style="color: #808080; font-style: italic;"># yapf: disable</span></pre></td></tr></table></div>

<p>Un petit coup de :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">yapf programme.py</pre></td></tr></table></div>

<p>Et pouf, il vous sort :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">__future__</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: black;">&#40;</span>unicode_literals<span style="color: #66cc66;">,</span> absolute_import<span style="color: #66cc66;">,</span> print_function<span style="color: #66cc66;">,</span>
                        division<span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> yolo<span style="color: black;">&#40;</span>a<span style="color: #66cc66;">,</span> b<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
  <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Ca fait mal aux yeux hein ?&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
  a <span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
&nbsp;
  <span style="color: #ff7700;font-weight:bold;">if</span> a <span style="color: #66cc66;">==</span> b:
    <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#40;</span>b<span style="color: black;">&#41;</span>
&nbsp;
  <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">True</span> <span style="color: #ff7700;font-weight:bold;">and</span> <span style="color: #008000;">False</span>:  <span style="color: #808080; font-style: italic;"># c'est chiant n'est-il pas ?</span>
    <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #483d8b;">&quot;bob&quot;</span>
&nbsp;
&nbsp;
WOLOLO <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">6</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">7</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span><span style="color: #ff4500;">9</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">11</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">12</span><span style="color: black;">&#93;</span><span style="color: black;">&#125;</span>
&nbsp;
OYOOYO <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span>
    <span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
    <span style="color: black;">&#91;</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">6</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">7</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
    <span style="color: black;">&#91;</span><span style="color: #ff4500;">9</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">11</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">12</span><span style="color: black;">&#93;</span>
<span style="color: black;">&#125;</span>  <span style="color: #808080; font-style: italic;"># yapf: disable</span></pre></td></tr></table></div>

<p>Yapf existe en ligne de commande, mais peut être utilisé comme une lib. En prime, avec <code>-i</code>, il peut modifier le fichier sur place au lieu de juste faire l&#8217;output dans le terminal.</p>
<p>J&#8217;espère vraiment qu&#8217;il va gagner en traction histoire de pouvoir mettre ça dans tous mes hook git et oublier une bonne fois pour toute les guéguerres de formatage, on a d&#8217;autres chattes à coder.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/reformater-son-code-avec-yapf/feed/</wfw:commentRss>
		<slash:comments>16</slash:comments>
	<enclosure url="http://sametmax.com/wp-content/uploads/2015/04/jz6TReG.jpg" length="569329" type="image/jpg" />	</item>
	</channel>
</rss>
