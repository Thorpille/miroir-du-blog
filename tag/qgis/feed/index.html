<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max &#187; qgis</title>
	<atom:link href="http://sametmax.com/tag/qgis/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 10:56:13 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>Comment installer des libs Python externes dans QGIS ? 6</title>
		<link>http://sametmax.com/comment-installer-des-libs-externes-dans-qgis/</link>
		<comments>http://sametmax.com/comment-installer-des-libs-externes-dans-qgis/#comments</comments>
		<pubDate>Tue, 31 Mar 2015 09:16:35 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[pip]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[qgis]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=16016</guid>
		<description><![CDATA[QGIS vient avec son Python perso, séparé du reste du système. Du coup si vous faites un pip install une_lib, elle s&#8217;installera sur le Python du système, et non de QGIS. Si vous voulez utiliser requests ou arrow pour vos scripts, c&#8217;est relou, il faut les télécharger, les extraire, et les mettre à la main [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>QGIS vient avec son Python perso, séparé du reste du système. Du coup si vous faites un <code>pip install une_lib</code>, elle s&#8217;installera sur le Python du système, et non de QGIS. Si vous voulez utiliser <code>requests</code> ou <code>arrow</code> pour vos scripts, c&#8217;est relou, il faut les télécharger, les extraire, et les mettre à la main sur le <code>PYTHONPATH</code>.</p>
<p>Il est pourtant possible de manipuler interpréteur Python de QGIS, c&#8217;est juste que ça saute pas aux yeux :) Ca va nous permettre d&#8217;installer pip (si ça ne vous parle par, on a <a href="http://sametmax.com/votre-python-aime-les-pip/">un article</a> pour ça), à la mano, à l&#8217;ancienne, comme un homme qui fait ses cartes à la main sur des calques avec des lames de rasoirs en guise de gomme.</p>
<p>D&#8217;abord, trouver où il est niché. Sur ma machine, il est dans &#8220;C:\Program Files\QGIS Wien\bin\python.exe&#8221;.</p>
<p>Si vous le démarrer, vous noterez qu&#8217;il plante en prétextant qu&#8217;il ne trouve pas le module <code>site</code>. Il faut donc lui dire où sont installées les libs en faisant:</p>
<p><code>set PYTHONHOME=chemin vers l'installation de Python de QGIS.</code></p>
<p>Chez moi ça donne :</p>
<p><code>set PYTHONHOME=C:\Program Files\QGIS Wien\apps\Python27\</code></p>
<p>Ainsi vous pouvez lancer <code>C:\Program Files\QGIS Wien\bin\python.exe</code> dans la console et obtenir le shell Python de QGIS.</p>
<p>Ensuite, il faut télécharger <a href="https://bootstrap.pypa.io/ez_setup.py">ez_tools.py</a> qui va nous servir à installer setuptools dans le Python voulu. C&#8217;est un script Python (meta meta ! \^O^\), qu&#8217;on lance avec l&#8217;interpréteur qui nous intéresse, dans mon cas:</p>
<p><code>"C:\Program Files\QGIS Wien\bin\python.exe" C:\Users\sam\Downloads\ez_setup.py</code></p>
<p>Il va télécharger depuis internet tout un tas de trucs, et installer tout un tas de machins. Parfois, ça va râler parce que vous n&#8217;avez pas les droits. Dans ce cas, lancez la console en mode admin, et faites un <code>cd</code> sur le bureau avant de lancer la commande.</p>
<p>Bien, on a setuptools, qui a du rajouter la commande <code>easy_install</code>. Chez moi elle est dans &#8220;C:\Program Files\QGIS Wien\apps\Python27\Scripts&#8221;.</p>
<p>On va s&#8217;en servir pour installer <code>pip</code>.</p>
<p>Que de bordel !</p>
<p><code>C:\Program Files\QGIS Wien\apps\Python27\Scripts\easy_install.exe pip </code></p>
<p>Ca remouline, ça re-dl.</p>
<p>Ce qui va nous mettre la comamnde <code>pip</code> dans le même dossier qu&#8217;<code>easy_install</code>.</p>
<p>Et pouf, en utilisant le chemin canonique, on peut utiliser <code>pip</code> :</p>
<p><code>C:\Program Files\QGIS Wien\apps\Python27\Scripts\pip install ipython pyrealine</code></p>
<p>Faites attention néanmoins, utiliser cet interpréteur hors de QGIS ne vous donne pas accès à des objets comme <code>iface</code> qui n&#8217;existent que quand l&#8217;UI de QGIS est chargée. Ca reste pratique pour installer des libs externes, faire des tests python rapides dans le même environnement que QGIS sans lancer tout le bouzin et se la péter face à ses collègues géomaticiens qui ont l&#8217;air d&#8217;une poule avec un canif devant une console.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/comment-installer-des-libs-externes-dans-qgis/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
	<enclosure url="http://sametmax.com/wp-content/uploads/2015/03/sOgMR3u.jpg" length="380787" type="image/jpg" />	</item>
	</channel>
</rss>
