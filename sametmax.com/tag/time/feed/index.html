<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max: Python, Django, Git et du cul &#187; time</title>
	<atom:link href="http://sametmax.com/tag/time/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 14:20:37 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2F&amp;language=en_US&amp;category=text&amp;title=Sam+%26amp%3B+Max%3A+Python%2C+Django%2C+Git+et+du+cul&amp;description=Deux+d%C3%A9veloppeurs+en+vadrouille+qui+se+sortent+les+doigts+du+code&amp;tags=blog" type="text/html" />
		<item>
		<title>Sérialiser et parser une date en Python: formats de strftime/strptime et timestamps</title>
		<link>http://sametmax.com/serialiser-et-parser-une-date-en-python-formats-de-strftimestrptime-et-timestamps/</link>
		<comments>http://sametmax.com/serialiser-et-parser-une-date-en-python-formats-de-strftimestrptime-et-timestamps/#comments</comments>
		<pubDate>Mon, 23 Jul 2012 12:00:22 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[date]]></category>
		<category><![CDATA[datetime]]></category>
		<category><![CDATA[parsing]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[time]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=1272</guid>
		<description><![CDATA[Ça fait 10 ans que j'en fais, et je ne me souviens jamais des lettres à utiliser pour les formats. Pourtant j'utilise tout le temps le <strong>même</strong> format.]]></description>
			<content:encoded><![CDATA[<p>Ça fait 10 ans que j&#8217;en fais, et je ne me souviens jamais des lettres à utiliser pour les formats. Pourtant j&#8217;utilise tout le temps le <strong>même</strong> format: celui de MySQl et JSON par défaut, avec en plus les microsecondes, car l&#8217;odre alphanumérique de ce format est le même que l&#8217;ordre chronologique, ce qui rend son traitement facile.</p>
<p>Je le met ici pour l&#8217;avoir toujours sous la main. Marre de chercher si truc est en minuscule, et marchin en majuscule. Je me fais baiser à chaque fois.</p>
<p>Sérialiser une date pour avoir: année, mois, jour, heure, minute, seconde, microsecondes :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">datetime</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #dc143c;">datetime</span>.<span style="color: #dc143c;">datetime</span>.<span style="color: black;">now</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">strftime</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'%Y-%m-%d %H:%M:%S.%f'</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'2012-07-22 16:19:00.539570'</span></pre></div></div>

<p>A l&#8217;inverse, parser une date:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #dc143c;">datetime</span>.<span style="color: #dc143c;">datetime</span>.<span style="color: black;">strptime</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'2012-07-22 16:19:00.539570'</span>, <span style="color: #483d8b;">'%Y-%m-%d %H:%M:%S.%f'</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #dc143c;">datetime</span>.<span style="color: #dc143c;">datetime</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">2012</span>, <span style="color: #ff4500;">7</span>, <span style="color: #ff4500;">22</span>, <span style="color: #ff4500;">16</span>, <span style="color: #ff4500;">19</span>, <span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">539570</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Tous les formats sont listés <a href="http://docs.python.org/library/datetime.html?highlight=strftime#strftime-and-strptime-behavior">ici</a>.</p>
<p>Et tant qu&#8217;on y est, le snippet de manipulation de timestamp (qui pour le fun, n&#8217;est pas par défaut dans le module datetime):</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">calendar</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #dc143c;">calendar</span>.<span style="color: black;">timegm</span><span style="color: black;">&#40;</span>d.<span style="color: black;">utctimetuple</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># d'un objet date vers un timestamp</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #ff4500;">1342973940</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #dc143c;">datetime</span>.<span style="color: #dc143c;">datetime</span>.<span style="color: black;">fromtimestamp</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">1342973940</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># et l'inverse</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #dc143c;">datetime</span>.<span style="color: #dc143c;">datetime</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">2012</span>, <span style="color: #ff4500;">7</span>, <span style="color: #ff4500;">22</span>, <span style="color: #ff4500;">18</span>, <span style="color: #ff4500;">19</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Le timestamp est un timestamp basé sur une epoch of 1970 et un format POSIX, <a href="http://stackoverflow.com/a/2582158/9951">avec toute ce que ça implique</a>, et notamment le fait qu&#8217;on perd les microseconde.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=1272&amp;md5=487937b134bc7dfdf98e65e3c4021d57" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/serialiser-et-parser-une-date-en-python-formats-de-strftimestrptime-et-timestamps/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fserialiser-et-parser-une-date-en-python-formats-de-strftimestrptime-et-timestamps%2F&amp;language=en_GB&amp;category=text&amp;title=S%C3%A9rialiser+et+parser+une+date+en+Python%3A+formats+de+strftime%2Fstrptime+et+timestamps&amp;description=%C3%87a+fait+10+ans+que+j%26%238217%3Ben+fais%2C+et+je+ne+me+souviens+jamais+des+lettres+%C3%A0+utiliser+pour+les+formats.+Pourtant+j%26%238217%3Butilise+tout+le+temps+le+m%C3%AAme+format%3A+celui+de...&amp;tags=date%2Cdatetime%2Cparsing%2Cpython%2Ctime%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/07/illusiontimeesp1.jpg" length="17560" type="image/jpg" />	</item>
	</channel>
</rss>
