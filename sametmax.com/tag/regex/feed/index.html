<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max: Python, Django, Git et du cul &#187; regex</title>
	<atom:link href="http://sametmax.com/tag/regex/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 14:20:37 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2F&amp;language=en_US&amp;category=text&amp;title=Sam+%26amp%3B+Max%3A+Python%2C+Django%2C+Git+et+du+cul&amp;description=Deux+d%C3%A9veloppeurs+en+vadrouille+qui+se+sortent+les+doigts+du+code&amp;tags=blog" type="text/html" />
		<item>
		<title>Les expressions rationnelles en Python, parfois overkill</title>
		<link>http://sametmax.com/les-expressions-rationnelles-en-python-parfois-overkill/</link>
		<comments>http://sametmax.com/les-expressions-rationnelles-en-python-parfois-overkill/#comments</comments>
		<pubDate>Wed, 07 Aug 2013 11:40:11 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[regex]]></category>
		<category><![CDATA[string]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=7042</guid>
		<description><![CDATA[J'adore les regex, et d'ailleurs il faudra que je fasse une série d'articles sur le sujet, un peu comme le guide de la POO.

Mais dans un langage comme Python, il y a de nombreuses solutions à mettre en oeuvre avant d'utiliser les regex.]]></description>
			<content:encoded><![CDATA[<p>J&#8217;adore les regex, et d&#8217;ailleurs il faudra que je fasse une série d&#8217;articles sur le sujet, un peu comme le guide de la POO.</p>
<p>Mais dans un langage comme Python, il y a de nombreuses solutions à mettre en oeuvre avant d&#8217;utiliser les regex.</p>
<p>Pour vérifier si une chaîne est dans une autre, utilisez <code>in</code> :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'a'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #483d8b;">'chat'</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'a'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #483d8b;">'chien'</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'a'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #483d8b;">'CHAT'</span>.<span style="color: black;">lower</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># ignorer la casse</span>
<span style="color: #008000;">True</span></pre></div></div>

<p>Pour savoir si un chaîne est au début ou à la fin, utilisez <code>startswith()</code> et <code>endswith()</code> :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'achat'</span>.<span style="color: black;">startswith</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'a'</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'chat'</span>.<span style="color: black;">startswith</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'a'</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'acheta'</span>.<span style="color: black;">endswith</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'a'</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span></pre></div></div>

<p>Pour savoir si la chaîne est d&#8217;un type particulier, utiliser les méthodes <code>is*</code> :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'555'</span>.<span style="color: black;">isdigit</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">''</span>.<span style="color: black;">isdigit</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'⑦'</span>.<span style="color: black;">isdigit</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'444'</span>.<span style="color: black;">isdecimal</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'444.55'</span>.<span style="color: black;">isdecimal</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;</span> <span style="color: #483d8b;">'⑦'</span>.<span style="color: black;">isdecimal</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'879fds'</span>.<span style="color: black;">isalpha</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'fsdqfsqd'</span>.<span style="color: black;">isalpha</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'fsdqfsqd'</span>.<span style="color: black;">islower</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'fsdqFFsqd'</span>.<span style="color: black;">islower</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'879fds'</span>.<span style="color: black;">isalnum</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">'879fds-'</span>.<span style="color: black;">isalnum</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">' <span style="color: #000099; font-weight: bold;">\t</span><span style="color: #000099; font-weight: bold;">\n</span>'</span>.<span style="color: black;">isspace</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">True</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">' <span style="color: #000099; font-weight: bold;">\t</span><span style="color: #000099; font-weight: bold;">\n</span> fdsfd'</span>.<span style="color: black;">isspace</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #008000;">False</span></pre></div></div>

<p>Si vous voulez manipuler la chaîne pour en extraire une partie, utilisez <code>split()</code> (ou <code>rsplit()</code>, <code>lsplit()</code> pour travailler sur la droite ou la gauche de la chaîne) :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> s = <span style="color: #483d8b;">&quot;&quot;&quot;Mais, vous savez, moi je ne crois pas qu'il y ait de bonne ou de mauvaise situation. Moi, si je devais résumer ma vie aujourd'hui avec vous, je dirais que c'est d'abord des rencontres, des gens qui m'ont tendu la main, peut-être à un moment où je ne pouvais pas, où j'étais seul chez moi. Et c'est assez curieux de se dire que les hasards, les rencontres forgent une destinée... Parce que quand on a le goût de la chose, quand on a le goût de la chose bien faite, le beau geste, parfois on ne trouve pas l'interlocuteur en face, je dirais, le miroir qui vous aide à avancer. Alors ce n'est pas mon cas, comme je le disais là, puisque moi au contraire, j'ai pu ; et je dis merci à la vie, je lui dis merci et je chante la vie, je danse la vie... Je ne suis qu'amour ! Et finalement, quand beaucoup de gens aujourd'hui me disent &quot;Mais comment fais-tu pour avoir cette humanité ?&quot;, et bien je leur réponds très simplement, je leur dis que c'est ce goût de l'amour, ce goût donc qui m'a poussé aujourd'hui à entreprendre une construction mécanique, mais demain, qui sait, peut-être simplement à me mettre au service de la communauté, à faire le don... le don de soi.&quot;&quot;&quot;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#91;</span>u<span style="color: #483d8b;">'Mais,'</span>, u<span style="color: #483d8b;">'vous'</span>, u<span style="color: #483d8b;">'savez,'</span>, u<span style="color: #483d8b;">'moi'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'ne'</span>, u<span style="color: #483d8b;">'crois'</span>, u<span style="color: #483d8b;">'pas'</span>, u<span style="color: #483d8b;">&quot;qu'il&quot;</span>, u<span style="color: #483d8b;">'y'</span>, u<span style="color: #483d8b;">'ait'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'bonne'</span>, u<span style="color: #483d8b;">'ou'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'mauvaise'</span>, u<span style="color: #483d8b;">'situation.'</span>, u<span style="color: #483d8b;">'Moi,'</span>, u<span style="color: #483d8b;">'si'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'devais'</span>, u<span style="color: #483d8b;">'r<span style="color: #000099; font-weight: bold;">\x</span>e9sumer'</span>, u<span style="color: #483d8b;">'ma'</span>, u<span style="color: #483d8b;">'vie'</span>, u<span style="color: #483d8b;">&quot;aujourd'hui&quot;</span>, u<span style="color: #483d8b;">'avec'</span>, u<span style="color: #483d8b;">'vous,'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'dirais'</span>, u<span style="color: #483d8b;">'que'</span>, u<span style="color: #483d8b;">&quot;c'est&quot;</span>, u<span style="color: #483d8b;">&quot;d'abord&quot;</span>, u<span style="color: #483d8b;">'des'</span>, u<span style="color: #483d8b;">'rencontres,'</span>, u<span style="color: #483d8b;">'des'</span>, u<span style="color: #483d8b;">'gens'</span>, u<span style="color: #483d8b;">'qui'</span>, u<span style="color: #483d8b;">&quot;m'ont&quot;</span>, u<span style="color: #483d8b;">'tendu'</span>, u<span style="color: #483d8b;">'la'</span>, u<span style="color: #483d8b;">'main,'</span>, u<span style="color: #483d8b;">'peut-<span style="color: #000099; font-weight: bold;">\x</span>eatre'</span>, u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>e0'</span>, u<span style="color: #483d8b;">'un'</span>, u<span style="color: #483d8b;">'moment'</span>, u<span style="color: #483d8b;">'o<span style="color: #000099; font-weight: bold;">\x</span>f9'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'ne'</span>, u<span style="color: #483d8b;">'pouvais'</span>, u<span style="color: #483d8b;">'pas,'</span>, u<span style="color: #483d8b;">'o<span style="color: #000099; font-weight: bold;">\x</span>f9'</span>, u<span style="color: #483d8b;">&quot;j'<span style="color: #000099; font-weight: bold;">\x</span>e9tais&quot;</span>, u<span style="color: #483d8b;">'seul'</span>, u<span style="color: #483d8b;">'chez'</span>, u<span style="color: #483d8b;">'moi.'</span>, u<span style="color: #483d8b;">'Et'</span>, u<span style="color: #483d8b;">&quot;c'est&quot;</span>, u<span style="color: #483d8b;">'assez'</span>, u<span style="color: #483d8b;">'curieux'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'se'</span>, u<span style="color: #483d8b;">'dire'</span>, u<span style="color: #483d8b;">'que'</span>, u<span style="color: #483d8b;">'les'</span>, u<span style="color: #483d8b;">'hasards,'</span>, u<span style="color: #483d8b;">'les'</span>, u<span style="color: #483d8b;">'rencontres'</span>, u<span style="color: #483d8b;">'forgent'</span>, u<span style="color: #483d8b;">'une'</span>, u<span style="color: #483d8b;">'destin<span style="color: #000099; font-weight: bold;">\x</span>e9e...'</span>, u<span style="color: #483d8b;">'Parce'</span>, u<span style="color: #483d8b;">'que'</span>, u<span style="color: #483d8b;">'quand'</span>, u<span style="color: #483d8b;">'on'</span>, u<span style="color: #483d8b;">'a'</span>, u<span style="color: #483d8b;">'le'</span>, u<span style="color: #483d8b;">'go<span style="color: #000099; font-weight: bold;">\x</span>fbt'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'la'</span>, u<span style="color: #483d8b;">'chose,'</span>, u<span style="color: #483d8b;">'quand'</span>, u<span style="color: #483d8b;">'on'</span>, u<span style="color: #483d8b;">'a'</span>, u<span style="color: #483d8b;">'le'</span>, u<span style="color: #483d8b;">'go<span style="color: #000099; font-weight: bold;">\x</span>fbt'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'la'</span>, u<span style="color: #483d8b;">'chose'</span>, u<span style="color: #483d8b;">'bien'</span>, u<span style="color: #483d8b;">'faite,'</span>, u<span style="color: #483d8b;">'le'</span>, u<span style="color: #483d8b;">'beau'</span>, u<span style="color: #483d8b;">'geste,'</span>, u<span style="color: #483d8b;">'parfois'</span>, u<span style="color: #483d8b;">'on'</span>, u<span style="color: #483d8b;">'ne'</span>, u<span style="color: #483d8b;">'trouve'</span>, u<span style="color: #483d8b;">'pas'</span>, u<span style="color: #483d8b;">&quot;l'interlocuteur&quot;</span>, u<span style="color: #483d8b;">'en'</span>, u<span style="color: #483d8b;">'face,'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'dirais,'</span>, u<span style="color: #483d8b;">'le'</span>, u<span style="color: #483d8b;">'miroir'</span>, u<span style="color: #483d8b;">'qui'</span>, u<span style="color: #483d8b;">'vous'</span>, u<span style="color: #483d8b;">'aide'</span>, u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>e0'</span>, u<span style="color: #483d8b;">'avancer.'</span>, u<span style="color: #483d8b;">'Alors'</span>, u<span style="color: #483d8b;">'ce'</span>, u<span style="color: #483d8b;">&quot;n'est&quot;</span>, u<span style="color: #483d8b;">'pas'</span>, u<span style="color: #483d8b;">'mon'</span>, u<span style="color: #483d8b;">'cas,'</span>, u<span style="color: #483d8b;">'comme'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'le'</span>, u<span style="color: #483d8b;">'disais'</span>, u<span style="color: #483d8b;">'l<span style="color: #000099; font-weight: bold;">\x</span>e0,'</span>, u<span style="color: #483d8b;">'puisque'</span>, u<span style="color: #483d8b;">'moi'</span>, u<span style="color: #483d8b;">'au'</span>, u<span style="color: #483d8b;">'contraire,'</span>, u<span style="color: #483d8b;">&quot;j'ai&quot;</span>, u<span style="color: #483d8b;">'pu'</span>, u<span style="color: #483d8b;">';'</span>, u<span style="color: #483d8b;">'et'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'dis'</span>, u<span style="color: #483d8b;">'merci'</span>, u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>e0'</span>, u<span style="color: #483d8b;">'la'</span>, u<span style="color: #483d8b;">'vie,'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'lui'</span>, u<span style="color: #483d8b;">'dis'</span>, u<span style="color: #483d8b;">'merci'</span>, u<span style="color: #483d8b;">'et'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'chante'</span>, u<span style="color: #483d8b;">'la'</span>, u<span style="color: #483d8b;">'vie,'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'danse'</span>, u<span style="color: #483d8b;">'la'</span>, u<span style="color: #483d8b;">'vie...'</span>, u<span style="color: #483d8b;">'Je'</span>, u<span style="color: #483d8b;">'ne'</span>, u<span style="color: #483d8b;">'suis'</span>, u<span style="color: #483d8b;">&quot;qu'amour&quot;</span>, u<span style="color: #483d8b;">'!'</span>, u<span style="color: #483d8b;">'Et'</span>, u<span style="color: #483d8b;">'finalement,'</span>, u<span style="color: #483d8b;">'quand'</span>, u<span style="color: #483d8b;">'beaucoup'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'gens'</span>, u<span style="color: #483d8b;">&quot;aujourd'hui&quot;</span>, u<span style="color: #483d8b;">'me'</span>, u<span style="color: #483d8b;">'disent'</span>, u<span style="color: #483d8b;">'&quot;Mais'</span>, u<span style="color: #483d8b;">'comment'</span>, u<span style="color: #483d8b;">'fais-tu'</span>, u<span style="color: #483d8b;">'pour'</span>, u<span style="color: #483d8b;">'avoir'</span>, u<span style="color: #483d8b;">'cette'</span>, u<span style="color: #483d8b;">'humanit<span style="color: #000099; font-weight: bold;">\x</span>e9'</span>, u<span style="color: #483d8b;">'?&quot;,'</span>, u<span style="color: #483d8b;">'et'</span>, u<span style="color: #483d8b;">'bien'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'leur'</span>, u<span style="color: #483d8b;">'r<span style="color: #000099; font-weight: bold;">\x</span>e9ponds'</span>, u<span style="color: #483d8b;">'tr<span style="color: #000099; font-weight: bold;">\x</span>e8s'</span>, u<span style="color: #483d8b;">'simplement,'</span>, u<span style="color: #483d8b;">'je'</span>, u<span style="color: #483d8b;">'leur'</span>, u<span style="color: #483d8b;">'dis'</span>, u<span style="color: #483d8b;">'que'</span>, u<span style="color: #483d8b;">&quot;c'est&quot;</span>, u<span style="color: #483d8b;">'ce'</span>, u<span style="color: #483d8b;">'go<span style="color: #000099; font-weight: bold;">\x</span>fbt'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">&quot;l'amour,&quot;</span>, u<span style="color: #483d8b;">'ce'</span>, u<span style="color: #483d8b;">'go<span style="color: #000099; font-weight: bold;">\x</span>fbt'</span>, u<span style="color: #483d8b;">'donc'</span>, u<span style="color: #483d8b;">'qui'</span>, u<span style="color: #483d8b;">&quot;m'a&quot;</span>, u<span style="color: #483d8b;">'pouss<span style="color: #000099; font-weight: bold;">\x</span>e9'</span>, u<span style="color: #483d8b;">&quot;aujourd'hui&quot;</span>, u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>e0'</span>, u<span style="color: #483d8b;">'entreprendre'</span>, u<span style="color: #483d8b;">'une'</span>, u<span style="color: #483d8b;">'construction'</span>, u<span style="color: #483d8b;">'m<span style="color: #000099; font-weight: bold;">\x</span>e9canique,'</span>, u<span style="color: #483d8b;">'mais'</span>, u<span style="color: #483d8b;">'demain,'</span>, u<span style="color: #483d8b;">'qui'</span>, u<span style="color: #483d8b;">'sait,'</span>, u<span style="color: #483d8b;">'peut-<span style="color: #000099; font-weight: bold;">\x</span>eatre'</span>, u<span style="color: #483d8b;">'simplement'</span>, u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>e0'</span>, u<span style="color: #483d8b;">'me'</span>, u<span style="color: #483d8b;">'mettre'</span>, u<span style="color: #483d8b;">'au'</span>, u<span style="color: #483d8b;">'service'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'la'</span>, u<span style="color: #483d8b;">'communaut<span style="color: #000099; font-weight: bold;">\x</span>e9,'</span>, u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>e0'</span>, u<span style="color: #483d8b;">'faire'</span>, u<span style="color: #483d8b;">'le'</span>, u<span style="color: #483d8b;">'don...'</span>, u<span style="color: #483d8b;">'le'</span>, u<span style="color: #483d8b;">'don'</span>, u<span style="color: #483d8b;">'de'</span>, u<span style="color: #483d8b;">'soi.'</span><span style="color: black;">&#93;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span>
u<span style="color: #483d8b;">'Mais,'</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">5</span>:<span style="color: #ff4500;">7</span><span style="color: black;">&#93;</span>
<span style="color: black;">&#91;</span>u<span style="color: #483d8b;">'ne'</span>, u<span style="color: #483d8b;">'crois'</span><span style="color: black;">&#93;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">','</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#91;</span>u<span style="color: #483d8b;">'Mais'</span>, u<span style="color: #483d8b;">' vous savez'</span>, u<span style="color: #483d8b;">&quot; moi je ne crois pas qu'il y ait de bonne ou de mauvaise situation. Moi&quot;</span>, u<span style="color: #483d8b;">&quot; si je devais r<span style="color: #000099; font-weight: bold;">\x</span>e9sumer ma vie aujourd'hui avec vous&quot;</span>, u<span style="color: #483d8b;">&quot; je dirais que c'est d'abord des rencontres&quot;</span>, u<span style="color: #483d8b;">&quot; des gens qui m'ont tendu la main&quot;</span>, u<span style="color: #483d8b;">' peut-<span style="color: #000099; font-weight: bold;">\x</span>eatre <span style="color: #000099; font-weight: bold;">\x</span>e0 un moment o<span style="color: #000099; font-weight: bold;">\x</span>f9 je ne pouvais pas'</span>, u<span style="color: #483d8b;">&quot; o<span style="color: #000099; font-weight: bold;">\x</span>f9 j'<span style="color: #000099; font-weight: bold;">\x</span>e9tais seul chez moi. Et c'est assez curieux de se dire que les hasards&quot;</span>, u<span style="color: #483d8b;">' les rencontres forgent une destin<span style="color: #000099; font-weight: bold;">\x</span>e9e... Parce que quand on a le go<span style="color: #000099; font-weight: bold;">\x</span>fbt de la chose'</span>, u<span style="color: #483d8b;">' quand on a le go<span style="color: #000099; font-weight: bold;">\x</span>fbt de la chose bien faite'</span>, u<span style="color: #483d8b;">' le beau geste'</span>, u<span style="color: #483d8b;">&quot; parfois on ne trouve pas l'interlocuteur en face&quot;</span>, u<span style="color: #483d8b;">' je dirais'</span>, u<span style="color: #483d8b;">&quot; le miroir qui vous aide <span style="color: #000099; font-weight: bold;">\x</span>e0 avancer. Alors ce n'est pas mon cas&quot;</span>, u<span style="color: #483d8b;">' comme je le disais l<span style="color: #000099; font-weight: bold;">\x</span>e0'</span>, u<span style="color: #483d8b;">' puisque moi au contraire'</span>, u<span style="color: #483d8b;">&quot; j'ai pu ; et je dis merci <span style="color: #000099; font-weight: bold;">\x</span>e0 la vie&quot;</span>, u<span style="color: #483d8b;">' je lui dis merci et je chante la vie'</span>, u<span style="color: #483d8b;">&quot; je danse la vie... Je ne suis qu'amour ! Et finalement&quot;</span>, u<span style="color: #483d8b;">' quand beaucoup de gens aujourd<span style="color: #000099; font-weight: bold;">\'</span>hui me disent &quot;Mais comment fais-tu pour avoir cette humanit<span style="color: #000099; font-weight: bold;">\x</span>e9 ?&quot;'</span>, u<span style="color: #483d8b;">' et bien je leur r<span style="color: #000099; font-weight: bold;">\x</span>e9ponds tr<span style="color: #000099; font-weight: bold;">\x</span>e8s simplement'</span>, u<span style="color: #483d8b;">&quot; je leur dis que c'est ce go<span style="color: #000099; font-weight: bold;">\x</span>fbt de l'amour&quot;</span>, u<span style="color: #483d8b;">&quot; ce go<span style="color: #000099; font-weight: bold;">\x</span>fbt donc qui m'a pouss<span style="color: #000099; font-weight: bold;">\x</span>e9 aujourd'hui <span style="color: #000099; font-weight: bold;">\x</span>e0 entreprendre une construction m<span style="color: #000099; font-weight: bold;">\x</span>e9canique&quot;</span>, u<span style="color: #483d8b;">' mais demain'</span>, u<span style="color: #483d8b;">' qui sait'</span>, u<span style="color: #483d8b;">' peut-<span style="color: #000099; font-weight: bold;">\x</span>eatre simplement <span style="color: #000099; font-weight: bold;">\x</span>e0 me mettre au service de la communaut<span style="color: #000099; font-weight: bold;">\x</span>e9'</span>, u<span style="color: #483d8b;">' <span style="color: #000099; font-weight: bold;">\x</span>e0 faire le don... le don de soi.'</span><span style="color: black;">&#93;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'.'</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#91;</span>u<span style="color: #483d8b;">&quot;Mais, vous savez, moi je ne crois pas qu'il y ait de bonne ou de mauvaise situation&quot;</span>, u<span style="color: #483d8b;">&quot; Moi, si je devais r<span style="color: #000099; font-weight: bold;">\x</span>e9sumer ma vie aujourd'hui avec vous, je dirais que c'est d'abord des rencontres, des gens qui m'ont tendu la main, peut-<span style="color: #000099; font-weight: bold;">\x</span>eatre <span style="color: #000099; font-weight: bold;">\x</span>e0 un moment o<span style="color: #000099; font-weight: bold;">\x</span>f9 je ne pouvais pas, o<span style="color: #000099; font-weight: bold;">\x</span>f9 j'<span style="color: #000099; font-weight: bold;">\x</span>e9tais seul chez moi&quot;</span>, u<span style="color: #483d8b;">&quot; Et c'est assez curieux de se dire que les hasards, les rencontres forgent une destin<span style="color: #000099; font-weight: bold;">\x</span>e9e&quot;</span>, u<span style="color: #483d8b;">''</span>, u<span style="color: #483d8b;">''</span>, u<span style="color: #483d8b;">&quot; Parce que quand on a le go<span style="color: #000099; font-weight: bold;">\x</span>fbt de la chose, quand on a le go<span style="color: #000099; font-weight: bold;">\x</span>fbt de la chose bien faite, le beau geste, parfois on ne trouve pas l'interlocuteur en face, je dirais, le miroir qui vous aide <span style="color: #000099; font-weight: bold;">\x</span>e0 avancer&quot;</span>, u<span style="color: #483d8b;">&quot; Alors ce n'est pas mon cas, comme je le disais l<span style="color: #000099; font-weight: bold;">\x</span>e0, puisque moi au contraire, j'ai pu ; et je dis merci <span style="color: #000099; font-weight: bold;">\x</span>e0 la vie, je lui dis merci et je chante la vie, je danse la vie&quot;</span>, u<span style="color: #483d8b;">''</span>, u<span style="color: #483d8b;">''</span>, u<span style="color: #483d8b;">' Je ne suis qu<span style="color: #000099; font-weight: bold;">\'</span>amour ! Et finalement, quand beaucoup de gens aujourd<span style="color: #000099; font-weight: bold;">\'</span>hui me disent &quot;Mais comment fais-tu pour avoir cette humanit<span style="color: #000099; font-weight: bold;">\x</span>e9 ?&quot;, et bien je leur r<span style="color: #000099; font-weight: bold;">\x</span>e9ponds tr<span style="color: #000099; font-weight: bold;">\x</span>e8s simplement, je leur dis que c<span style="color: #000099; font-weight: bold;">\'</span>est ce go<span style="color: #000099; font-weight: bold;">\x</span>fbt de l<span style="color: #000099; font-weight: bold;">\'</span>amour, ce go<span style="color: #000099; font-weight: bold;">\x</span>fbt donc qui m<span style="color: #000099; font-weight: bold;">\'</span>a pouss<span style="color: #000099; font-weight: bold;">\x</span>e9 aujourd<span style="color: #000099; font-weight: bold;">\'</span>hui <span style="color: #000099; font-weight: bold;">\x</span>e0 entreprendre une construction m<span style="color: #000099; font-weight: bold;">\x</span>e9canique, mais demain, qui sait, peut-<span style="color: #000099; font-weight: bold;">\x</span>eatre simplement <span style="color: #000099; font-weight: bold;">\x</span>e0 me mettre au service de la communaut<span style="color: #000099; font-weight: bold;">\x</span>e9, <span style="color: #000099; font-weight: bold;">\x</span>e0 faire le don'</span>, u<span style="color: #483d8b;">''</span>, u<span style="color: #483d8b;">''</span>, u<span style="color: #483d8b;">' le don de soi'</span>, u<span style="color: #483d8b;">''</span><span style="color: black;">&#93;</span></pre></div></div>

<p>Et n&#8217;oubliez pas que vous pouvez appeler <code>join()</code> derrière.</p>
<p>Si vous devez altérer la chaîne, utilisez <code>strip()</code> (et <code>rstrip()</code>, <code>lstrip()</code>) ou <code>replace()</code> :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">&quot;Les nouilles cuisent au jus de canne&quot;</span>.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'noui'</span>, <span style="color: #483d8b;">'coui'</span><span style="color: black;">&#41;</span>.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'cui'</span>, <span style="color: #483d8b;">'nui'</span><span style="color: black;">&#41;</span>.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'jus'</span>, <span style="color: #483d8b;">'cul'</span><span style="color: black;">&#41;</span>.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'canne'</span>, <span style="color: #483d8b;">'jeanne'</span><span style="color: black;">&#41;</span>
u<span style="color: #483d8b;">'Les couilles nuisent au cul de jeanne'</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">&quot;                               .                       &quot;</span>.<span style="color: black;">strip</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
u<span style="color: #483d8b;">'.'</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">&quot;===                               .                       ======&quot;</span>.<span style="color: black;">strip</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;= &quot;</span><span style="color: black;">&#41;</span>
u<span style="color: #483d8b;">'.'</span></pre></div></div>

<p>En plus, les chaînes sont itérables, indexables et sliceables, donc :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> s = <span style="color: #483d8b;">&quot;&quot;&quot;And I will strike down upon thee with great vengeance and furious anger those who attempt to poison and destroy my brothers. And you will know my name is the Lord when I lay my vengeance upon you!&quot;&quot;&quot;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s<span style="color: black;">&#91;</span><span style="color: #ff4500;">3</span>:<span style="color: #ff4500;">30</span>:<span style="color: #ff4500;">3</span><span style="color: black;">&#93;</span>
u<span style="color: #483d8b;">' wltkdnp '</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#91;</span>u<span style="color: #483d8b;">'And'</span>, u<span style="color: #483d8b;">'I'</span>, u<span style="color: #483d8b;">'will'</span>, u<span style="color: #483d8b;">'strike'</span>, u<span style="color: #483d8b;">'down'</span>, u<span style="color: #483d8b;">'upon'</span>, u<span style="color: #483d8b;">'thee'</span>, u<span style="color: #483d8b;">'with'</span>, u<span style="color: #483d8b;">'great'</span>, u<span style="color: #483d8b;">'vengeance'</span>, u<span style="color: #483d8b;">'and'</span>, u<span style="color: #483d8b;">'furious'</span>, u<span style="color: #483d8b;">'anger'</span>, u<span style="color: #483d8b;">'those'</span>, u<span style="color: #483d8b;">'who'</span>, u<span style="color: #483d8b;">'attempt'</span>, u<span style="color: #483d8b;">'to'</span>, u<span style="color: #483d8b;">'poison'</span>, u<span style="color: #483d8b;">'and'</span>, u<span style="color: #483d8b;">'destroy'</span>, u<span style="color: #483d8b;">'my'</span>, u<span style="color: #483d8b;">'brothers.'</span>, u<span style="color: #483d8b;">'And'</span>, u<span style="color: #483d8b;">'you'</span>, u<span style="color: #483d8b;">'will'</span>, u<span style="color: #483d8b;">'know'</span>, u<span style="color: #483d8b;">'my'</span>, u<span style="color: #483d8b;">'name'</span>, u<span style="color: #483d8b;">'is'</span>, u<span style="color: #483d8b;">'the'</span>, u<span style="color: #483d8b;">'Lord'</span>, u<span style="color: #483d8b;">'when'</span>, u<span style="color: #483d8b;">'I'</span>, u<span style="color: #483d8b;">'lay'</span>, u<span style="color: #483d8b;">'my'</span>, u<span style="color: #483d8b;">'vengeance'</span>, u<span style="color: #483d8b;">'upon'</span>, u<span style="color: #483d8b;">'you!'</span><span style="color: black;">&#93;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> s<span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span>
u<span style="color: #483d8b;">'A'</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #483d8b;">''</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span><span style="color: black;">&#91;</span><span style="color: black;">&#40;</span>l.<span style="color: black;">upper</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> i <span style="color: #66cc66;">%</span> <span style="color: #ff4500;">2</span> <span style="color: #ff7700;font-weight:bold;">else</span> l<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">for</span> i, l <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">enumerate</span><span style="color: black;">&#40;</span>s<span style="color: black;">&#41;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
u<span style="color: #483d8b;">'ANd I wIlL StRiKe dOwN UpOn tHeE WiTh gReAt vEnGeAnCe aNd fUrIoUs aNgEr tHoSe wHo aTtEmPt tO PoIsOn aNd dEsTrOy mY BrOtHeRs. AnD YoU WiLl kNoW My nAmE Is tHe LOrD WhEn I lAy mY VeNgEaNcE UpOn yOu!'</span></pre></div></div>

<p>Bref, avant de sortir le bazooka, souvenez-vous que vous avez un arsenal déjà très approprié pour traiter les strings, dont les perfs seront en plus probablement meilleures.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=7042&amp;md5=3535a823fe3ee3bc2897baa7909022f1" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/les-expressions-rationnelles-en-python-parfois-overkill/feed/</wfw:commentRss>
		<slash:comments>14</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fles-expressions-rationnelles-en-python-parfois-overkill%2F&amp;language=en_GB&amp;category=text&amp;title=Les+expressions+rationnelles+en+Python%2C+parfois+overkill&amp;description=J%26%238217%3Badore+les+regex%2C+et+d%26%238217%3Bailleurs+il+faudra+que+je+fasse+une+s%C3%A9rie+d%26%238217%3Barticles+sur+le+sujet%2C+un+peu+comme+le+guide+de+la+POO.+Mais+dans+un+langage+comme+Python%2C...&amp;tags=python%2Cregex%2Cstring%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/08/40375599.jpg" length="107260" type="image/jpg" />	</item>
		<item>
		<title>Comment parser du HTML avec des Regex ?</title>
		<link>http://sametmax.com/comment-parser-de-html-avec-des-regex/</link>
		<comments>http://sametmax.com/comment-parser-de-html-avec-des-regex/#comments</comments>
		<pubDate>Wed, 05 Jun 2013 18:24:09 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[html]]></category>
		<category><![CDATA[lol]]></category>
		<category><![CDATA[regex]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=216</guid>
		<description><![CDATA[Il y a longtemps que je voulais traduire cette réponse de StackOverflow, qui donne une bonne fois pour toute la réponse à cette question souvent posée.]]></description>
			<content:encoded><![CDATA[<p>Il y a longtemps que je voulais traduire <a href="http://stackoverflow.com/a/1732454">cette réponse</a> de StackOverflow, qui donne une bonne fois pour toute la réponse à cette question souvent posée.</p>
<p>Voici (le formatage exotique a été conservé au maximum):</p>
<p>Vous ne pouvez pas analyser [X]HTML avec des regex. Parce qu&#8217;HTML ne peut être analysé par des regex. Les regex sont un outil qui ne peut être utilisé pour analyser correctement du HTML. Comme je l&#8217;ai répondu dans des question HTML-et-regex ici de nombreuses fois auparavant, l&#8217;utilisation de regex ne permet pas de consommer du HTML. Les expressions rationnelles sont un outil qui n&#8217;est pas suffisamment sophistiqué pour comprendre les constructions employées par HTML. HTML n&#8217;est pas une langage rationnel, et de fait ne peut être parsé par des expressions rationnelles. Les requêtes par regex ne sont pas équipées pour diviser du HTML en parties qui ont du sens. Tant de fois, mais je ne m&#8217;en lasse pas. Même des expressions irrationnelles telles qu&#8217;utilisées par Perl en sont pas à la hauteur de la tâche que représente l&#8217;analyse de HTML. Vous ne me ferez pas céder. HTML est un langage d&#8217;une complexité telle qu&#8217;il ne peut être analysé par des expressions rationnelles. Même Chuck Norris ne peut analyser du HTML avec des expressions rationnelles. Chaque fois que vous essayez d&#8217;analyser du HTML avec des expressions rationnelles, l&#8217;enfant damné pleure du sang de vierge, et des hackers russes pown votre webapp. Analyser du HTML avec des regex invoque des âmes perdues dans le royaume des vivants. HTML et les regex vont ensemble comme l&#8217;amour, le mariage et les rituels infanticides. Le &lt;center&gt; ne peut tenir, il est trop tard. La force des regex et du HTML ensemble dans le même espace conceptuel détruira votre esprit comme l&#8217;humidité détruit les joints. Si vous analysez du HTML avec des regex, vous vous adonnez à Eux et leurs traditions blasphématoires qui nous condamnent tous à un labeur inhumain pour Celui dont le Nom ne peut être exprimé avec le Plan Multilingue Basique, il arrive. HTML-plus-regex liquéfiera les nerfs des êtres les plus sensibles sous vos yeux, votre psyché dépérissant sous les assauts de l&#8217;horreur. Les an̷al̵y͘s̕e͝urs ̸HT͝M͡L basés sur les regex sont le cancer qui tue StackOverflow <em>il est trop tard il est trop tard nous ne pouvons être sauvé</em>s la trangession d&#8217;un en̵f͝ant amènera les regex à consommer tout tissue vivant (excepté pour le HTML puisqu&#8217;il ne le peut, tel que prophétisé précédemment) <em>oh seigneur aide nous comment qui que ce soit peut-il survire à cet fléau</em> utiliser des regex pour analyser du HTML a condamné l&#8217;humanité à la terreur de la torture and aux failles de sécurité <em>utiliser les regex</em> comme outil pour travailler du HTML établie un brèche<em> entre ce monde</em> et le royaume terrifiant des entités corrompues (comme les entités SGML, mais plus<em> corrompues) un bref regard</em> vers le monde des analy<strong>seurs regex pour HTML transportera ins</strong>tantanément la <em>conscience d&#8217;un programmeur</em> d<em>a</em>ns un <em>m</em>onde de cris sans fin, il arrive, la <del>nauséabonde</del> plaie des infections regex <strong>dévoreront votre parser HT</strong>ML, votre application et votre existence pour l&#8217;éternité comme l&#8217;a fait Visual Basic mais en pire<em> il arrive il arrive ne vous déba</em>ttez pas <em>i̢l͞ a͘rr̸i҉v̡é,̨ <strong>sa radiance</strong> damnée</em> détruisant toute illumination, <em>des ͠t̕a̕g͡s ̶<strong>H͞TM̵L͞ ̕c̸o͜ùlan͜t̀ de̶ vos͜ ͟y͏eưx te̷l̛s̡ de l͜a̶ ̛d͝ǫ</strong>u͜lȩur҉ ͝l̡iquid͝ee,</em> la chanson de l&#8217;ana<del>lyse par expressions</del> rationnelles <em>reduit a<strong>u silence les voix de l&#8217;homme mortel depuis la sp</strong>hère je peux le voir pouvez-vous le voir c&#8217;est magnifique</em> l&#8217;expurgation de tous les mensonges de l&#8217;Homme  TOUT EST PERDU TOUT EST PERDU le poney il arrive i͟l arrive il̸ ̕arr̴i҉ve͢ ̕l&#8217;̵ich҉or ̸p̴é͝n͘è͟t̡r͞e tout MON V̴ISA҉ĢE͘͜ M̵̢͟O̶N ͢͏V͏I̧̨S͞AG̶̕͞E̷̡̕ oh mon dieu no Ņ̵̨ON̕ ̢҉̀N̸͡͞OO͏̢͝O̶͠O̷҉N҉͝ ͡N̶͘͏O̧N͟ ́͜͡s̀͟͡t̶͟o̧͝p̧ ̕͘l̴e҉͠s ͟ań̴gl͏ę̀͏s͢͝ ͜͝n̡e͏̡ ́so҉͜nt̵̡ ͢p̧͘a̛s̀ ̸͞r͞é̕͞e̛l̸͏s̨ ̧̀ZA̷Ĺ͝GO̸ ̸E̴͜͝Ş̵̛T̴̸͠ ̨T̨̢Ó͜N͡Y̢ ̷̨̕L̀E̵͠ PONE̕Y͟ I͖̮̝̥̞͟L̴̬͈͍͞ ̞̦A̴҉͕̩͉R͎͉̯̼̹̫͈̹R̩͎̙̥̦I̶̢͓̘̗V̤̳͓͓͇̯̭̯̥͜͢͢E̹̣͚̩̯̙͡.</p>
<p>Avez vous essayé un parser XML à la place ?</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=216&amp;md5=b9082d6c1c3a81567ac74fad14e35104" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/comment-parser-de-html-avec-des-regex/feed/</wfw:commentRss>
		<slash:comments>26</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fcomment-parser-de-html-avec-des-regex%2F&amp;language=en_GB&amp;category=text&amp;title=Comment+parser+du+HTML+avec+des+Regex+%3F&amp;description=Il+y+a+longtemps+que+je+voulais+traduire+cette+r%C3%A9ponse+de+StackOverflow%2C+qui+donne+une+bonne+fois+pour+toute+la+r%C3%A9ponse+%C3%A0+cette+question+souvent+pos%C3%A9e.+Voici+%28le+formatage+exotique...&amp;tags=html%2Clol%2Cregex%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/06/zalgo_boxxy1.jpg" length="10115" type="image/jpg" />	</item>
		<item>
		<title>Grin, le grep Python sous steroïd</title>
		<link>http://sametmax.com/grin-le-grep-python-sous-steroid/</link>
		<comments>http://sametmax.com/grin-le-grep-python-sous-steroid/#comments</comments>
		<pubDate>Sat, 25 Aug 2012 16:52:53 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[grin]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[regex]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=1883</guid>
		<description><![CDATA[Chercher un mot dans 500 fichiers est un truc que nous, pauvres développeurs, avons besoin de faire assez souvent...]]></description>
			<content:encoded><![CDATA[<p>Chercher un mot dans 500 fichiers est un truc que nous, pauvres développeurs, avons besoin de faire assez souvent.</p>
<p>Sublime Text le fait très bien avec <kbd>Maj</kbd> + <kbd>Ctrl</kbd> + <kbd>F</kbd>, mais on est pas toujours dans son éditeur. La recherche dans tout le système type Spotlight est généralement bien large, et la seule solution qui ait la bonne puissance de frappe, tout en affichant plein de détails reste <a href="https://en.wikipedia.org/wiki/Grep">grep</a>. Problème, il faut connaître un max d&#8217;options de grep, utiliser egrep pour avoir de bonnes regex, et piper la sortie pour avoir certains résultats.</p>
<p>Le monde de perl a trouvé depuis longtemps une solution à ce problème au travers de <a href="http://betterthangrep.com/">ack</a>, et comme les pythonistes, <a href="http://sametmax.com/vizhash-js-notre-implementation-libre-de-hash-visuel-utilisant-html5-canvas/">c&#8217;est que des gros copieurs</a>, ils ont fait leur version: <a href="http://pypi.python.org/pypi/grin">grin</a>.</p>
<p>C&#8217;est sur <a href="http://sametmax.com/votre-python-aime-les-pip/">pypi</a>:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;">pip <span style="color: #c20cb9; font-weight: bold;">install</span> grin</pre></div></div>

<p>Et ça s&#8217;utilise ainsi:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;">grin <span style="color: #7a0874; font-weight: bold;">test</span></pre></div></div>

<p>Et il va vous sortir la liste des fichiers qui contiennent &#8220;test&#8221;, et dans quel contexte, avec coloration:</p>
<div id="attachment_1889" class="wp-caption aligncenter" style="width: 543px"><a href="http://sametmax.com/wp-content/uploads/2012/08/Espace-de-travail-1_001.jpg"><img class=" wp-image-1889 " title="Génial quand on est en remote sur un serveur" src="http://sametmax.com/wp-content/uploads/2012/08/Espace-de-travail-1_001.jpg" alt="Capture d'écran de la sortie du programme grin" width="533" height="340" /></a><p class="wp-caption-text">Génial quand on est en remote sur un serveur</p></div>
<p>Grin vient avec quelques goodies en plus:</p>
<ul>
<li>Récursif par défaut.</li>
<li>Ignore les dossiers .git, .svn, etc et les fichiers temporaires (~, .tmp, etc) par défaut.</li>
<li>Cherche à l&#8217;intérieur de certaines archives.</li>
<li>Très rapide.</li>
<li>Accepte une expression rationnelle Python à la place du mot à chercher !</li>
</ul>
<p>Par exemple pour chercher uniquement les fichiers qui contiennent le mot &#8220;test&#8221; ou &#8220;tests&#8221; à la fin d&#8217;une ligne dans un fichier Python, récursivement:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;">~<span style="color: #000000; font-weight: bold;">/</span>Work $ grin tests?$ <span style="color: #660033;">-I</span> <span style="color: #000000; font-weight: bold;">*</span>.py
.<span style="color: #000000; font-weight: bold;">/</span>archives<span style="color: #000000; font-weight: bold;">/</span>client<span style="color: #000000; font-weight: bold;">/</span>project<span style="color: #000000; font-weight: bold;">/</span>apps<span style="color: #000000; font-weight: bold;">/</span>accounts<span style="color: #000000; font-weight: bold;">/</span>tests.py:
   <span style="color: #000000;">65</span> :     <span style="color: #666666; font-style: italic;"># Used in Login test</span>
.<span style="color: #000000; font-weight: bold;">/</span>archives<span style="color: #000000; font-weight: bold;">/</span>client<span style="color: #000000; font-weight: bold;">/</span>project<span style="color: #000000; font-weight: bold;">/</span>apps<span style="color: #000000; font-weight: bold;">/</span>grants<span style="color: #000000; font-weight: bold;">/</span>tests.py:
   <span style="color: #000000;">16</span> : <span style="color: #666666; font-style: italic;"># moving settings for testing to settings_test</span>
.<span style="color: #000000; font-weight: bold;">/</span>archives<span style="color: #000000; font-weight: bold;">/</span>client<span style="color: #000000; font-weight: bold;">/</span>project<span style="color: #000000; font-weight: bold;">/</span>apps<span style="color: #000000; font-weight: bold;">/</span>hivtest<span style="color: #000000; font-weight: bold;">/</span>tests.py:
  <span style="color: #000000;">293</span> :         <span style="color: #666666; font-style: italic;"># print updated_hivtest</span>
.<span style="color: #000000; font-weight: bold;">/</span>archives<span style="color: #000000; font-weight: bold;">/</span>client<span style="color: #000000; font-weight: bold;">/</span>project<span style="color: #000000; font-weight: bold;">/</span>apps<span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>tests.py:
   <span style="color: #000000;">15</span> : <span style="color: #666666; font-style: italic;"># moving settings for testing to settings_test</span>
...</pre></div></div>

<p>Le <a href="https://svn.enthought.com/svn/sandbox/grin/trunk/">code source</a> est simple à comprendre, et il est fait de manière modulaire de telle sorte qu&#8217;on puisse réutiliser <code>grin</code> comme une lib externe pour chercher des choses avec son propre programme.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=1883&amp;md5=91a0a300b4707c584bc268c047afd846" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/grin-le-grep-python-sous-steroid/feed/</wfw:commentRss>
		<slash:comments>10</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fgrin-le-grep-python-sous-steroid%2F&amp;language=en_GB&amp;category=text&amp;title=Grin%2C+le+grep+Python+sous+stero%C3%AFd&amp;description=Chercher+un+mot+dans+500+fichiers+est+un+truc+que+nous%2C+pauvres+d%C3%A9veloppeurs%2C+avons+besoin+de+faire+assez+souvent.+Sublime+Text+le+fait+tr%C3%A8s+bien+avec+Maj+%2B+Ctrl+%2B...&amp;tags=grin%2Cpython%2Cregex%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/08/steroid_freak.jpg" length="54260" type="image/jpg" />	</item>
		<item>
		<title>Valider une adresse email avec une regex en Python</title>
		<link>http://sametmax.com/valider-une-adresse-email-avec-une-regex-en-python/</link>
		<comments>http://sametmax.com/valider-une-adresse-email-avec-une-regex-en-python/#comments</comments>
		<pubDate>Tue, 06 Mar 2012 23:55:21 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[django]]></category>
		<category><![CDATA[email]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[regex]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=253</guid>
		<description><![CDATA[Problème de tous les jours, et on a tous essayé de concocter notre solution maison. Mais il se trouve que <a href="https://www.ietf.org/rfc/rfc5322.txt">la norme</a> qui définit le format des adresses emails est vraiment tordue.]]></description>
			<content:encoded><![CDATA[<p>Problème de tous les jours, et on a tous essayé de concocter notre solution maison. Mais il se trouve que <a href="https://www.ietf.org/rfc/rfc5322.txt">la norme</a> qui définit le format des adresses emails est vraiment tordue.</p>
<p>Si on est trop rigide, on interdit les cas contre-intuitifs comme le signe &#8216;+&#8217; dans le destinataire, le domaine &#8220;.museum&#8221;, l&#8217;adresse IP dans l&#8217;email ou le sous domaine comportant un seul caractère.</p>
<p>Si on est trop flexible, l&#8217;utilisateur va rentrer <code>truc@chose</code> et ne pas s’apercevoir de sa faute de frappe. Il oubliera alors votre site, sans email pour le contacter.</p>
<p>Il existe une version bullet proof de regex qui valide une adresse email, mais <a href="http://ex-parrot.com/~pdw/Mail-RFC822-Address.html">c&#8217;est un truc de malade</a>.</p>
<p>Au final, on veut juste attraper 99% des cas les plus courrants, un compromis en solidité et praticité. Le code source de Django nous fournit justement une solution équilibrée dans le fichier <em>core/validators.py</em>:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> email_re = <span style="color: #dc143c;">re</span>.<span style="color: #008000;">compile</span><span style="color: black;">&#40;</span>
r<span style="color: #483d8b;">&quot;(^[-!#$%&amp;'*+/=?^_`{}|~0-9A-Z]+(<span style="color: #000099; font-weight: bold;">\.</span>[-!#$%&amp;'*+/=?^_`{}|~0-9A-Z]+)*&quot;</span>  <span style="color: #808080; font-style: italic;"># dot-atom</span>
r<span style="color: #483d8b;">'|^&quot;([<span style="color: #000099; font-weight: bold;">\0</span>01-<span style="color: #000099; font-weight: bold;">\0</span>10<span style="color: #000099; font-weight: bold;">\0</span>13<span style="color: #000099; font-weight: bold;">\0</span>14<span style="color: #000099; font-weight: bold;">\0</span>16-<span style="color: #000099; font-weight: bold;">\0</span>37!#-<span style="color: #000099; font-weight: bold;">\[</span><span style="color: #000099; font-weight: bold;">\]</span>-<span style="color: #000099; font-weight: bold;">\1</span>77]|<span style="color: #000099; font-weight: bold;">\\</span>[<span style="color: #000099; font-weight: bold;">\0</span>01-011<span style="color: #000099; font-weight: bold;">\0</span>13<span style="color: #000099; font-weight: bold;">\0</span>14<span style="color: #000099; font-weight: bold;">\0</span>16-<span style="color: #000099; font-weight: bold;">\1</span>77])*&quot;'</span> <span style="color: #808080; font-style: italic;"># quoted-string</span>
r<span style="color: #483d8b;">')@(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?<span style="color: #000099; font-weight: bold;">\.</span>)+[A-Z]{2,6}<span style="color: #000099; font-weight: bold;">\.</span>?$'</span>, <span style="color: #dc143c;">re</span>.<span style="color: black;">IGNORECASE</span><span style="color: black;">&#41;</span>  <span style="color: #808080; font-style: italic;"># domain</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> email_re.<span style="color: black;">search</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'test+12@moi.n.museum'</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&lt;</span>_sre.<span style="color: black;">SRE_Match</span> <span style="color: #008000;">object</span> at 0x1205160<span style="color: #66cc66;">&gt;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> email_re.<span style="color: black;">search</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'test@moi'</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span></pre></div></div>

<p>Par contre ça ne gère pas l&#8217;adresse IP en tant que nom de domaine, mais c&#8217;est le plus souvent suffisant.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=253&amp;md5=9ad22cf90791b196d1c0ef4ae900ec77" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/valider-une-adresse-email-avec-une-regex-en-python/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fvalider-une-adresse-email-avec-une-regex-en-python%2F&amp;language=en_GB&amp;category=text&amp;title=Valider+une+adresse+email+avec+une+regex+en+Python&amp;description=Probl%C3%A8me+de+tous+les+jours%2C+et+on+a+tous+essay%C3%A9+de+concocter+notre+solution+maison.+Mais+il+se+trouve+que+la+norme+qui+d%C3%A9finit+le+format+des+adresses+emails+est...&amp;tags=django%2Cemail%2Cpython%2Cregex%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/03/What-your-email-address-says-about-your-computer-skills-The-Oatmeal.png" length="646149" type="image/jpg" />	</item>
	</channel>
</rss>
