<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max: Python, Django, Git et du cul &#187; virtualenv</title>
	<atom:link href="http://sametmax.com/tag/virtualenv/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 14:20:37 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2F&amp;language=en_US&amp;category=text&amp;title=Sam+%26amp%3B+Max%3A+Python%2C+Django%2C+Git+et+du+cul&amp;description=Deux+d%C3%A9veloppeurs+en+vadrouille+qui+se+sortent+les+doigts+du+code&amp;tags=blog" type="text/html" />
		<item>
		<title>5 choses à apprendre en priorité en Python</title>
		<link>http://sametmax.com/5-choses-a-apprendre-en-priorite-en-python/</link>
		<comments>http://sametmax.com/5-choses-a-apprendre-en-priorite-en-python/#comments</comments>
		<pubDate>Sun, 22 Dec 2013 08:57:17 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[comprehension-lists]]></category>
		<category><![CDATA[pip]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[unpacking]]></category>
		<category><![CDATA[virtualenv]]></category>
		<category><![CDATA[yield]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=8376</guid>
		<description><![CDATA[Quand on apprend un nouveau langage de programmation, on apprend d'abord les bases. Et pour la plupart des langages, elles sont communes : déclarer une variable, faire des conditions et des boucles, faire des fonctions, importer un code d'un autre fichier, etc.

Ce qui va différencier le moment où vous savez programmer dans CE langage, ce sont des notions spécifiques à lui que vous commencez à maitriser.]]></description>
			<content:encoded><![CDATA[<p>Quand on apprend un nouveau langage de programmation, on apprend d&#8217;abord les bases. Et pour la plupart des langages, elles sont communes : déclarer une variable, faire des conditions et des boucles, faire des fonctions, importer un code d&#8217;un autre fichier, etc.</p>
<p>Ce qui va différencier le moment où vous savez programmer dans CE langage, ce sont des notions qui lui sont spécifiques et que vous commencez à maitriser.</p>
<p>Voici 5 notions spécifiques au langage qu&#8217;il faut apprendre en priorité si vous voulez pouvoir dire &#8220;je code en Python&#8221; :</p>
<h2>Pip</h2>
<p>Pip est la moyen le plus utilisé d&#8217;installer une bibliothèque externe dans l&#8217;environnement Python. Dès qu&#8217;on veut faire un projet sérieux, on en a besoin. Tellement qu&#8217;il va en fait être inclus par défaut dans Python 3.4.</p>
<p><a href="http://sametmax.com/votre-python-aime-les-pip/">Lire l&#8217;article sur pip.</a></p>
<h2>Virtualenv</h2>
<p>Virtualenv permet d&#8217;isoler plusieurs installations de Python. A partir du moment où l&#8217;on travaille sur plusieurs projets en même temps, il devient vite indispensable. Mais personnelement, je l&#8217;utilise même quand je n&#8217;ai qu&#8217;un projet installé sur une machine car il me permet de le séparer du setup Python du système et d&#8217;utiliser des hooks.</p>
<p>Un outil qui a été ajouté dans la lib standard en Python 3.3. J&#8217;apprécie que le pragmatisme de l&#8217;évolution de Python qui intègre petit à petit les projets qui se sont révélés les outils de facto dans la communauté.</p>
<p><a href="http://sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper/">Lire l&#8217;article sur virtualenv.</a></p>
<h2>Les listes en intention</h2>
<p>J&#8217;ai envie de dire l&#8217;itération en générale, mais c&#8217;est un très vaste sujet, et il est couvert en grande partie par les 3 derniers points.</p>
<p>La liste en intention, ou liste en compréhension, est une manière de boucler sur un itérable (souvent une liste), avec optionellement un filtre, afin de produire une nouvelle liste. En une ligne.</p>
<p>C&#8217;est stylistiquement la marque de fabrique de Python (même si c&#8217;est piqué à Haskell). C&#8217;est également ce qui le rend aussi expressif. On peut presque coder tout un programme en déclaratif avec des enchainements de listes en intention.</p>
<p>C&#8217;est beau, propre, efficace et court. IN-DIS-PEN-SA-BLE.</p>
<p><a href="http://sametmax.com/python-love-les-listes-en-intention-partie/">Lire l&#8217;article sur les listes en intention.</a></p>
<h2>L&#8217;unpacking</h2>
<p>L&#8217;unpacking est une autre fonctionalité typiquement pythonienne qui permet de prendre un itérable (souvent un tuple), et de mettre ses éléments dans des variables d&#8217;une traite.</p>
<p>Cela permet d&#8217;augmenter drastiquement la lisibilité des programmes.</p>
<p><a href="http://sametmax.com/tag/unpacking/">Lire les articles sur l&#8217;unpacking.</a></p>
<h2>Les générateurs</h2>
<p>Les générateurs permettent non seulement un énorme gain en performance, mais en plus ils autorisent le traitement itératif de flux de données dont on ne connait pas la taille en avance, voire de taille infinie. Si vous utilisez des expressions génératrices, vous pourrez le faire en déclaratif. Si vous utilisez <code>yield</code>, vous pourrez cacher un algorithme complet derrière une simple boucle <code>for</code>.</p>
<p><a href="http://sametmax.com/comment-utiliser-yield-et-les-generateurs-en-python/">Lire l&#8217;article sur yield.</a></p>
<h2>Le reste ?</h2>
<p>Tout le reste, c&#8217;est du détail. Les décorateurs, la POO, l&#8217;opérateur <code>with</code>, les métaclasses, les astuces magiques pour faire ceci ou cela. C&#8217;est bien, mais ça peut attendre. Ce sont ces 5 notions, qui, bien utilisées, feront d&#8217;un programmeur un dev Python.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=8376&amp;md5=0c3f015bc4b353adc195e30c23ba6e29" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/5-choses-a-apprendre-en-priorite-en-python/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2F5-choses-a-apprendre-en-priorite-en-python%2F&amp;language=en_GB&amp;category=text&amp;title=5+choses+%C3%A0+apprendre+en+priorit%C3%A9+en+Python&amp;description=Quand+on+apprend+un+nouveau+langage+de+programmation%2C+on+apprend+d%26%238217%3Babord+les+bases.+Et+pour+la+plupart+des+langages%2C+elles+sont+communes+%3A+d%C3%A9clarer+une+variable%2C+faire+des+conditions+et...&amp;tags=comprehension-lists%2Cpip%2Cpython%2Cunpacking%2Cvirtualenv%2Cyield%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/12/Xk9nO.jpg" length="96900" type="image/jpg" />	</item>
		<item>
		<title>ImportError: cannot import name MAXREPEAT</title>
		<link>http://sametmax.com/importerror-cannot-import-name-maxrepeat/</link>
		<comments>http://sametmax.com/importerror-cannot-import-name-maxrepeat/#comments</comments>
		<pubDate>Sat, 27 Apr 2013 07:17:52 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[virtualenv]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=5902</guid>
		<description><![CDATA[Vous avez mis à jour votre Python (par exemple avec homebrew ou en faisait une upgrade d'Ubuntu), et soudainement, BAM, tout exécution dans un <a href="http://sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper/">virtualenv</a> vous balance un gros <code>ImportError: cannot import name MAXREPEAT</code> à la tronche.]]></description>
			<content:encoded><![CDATA[<p>Vous avez mis à jour votre Python (par exemple avec homebrew ou en faisait une upgrade d&#8217;Ubuntu), et soudainement, BAM, tout exécution dans un <a href="http://sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper/">virtualenv</a> vous balance un gros <code>ImportError: cannot import name MAXREPEAT</code> à la tronche.</p>
<p>J&#8217;ai vu des tas de propositions pour résoudre ça, certains à base de <a href="http://www.isotope11.com/blog/fix-your-python-2-dot-7-4-maxrepeat-importerror-issues">réinstallation</a> sous Mac, d&#8217;autres à base d&#8217;<a href="https://bugs.launchpad.net/ubuntu/+source/python2.7/+bug/1157687">édition de fichiers</a> source Python sous Debian.</p>
<p>Personnellement j&#8217;utilise une autre solution, un peu chiante, mais beaucoup plus propre, qui consiste simplement à appeler la commande <code>virtualenv</code> sur le dossier qui contient l&#8217;env. Par exemple :</p>
<p><code>virtualenv ~/.virtualenvs/test</code></p>
<p>Je dis un peu chiante car :</p>
<ul>
<li>Si on a beaucoup d&#8217;env, il faut le faire une fois par env.</li>
<li>Et si on a des options genre <code>-p</code>, il faut les repasser telles qu&#8217;on les a passé à l&#8217;origine (et allez vous souvenir de ça pour un env qui a 6 mois) sinon on pête l&#8217;env.</li>
</ul>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=5902&amp;md5=9d97c173d4a07d3ccd38d1999961ddb7" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/importerror-cannot-import-name-maxrepeat/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fimporterror-cannot-import-name-maxrepeat%2F&amp;language=en_GB&amp;category=text&amp;title=ImportError%3A+cannot+import+name+MAXREPEAT&amp;description=Vous+avez+mis+%C3%A0+jour+votre+Python+%28par+exemple+avec+homebrew+ou+en+faisait+une+upgrade+d%26%238217%3BUbuntu%29%2C+et+soudainement%2C+BAM%2C+tout+ex%C3%A9cution+dans+un+virtualenv+vous+balance+un+gros+ImportError%3A...&amp;tags=python%2Cvirtualenv%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/04/BHBJldrCUAAhuZ2.jpglarge.jpeg" length="66918" type="image/jpg" />	</item>
		<item>
		<title>A l&#8217;intérieur de mon .bashrc</title>
		<link>http://sametmax.com/a-linterieur-de-mon-bashrc/</link>
		<comments>http://sametmax.com/a-linterieur-de-mon-bashrc/#comments</comments>
		<pubDate>Tue, 22 Jan 2013 10:26:44 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[bash]]></category>
		<category><![CDATA[git]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[shell]]></category>
		<category><![CDATA[virtualenv]]></category>
		<category><![CDATA[virtualenvwrapper]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=4238</guid>
		<description><![CDATA[Généralement montrer son <em>.bashrc</em> donne rapidement lieu dans les comments à un concours de celui qui a la plus longue (jusqu'à ce qu'arrive un utilisateur de zsh, et alors commence le concours de celui qui pisse le plus loin). Mais bon, aujourd'hui j'ai la flemme d'écrire un article complet.]]></description>
			<content:encoded><![CDATA[<p>Généralement montrer son <em>.bashrc</em> donne rapidement lieu dans les comments à un concours de celui qui a la plus longue (jusqu&#8217;à ce qu&#8217;arrive un utilisateur de zsh, et alors commence le concours de celui qui pisse le plus loin). Mais bon, aujourd&#8217;hui j&#8217;ai la flemme d&#8217;écrire un article complet.</p>
<p>Rappel : le <em>.bashrc</em> c&#8217;est le fichier qui est automatiquement chargé au démarrage du shell bash, le shell par défaut sur la plupart des Unix incluant Mac et Ubuntu.</p>
<p>Donc si vous voulez avoir une expérience de travail personnalisée dans votre terminal, c&#8217;est dans ce fichier que ça se passe.</p>
<p>Personnellement, j&#8217;ai tout le bordel que met Ubuntu par défaut (notamment les trucs avec les autocomplétions de partout). En en prime je rajoute :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #666666; font-style: italic;"># un raccourcis pour lancer redis car je le met sur off par défaut met je le </span>
<span style="color: #666666; font-style: italic;"># lance souvent</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> redis <span style="color: #7a0874; font-weight: bold;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #000000; font-weight: bold;">!</span> <span style="color: #660033;">-e</span> <span style="color: #ff0000;">&quot;/var/run/redis/redis-server.pid&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span> ; <span style="color: #000000; font-weight: bold;">then</span>
        <span style="color: #c20cb9; font-weight: bold;">sudo</span> service redis-server start
    <span style="color: #000000; font-weight: bold;">fi</span>
<span style="color: #7a0874; font-weight: bold;">&#125;</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># un tas de raccourcis type</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> projet_django <span style="color: #7a0874; font-weight: bold;">&#123;</span>
    workon projet_django;
    <span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>sam<span style="color: #000000; font-weight: bold;">/</span>Work<span style="color: #000000; font-weight: bold;">/</span>projet_django<span style="color: #000000; font-weight: bold;">/</span>repo<span style="color: #000000; font-weight: bold;">/</span>projet_django;
&nbsp;
    <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #007800;">$#</span> <span style="color: #660033;">-ne</span> <span style="color: #000000;">0</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span><span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
        .<span style="color: #000000; font-weight: bold;">/</span>manage.py $<span style="color: #000000; font-weight: bold;">@</span>
    <span style="color: #000000; font-weight: bold;">fi</span>
<span style="color: #7a0874; font-weight: bold;">&#125;</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> <span style="color: #007800;">sb</span>=<span style="color: #ff0000;">'projet_django'</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># CF: http://sametmax.com/un-alias-bash-pour-django-virtualenv-dont-je-ne-peux-plus-me-passer/</span>
&nbsp;
&nbsp;
<span style="color: #666666; font-style: italic;"># fonction fétiche de bourrin</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> killbill <span style="color: #7a0874; font-weight: bold;">&#123;</span>
    <span style="color: #007800;">BAK</span>=<span style="color: #007800;">$IFS</span>
    <span style="color: #007800;">IFS</span>=$<span style="color: #ff0000;">'\n'</span>
    <span style="color: #000000; font-weight: bold;">for</span> <span style="color: #c20cb9; font-weight: bold;">id</span> <span style="color: #000000; font-weight: bold;">in</span> $<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #c20cb9; font-weight: bold;">ps</span> aux <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #660033;">-P</span> <span style="color: #660033;">-i</span> <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #660033;">-v</span> <span style="color: #ff0000;">&quot;grep&quot;</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">awk</span> <span style="color: #ff0000;">'{printf $2&quot; &quot;; for (i=11; i&lt;NF; i++) printf $i&quot; &quot;; print $NF}'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>; <span style="color: #000000; font-weight: bold;">do</span> 
        <span style="color: #007800;">service</span>=$<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$id</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">cut</span> <span style="color: #660033;">-d</span> <span style="color: #ff0000;">&quot; &quot;</span> <span style="color: #660033;">-f</span> <span style="color: #000000;">1</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
        <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #007800;">$2</span> == <span style="color: #ff0000;">&quot;-t&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span><span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
            <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$service</span> <span style="color: #000000; font-weight: bold;">\&quot;</span>$<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$id</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">cut</span> <span style="color: #660033;">-d</span> <span style="color: #ff0000;">&quot; &quot;</span> <span style="color: #660033;">-f</span> <span style="color: #000000;">2</span>-<span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #000000; font-weight: bold;">\&quot;</span> <span style="color: #ff0000;">&quot;would be killed&quot;</span>
        <span style="color: #000000; font-weight: bold;">else</span>
&nbsp;
            <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$service</span> <span style="color: #000000; font-weight: bold;">\&quot;</span>$<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$id</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">cut</span> <span style="color: #660033;">-d</span> <span style="color: #ff0000;">&quot; &quot;</span> <span style="color: #660033;">-f</span> <span style="color: #000000;">2</span>-<span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #000000; font-weight: bold;">\&quot;</span> <span style="color: #ff0000;">&quot;killed&quot;</span>
            <span style="color: #c20cb9; font-weight: bold;">kill</span> <span style="color: #660033;">-9</span> <span style="color: #007800;">$service</span>
        <span style="color: #000000; font-weight: bold;">fi</span>
    <span style="color: #000000; font-weight: bold;">done</span>
    <span style="color: #007800;">IFS</span>=<span style="color: #007800;">$BAK</span>
<span style="color: #7a0874; font-weight: bold;">&#125;</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># que j'ai un peu amélioré depuis http://sametmax.com/tu-vas-crever-oui/</span>
&nbsp;
&nbsp;
<span style="color: #666666; font-style: italic;"># une fonction pour commiter rapidement </span>
<span style="color: #000000; font-weight: bold;">function</span> commit <span style="color: #7a0874; font-weight: bold;">&#123;</span>
    <span style="color: #c20cb9; font-weight: bold;">git</span> commit <span style="color: #660033;">-m</span> <span style="color: #ff0000;">&quot;<span style="color: #780078;">`echo &quot;$*&quot; | sed -e 's/^./\U&amp;\E/g'`</span>&quot;</span>
<span style="color: #7a0874; font-weight: bold;">&#125;</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> <span style="color: #007800;">co</span>=commit;
&nbsp;
<span style="color: #666666; font-style: italic;"># en gros on tappe &quot;co message de commit&quot;. Sans guillement, sans rien.</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># des completions pour manage.py et git</span>
&nbsp;
<span style="color: #7a0874; font-weight: bold;">source</span> <span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>sam<span style="color: #000000; font-weight: bold;">/</span>.django_bash_completion
<span style="color: #7a0874; font-weight: bold;">source</span> <span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>sam<span style="color: #000000; font-weight: bold;">/</span>.git-completion.bash
&nbsp;
<span style="color: #666666; font-style: italic;"># activation du cache de pip pour éviter de télécharger 20 fois la même lib</span>
&nbsp;
<span style="color: #007800;">PIP_DOWNLOAD_CACHE</span>=<span style="color: #ff0000;">'/opt/pip-cache'</span>;
<span style="color: #7a0874; font-weight: bold;">export</span> PIP_DOWNLOAD_CACHE;
&nbsp;
<span style="color: #666666; font-style: italic;"># un super outil pour un git plus user friendly</span>
&nbsp;
<span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #660033;">-s</span> <span style="color: #ff0000;">&quot;/home/sam/.scm_breeze/scm_breeze.sh&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span> <span style="color: #000000; font-weight: bold;">&amp;&amp;</span> <span style="color: #7a0874; font-weight: bold;">source</span> <span style="color: #ff0000;">&quot;/home/sam/.scm_breeze/scm_breeze.sh&quot;</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> <span style="color: #007800;">c</span>=<span style="color: #ff0000;">&quot;git_index&quot;</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># j'en avais parlé ici : http://sametmax.com/scm-breeze-facilite-la-selection-de-vos-fichiers-a-commiter-sous-git-avec/</span>
&nbsp;
&nbsp;
<span style="color: #666666; font-style: italic;"># un prompt personalisé tout en couleur</span>
<span style="color: #666666; font-style: italic;"># formaté comme ça: [nom du virtualenv] sam ~/path (branche git) $</span>
&nbsp;
<span style="color: #7a0874; font-weight: bold;">source</span> ~<span style="color: #000000; font-weight: bold;">/</span>.prompt.bash
&nbsp;
<span style="color: #666666; font-style: italic;"># le fichier ressemble à ça : http://0bin.net/paste/d103a91dc41818462da0c8468ddddf4141f2efd6#dKr6qWHfAVZsSnOQ7fA4pPQ3Dquhz0Oj1b2OF8xw6vA=</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># la configuration de virtualenv wrapper </span>
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">WORKON_HOME</span>=<span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>sam<span style="color: #000000; font-weight: bold;">/</span>.virtualenvs
<span style="color: #c20cb9; font-weight: bold;">mkdir</span> <span style="color: #660033;">-p</span> <span style="color: #007800;">$WORKON_HOME</span>
<span style="color: #7a0874; font-weight: bold;">source</span> <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>local<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>virtualenvwrapper.sh
&nbsp;
<span style="color: #666666; font-style: italic;"># plus de détails ici : http://sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper/</span>
&nbsp;
&nbsp;
<span style="color: #666666; font-style: italic;"># j'ai récément succombé aux sirène du virtualenv automatique</span>
<span style="color: #666666; font-style: italic;"># j'avais beaucoup d'a priori (particulirement écraser la commande CD)</span>
<span style="color: #666666; font-style: italic;"># mais à l'usage, c'est pratique</span>
has_virtualenv<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #7a0874; font-weight: bold;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #660033;">-e</span> .venv <span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
        workon <span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">cat</span> .venv<span style="color: #000000; font-weight: bold;">`</span>
    <span style="color: #000000; font-weight: bold;">fi</span>
<span style="color: #7a0874; font-weight: bold;">&#125;</span>
venv_cd <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #7a0874; font-weight: bold;">&#123;</span>
    <span style="color: #7a0874; font-weight: bold;">builtin</span> <span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #ff0000;">&quot;$@&quot;</span> <span style="color: #000000; font-weight: bold;">&amp;&amp;</span> has_virtualenv
<span style="color: #7a0874; font-weight: bold;">&#125;</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> <span style="color: #007800;">cd</span>=<span style="color: #ff0000;">&quot;venv_cd&quot;</span>
has_virtualenv
&nbsp;
<span style="color: #666666; font-style: italic;"># en gros ça m'active un virtualenv si il y a un fichier .venv avec un nom</span>
<span style="color: #666666; font-style: italic;"># de virtualenv dedans dans le dossier courrant</span>
&nbsp;
&nbsp;
<span style="color: #666666; font-style: italic;"># je vous en parlais récement (http://sametmax.com/configurer-votre-terminal-pour-quil-vous-notifie-de-la-fin-dune-commande-longue/)</span>
<span style="color: #666666; font-style: italic;"># c'est pour avoir une notifi à la fin des commandes longues </span>
notify_when_long_running_commands_finish_install
&nbsp;
&nbsp;
<span style="color: #666666; font-style: italic;"># ca c'est un truc de feignasse car je me souviens jamais comment extraire </span>
<span style="color: #666666; font-style: italic;"># en ligne de commande tel ou tel format</span>
&nbsp;
extract <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #7a0874; font-weight: bold;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #660033;">-f</span> <span style="color: #007800;">$1</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>
    <span style="color: #000000; font-weight: bold;">then</span>
        <span style="color: #000000; font-weight: bold;">case</span> <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">in</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.7z<span style="color: #7a0874; font-weight: bold;">&#41;</span> 7z x <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.lzma<span style="color: #7a0874; font-weight: bold;">&#41;</span> unlzma <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.rar<span style="color: #7a0874; font-weight: bold;">&#41;</span> unrar x <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.tar<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">tar</span> xvf <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.tar.bz2<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">tar</span> xvjf <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.bz2<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">bunzip2</span> <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.tar.gz<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">tar</span> xvzf <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.gz<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">gunzip</span> <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.tar.xz<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">tar</span> Jxvf <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.xz<span style="color: #7a0874; font-weight: bold;">&#41;</span> xz <span style="color: #660033;">-d</span> <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.tbz2<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">tar</span> xvjf <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.tgz<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">tar</span> xvzf <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.zip<span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #c20cb9; font-weight: bold;">unzip</span> <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span>.Z<span style="color: #7a0874; font-weight: bold;">&#41;</span> uncompress <span style="color: #000000; font-weight: bold;">;;</span>
            <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000; font-weight: bold;">*</span><span style="color: #7a0874; font-weight: bold;">&#41;</span> <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;don't know how to extract '$1'...&quot;</span> <span style="color: #000000; font-weight: bold;">;;</span>
        <span style="color: #000000; font-weight: bold;">esac</span>
    <span style="color: #000000; font-weight: bold;">else</span>
        <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;Error: '$1' is not a valid file!&quot;</span>
        <span style="color: #7a0874; font-weight: bold;">exit</span> <span style="color: #000000;">0</span>
    <span style="color: #000000; font-weight: bold;">fi</span>
<span style="color: #7a0874; font-weight: bold;">&#125;</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># ça date de http://sametmax.com/decompresser-sous-linux-en-ligne-de-commande/</span>
&nbsp;
<span style="color: #666666; font-style: italic;"># et quelques alias pour des tâches de tous les jours</span>
&nbsp;
<span style="color: #7a0874; font-weight: bold;">alias</span> ..=<span style="color: #ff0000;">'cd ..'</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> ...=<span style="color: #ff0000;">'cd ../../'</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> ....=<span style="color: #ff0000;">'cd ../../../'</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> .....=<span style="color: #ff0000;">'cd ../../../../'</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> ......=<span style="color: #ff0000;">'cd ../../../../../'</span>
&nbsp;
<span style="color: #7a0874; font-weight: bold;">alias</span> <span style="color: #007800;">process</span>=<span style="color: #ff0000;">'ps aux | grep'</span>
<span style="color: #7a0874; font-weight: bold;">alias</span> <span style="color: #007800;">serve</span>=<span style="color: #ff0000;">&quot;python -c 'import SimpleHTTPServer; SimpleHTTPServer.test()'&quot;</span></pre></div></div>

 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=4238&amp;md5=4bb33c1c0c1f4571ea35919f558f82f3" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/a-linterieur-de-mon-bashrc/feed/</wfw:commentRss>
		<slash:comments>20</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fa-linterieur-de-mon-bashrc%2F&amp;language=en_GB&amp;category=text&amp;title=A+l%26%238217%3Bint%C3%A9rieur+de+mon+.bashrc&amp;description=G%C3%A9n%C3%A9ralement+montrer+son+.bashrc+donne+rapidement+lieu+dans+les+comments+%C3%A0+un+concours+de+celui+qui+a+la+plus+longue+%28jusqu%26%238217%3B%C3%A0+ce+qu%26%238217%3Barrive+un+utilisateur+de+zsh%2C+et+alors+commence...&amp;tags=bash%2Cgit%2Cpython%2Cshell%2Cvirtualenv%2Cvirtualenvwrapper%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/01/23207079.jpg" length="22869" type="image/jpg" />	</item>
		<item>
		<title>Les environnements virtuels Python : virtualenv et virtualenvwrapper</title>
		<link>http://sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper/</link>
		<comments>http://sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper/#comments</comments>
		<pubDate>Fri, 19 Oct 2012 16:49:18 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[virtualenv]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=2660</guid>
		<description><![CDATA[Quand on commence beaucoup programmer, on accumule rapidement plusieurs projets en cours de développement sur sa machine. Certains vieux, certains récents, qui utilisent tous des bibliothèques similaires, mais pas forcément de mêmes versions. Ou parfois des bibliothèques incompatibles. Parfois même, des version différentes de Python: Python 2.6, 2.7, 3.2 ? Et c'est sans compter les mises à jour de l'OS, qui a ses propres besoins en terme de libs et de versions.

Le jour où ça casse, c'est le chaos.]]></description>
			<content:encoded><![CDATA[<p>Quand on commence à beaucoup programmer, on accumule rapidement plusieurs projets en cours de développement sur sa machine. Certains vieux, certains récents, qui utilisent tous des bibliothèques similaires, mais pas forcément de mêmes versions. Ou parfois des bibliothèques incompatibles. Parfois même, des version différentes de Python: Python 2.6, 2.7, 3.2 ? Et c&#8217;est sans compter les mises à jour de l&#8217;OS, qui a ses propres besoins en terme de libs et de versions.</p>
<p>Le jour où ça casse, c&#8217;est le chaos.</p>
<p>Dans le monde de Python, la solution à ce problème est d&#8217;utiliser des environnements virtuels. Ca à l&#8217;air d&#8217;un gros mot, mais derrière ce terme se cache la notion simple d&#8217;avoir des installations de Python isolées de l&#8217;OS, et séparées les unes des autres pour chaque projet.</p>
<p>Il existe plusieurs écoles: certains utilisent <a href="http://www.buildout.org/">buildout</a>. C&#8217;est une solution puissante, et très compliquée. Python 3.3 vient avec <a href="http://docs.python.org/dev/library/venv.html">venv</a>, un outil intégré pour gérer les environnements virtuels. Pour les gens comme moi qui veulent quelque chose qui marche partout, tout le temps et facilement, il y a <a href="http://pypi.python.org/pypi/virtualenv">virtualenv</a>.</p>
<h2>Installation et usage</h2>
<p>Première chose à faire, installer <code>virtualenv</code>:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;">pip <span style="color: #c20cb9; font-weight: bold;">install</span> <span style="color: #660033;">--user</span> virtualenv</pre></div></div>

<p>Si vous avez besoin d&#8217;un <a href="http://sametmax.com/votre-python-aime-les-pip/">rappel sur pip, c&#8217;est par là</a>.</p>
<p>Ensuite, pour chacun de vos projets, créez un environnement virtuel:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;">virtualenv <span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>vers<span style="color: #000000; font-weight: bold;">/</span>projet<span style="color: #000000; font-weight: bold;">/</span>env_nom_du_projet</pre></div></div>

<p>Virtualenv va créer un dossier avec un environnement complet dedans: l&#8217;interpreteur Python, les libs, des commandes, etc. C&#8217;est votre installation isolée.</p>
<p>Pour travailler dans votre installation isolée:</p>
<ul>
<li>sous Unix, il faut faire <code>source /path/vers/projet/env_nom_du_projet/bin/activate</code>.</li>
<li>sous Windows, il faut faire <code>C:\\path\vers\projet\env_nom_du_projet\Scripts\activate.bat</code>.</li>
</ul>
<p>Votre prompt de ligne de commande va changer pour indiquer que vous êtes dans un environnement virtuel:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">&#40;</span>env_nom_du_projet<span style="color: #7a0874; font-weight: bold;">&#41;</span> sam $</pre></div></div>

<p>Si vous installez une bibliothèque avec <code>pip</code>, il l&#8217;installera dans cet environnement virtuel, et elle ne sera pas accessible ailleurs. Si vous lancez la commande <code>python</code>, le shell Python aura accès à toutes les libs de cet environnement virtuel.</p>
<p>Vous pouvez sortir de l&#8217;environnement virtuel avec la commande <code>deactivate</code>.</p>
<p>Creez autant de virtualenv que vous voulez: un par projet, un pour les tests de nouvelles libs, un pour le plaisir, un pour la route&#8230; Ca prend juste de la place, et ce n&#8217;est pas ce qui manque sur nos disques durs de nos jours.</p>
<h2>Quelques astuces avec virtualenv</h2>
<h3>Isolation par rapport à l&#8217;OS</h3>
<p>Vous pouvez choisir que votre env hérite des libs de l&#8217;OS, ou non, mais uniquement à la création. Il faut spécifier une option:</p>
<ul>
<li><code>--no-site-packages</code>: votre environnement est vierge, il n&#8217;hérite pas des libs du système et a seulement accès aux libs standards de Python (<code>os</code>, <code>sys</code>, <code>itertools</code>, <code>json</code>, etc).</li>
<li><code>--system-site-packages</code>: tout ce qui est installé sur l&#8217;OS est disponible dans installé dans l&#8217;env (et sera installé à l&#8217;avenir). Par exemple sous Ubuntu, vous pourrez importer toutes les libs d&#8217;UbuntuOne, le système de synchronisation Cloud d&#8217;Ubuntu écrit en Python.</li>
</ul>
<p>Les anciennes versions ont la valeur <code>--system-site-packages</code> activée par défaut, les nouvelles versions de virtualenv ont la valeur <code>--no-site-packages</code> activée par défaut.</p>
<p>Si vous utilisez <code>--system-site-packages</code>, vous pouvez quand même demander à <code>pip freeze</code> de lister uniquement les libs de l&#8217;env avec l&#8217;option <code>--local</code>.</p>
<h3>Choisir une version de Python</h3>
<p>Parfois vous voudrez utiliser une version spécifique de Python. Vous pouvez tout à fait créer un env dédié à Python 3.2 et un autre à Python 2.6, il faut juste que les deux versions soient installées sur votre système. </p>
<p>Je ne vais pas détailler commen installer deux versions de Python en parallèle sur chaque OS car je n&#8217;ai aucune idée de comment on fait sous Mac ou Windows, mais sous Ubuntu c&#8217;est très simple: par défaut on est en Python 2.7, et pour installer Python 3, on fait <code>sudo apt-get install python3</code>. Pour installer Python 2.6, on fait <code>sudo apt-get python2.6</code>. </p>
<p>On a alors 3 executables: <em>/usr/bin/python</em> va déclencher Python 2.7, <em>/usr/bin/python2.6</em> va appeler Python 2.6, etc. Aucun conflit système, c&#8217;est merveilleux.</p>
<p>Il ne reste qu&#8217;à construire son environnement virtuel en lui passant en paramètre le chemin vers le Python à utiliser:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">virtualenv mon_env -p /usr/bin/python2.6</pre></div></div>

<p>Et voilà, si on active &#8220;mon_env&#8221;, la commande <code>python</code> ouvre un shell en Python 2.6, et toutes les libs de l&#8217;env sont en 2.6.</p>
<p>Attention: on ne peut pas reconvertir facilement un env d&#8217;une version de Python à l&#8217;autre. Une fois que c&#8217;est créé, c&#8217;est fait. Si vous changez d&#8217;avis, faite un <code>pip freeze</code>, supprimez l&#8217;env, recréé l&#8217;env, et faites un <code>pip install -r</code>.</p>
<h3>Virtualenv depuis un script extérieur</h3>
<p>Si vous êtes dans un script extérieur et que vous voulez appeler un de vos scripts avec ce virtualenv, vous n&#8217;avez pas besoin de l&#8217;activer pour que ça marche. Il suffit d&#8217;appeler le script en le passant en paramètre à l&#8217;interpréteur de l&#8217;env. Par exemple:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">/path/vers/projet/env_nom_du_projet/bin/python mon_script.<span style="color: black;">py</span></pre></div></div>

<p>Le script sera alors exécuté dans le cadre du virtualenv.</p>
<h2>virtualenvwrapper: ou comment ne pas se faire chier pour passer d&#8217;un env à l&#8217;autre</h2>
<p>Si vous êtes sous Windows, vous pouvez aller boire une bière à la cuisine, ça ne marche pas sous votre OS.</p>
<p>Pour les chanceux qui ont accès à un Unix, il existe un merveilleux logiciel qui va vous éviter le yoyo entre les envs:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">pip install --<span style="color: #dc143c;">user</span> virtualenvwrapper</pre></div></div>

<p>Ensuite il faut rajouter quelques lignes dans votre script d&#8217;init de shell, par exemple dans <em>~/.bashrc</em>:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">WORKON_HOME</span>=~<span style="color: #000000; font-weight: bold;">/</span>.virtualenvs
<span style="color: #c20cb9; font-weight: bold;">mkdir</span> <span style="color: #660033;">-p</span> <span style="color: #007800;">$WORKON_HOME</span>
<span style="color: #7a0874; font-weight: bold;">source</span> ~<span style="color: #000000; font-weight: bold;">/</span>.local<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>virtualenvwrapper.sh</pre></div></div>

<p>Selon où vous avez installé virtualenvwrapper, la dernière ligne peut changer. Moi, mon virtualenv est installé au niveau du système dont le chemin est plutôt <em>/usr/local/bin/virtualenvwrapper.sh</em>.</p>
<p>Ces lignes vont lancer virtualenvwrapper en permanence dans le shell. Relancez le terminal pour l&#8217;activer. Le premier lancement va vous afficher un tas de lignes, rassurez-vous, ça n&#8217;arrive qu&#8217;une fois.</p>
<p>Ensuite, vous avez accès à de nouvelles commandes:</p>
<ul>
<li><code>mkvirtualenv nom_env</code> va créer un virtualenv dans le dossier <em>~/.virtualenvs</em>, où que vous soyez.</li>
<li><code>workon nom_env</code> va automatiquement activer un env, où que vous soyez.</li>
<li><code>rmvirtualenv nom_env</code> va surpprimer l&#8217;env du même nom.</li>
</ul>
<p>Les options de <code>mkvirtualenv</code> sont les mêmes que pour la commande <code>virtualenv</code>, vous n&#8217;avez juste plus à vous souciez de où sont vos envs, ni de où vous êtes.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=2660&amp;md5=5cdf4a17b02d61b1952bcb03435a6d4f" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper/feed/</wfw:commentRss>
		<slash:comments>14</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fles-environnement-virtuels-python-virtualenv-et-virtualenvwrapper%2F&amp;language=en_GB&amp;category=text&amp;title=Les+environnements+virtuels+Python+%3A+virtualenv+et+virtualenvwrapper&amp;description=Quand+on+commence+%C3%A0+beaucoup+programmer%2C+on+accumule+rapidement+plusieurs+projets+en+cours+de+d%C3%A9veloppement+sur+sa+machine.+Certains+vieux%2C+certains+r%C3%A9cents%2C+qui+utilisent+tous+des+biblioth%C3%A8ques+similaires%2C+mais+pas...&amp;tags=python%2Cvirtualenv%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/10/1350575936-88.183.91.247.png" length="58289" type="image/jpg" />	</item>
		<item>
		<title>Arf, on avait laissé l&#8217;ancien formulaire de contact</title>
		<link>http://sametmax.com/arf-on-avait-laisse-lancien-formulaire-de-contact/</link>
		<comments>http://sametmax.com/arf-on-avait-laisse-lancien-formulaire-de-contact/#comments</comments>
		<pubDate>Thu, 11 Oct 2012 15:53:48 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[email]]></category>
		<category><![CDATA[meta]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[virtualenv]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=2553</guid>
		<description><![CDATA[Le lien vers l'ancien formulaire de contact était toujours accessible, et du coup on a reçu un mail depuis celui-ci, alors qu'on ne peut pas y répondre.

C'est bon, on l'a viré.

En attendant, voici la mail, et la réponse.]]></description>
			<content:encoded><![CDATA[<p>Le lien vers l&#8217;ancien formulaire de contact était toujours accessible, et du coup on a reçu un mail depuis celui-ci, alors qu&#8217;<a href="http://sametmax.com/qui-nont-pas-eu-de-reponse-via-le-formulaire-de-contact-desole/">on ne peut pas y répondre</a>.</p>
<p>C&#8217;est bon, on l&#8217;a viré.</p>
<p>En attendant, voici le mail, et la réponse (je strip l&#8217;intro et la conclusion.):</p>
<blockquote><p>Je viens de lire le post sur virtualenv+django et je me disais qu&#8217;il existe un moyen différent, oserais-je dire plus propre (pas sur la tête pitié &#8230;),  de faire quasiment la même chose.</p>
<p>Je m&#8217;explique : je vois dans le script l&#8217;utilisation de workon, je ne me rappelle plus trop mais je crois que cette commande est amenée par virtualenvwrapper. Dans ce cas là, je voulais vous faire partager le contenu de quelques fichiers contenu dans mon dossier .virtualenvs.</p>
<p>Tout d&#8217;abord le fichier postactivate (hook fourni par virtualenvwrapper s&#8217;insérant après l&#8217;initialisation de l&#8217;environnement) :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #007800;">PROJECT_PATH</span>=<span style="color: #ff0000;">&quot;<span style="color: #007800;">$PROJECT_HOME</span>&quot;</span><span style="color: #000000; font-weight: bold;">/</span><span style="color: #ff0000;">&quot;<span style="color: #007800;">$env_name</span>&quot;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #660033;">-a</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$PROJECT_PATH</span>&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span> ;<span style="color: #000000; font-weight: bold;">then</span>
    <span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$PROJECT_PATH</span>&quot;</span>
<span style="color: #000000; font-weight: bold;">fi</span></pre></div></div>

<p>ce petit script permet de faire ce que tu décris dans le post, si jamais ton dossier contenant le projet ne se trouve pas à l&#8217;endroit défini par la variable d&#8217;environnement <code>$PROJECT_HOME</code>, il est possible d&#8217;overrider son comportement en modifiant <code>PROJECT_PATH</code> par le chemin que tu souhaite dans le fichier <em>.virtualenvs/nom_de_l&#8217;environnement/bin/postactivate</em></p>
<p>Voili voilou et sinon pour encore me faire mousser (mais pas trop hein), je voulais juste vous faire partager un autre script que je place dans postmkproject :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;Create a django project y/n ?&quot;</span>
<span style="color: #000000; font-weight: bold;">while</span> <span style="color: #c20cb9; font-weight: bold;">true</span>
<span style="color: #000000; font-weight: bold;">do</span>
    <span style="color: #c20cb9; font-weight: bold;">read</span> INPUT
    <span style="color: #000000; font-weight: bold;">case</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$INPUT</span>&quot;</span> <span style="color: #000000; font-weight: bold;">in</span>
        <span style="color: #ff0000;">&quot;y&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#41;</span>
            <span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$PROJECT_HOME</span>&quot;</span>
            <span style="color: #c20cb9; font-weight: bold;">rm</span> <span style="color: #660033;">-r</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$envname</span>&quot;</span>
            pip <span style="color: #c20cb9; font-weight: bold;">install</span> django
            django-admin.py startproject <span style="color: #ff0000;">&quot;<span style="color: #007800;">$envname</span>&quot;</span>
            <span style="color: #7a0874; font-weight: bold;">cd</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$envname</span>&quot;</span>
            <span style="color: #7a0874; font-weight: bold;">break</span>
            <span style="color: #000000; font-weight: bold;">;;</span>
        <span style="color: #ff0000;">&quot;n&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#41;</span>
            <span style="color: #7a0874; font-weight: bold;">break</span>
            <span style="color: #000000; font-weight: bold;">;;</span>
    <span style="color: #000000; font-weight: bold;">esac</span>
<span style="color: #000000; font-weight: bold;">done</span></pre></div></div>

<p>En clair, ça demande à l&#8217;utilisateur si son projet sera un projet django, ça télécharge le framework via pip et cela créé directement le projet dans notre dossier <code>PROJECT_HOME</code>, en évitant d&#8217;avoir à créer un autre sous-dossier rien que pour notre application django.</p>
</blockquote>
<p>Bonjour l&#8217;ami,</p>
<p>Merci de l&#8217;info. Comme tu vois, on l&#8217;a fait passer. Quand tu as un truc comme ça à mettre, utilise les commentaires, ça en fait profiter tout le monde !</p>
<p>@+</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=2553&amp;md5=276e7f34e8bddc71832523d0ccf0ba63" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/arf-on-avait-laisse-lancien-formulaire-de-contact/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Farf-on-avait-laisse-lancien-formulaire-de-contact%2F&amp;language=en_GB&amp;category=text&amp;title=Arf%2C+on+avait+laiss%C3%A9+l%26%238217%3Bancien+formulaire+de+contact&amp;description=Le+lien+vers+l%26%238217%3Bancien+formulaire+de+contact+%C3%A9tait+toujours+accessible%2C+et+du+coup+on+a+re%C3%A7u+un+mail+depuis+celui-ci%2C+alors+qu%26%238217%3Bon+ne+peut+pas+y+r%C3%A9pondre.+C%26%238217%3Best+bon%2C+on...&amp;tags=email%2Cmeta%2Cpython%2Cvirtualenv%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/10/redneck_mailbox.jpg" length="55252" type="image/jpg" />	</item>
		<item>
		<title>Un peu de Ruby dans du Python</title>
		<link>http://sametmax.com/un-peu-de-ruby-dans-du-python/</link>
		<comments>http://sametmax.com/un-peu-de-ruby-dans-du-python/#comments</comments>
		<pubDate>Wed, 26 Sep 2012 13:58:13 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[ruby]]></category>
		<category><![CDATA[virtualenv]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=2297</guid>
		<description><![CDATA[Si vous utilisez un virtualenv, vous n'avez pas envie d'installer des libs au niveau du système. 

Et si vous n'êtes pas racistes, vous utilisez peut être quelques tools Ruby, comme <a href="http://compass-style.org/">compass</a>.

Mais du coup, <code>gem install compass</code> ne marche pas, il faut soit faire un <code>sudo</code>, soit plonger dans les méandres de <code>rvm</code>. Pas glop.]]></description>
			<content:encoded><![CDATA[<p>Si vous utilisez un <a href="sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper">virtualenv</a>, vous n&#8217;avez pas envie d&#8217;installer des libs au niveau du système. </p>
<p>Et si vous n&#8217;êtes pas racistes, vous utilisez peut être quelques tools Ruby, comme <a href="http://compass-style.org/">compass</a>.</p>
<p>Mais du coup, <code>gem install compass</code> ne marche pas, il faut soit faire un <code>sudo</code>, soit plonger dans les méandres de <code>rvm</code>. Pas glop.</p>
<h2>Petit astuce</h2>
<p><a href="http://www.doughellmann.com/projects/virtualenvwrapper/">Virtualenv wrapper</a> vient avec des scripts qui se déclenchent à des évenements. Typiquement, <em>env/bin/postactivate</em> est le script déclenché après l&#8217;activation de l&#8217;env.</p>
<p>Mettez dedans:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">GEM_HOME</span>=<span style="color: #ff0000;">&quot;<span style="color: #007800;">$VIRTUAL_ENV</span>/gems&quot;</span>
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">GEM_PATH</span>=<span style="color: #ff0000;">&quot;&quot;</span>
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">PATH</span>=<span style="color: #007800;">$PATH</span>:<span style="color: #ff0000;">&quot;<span style="color: #007800;">$GEM_HOME</span>/bin&quot;</span></pre></div></div>

<p>Et voilà,<code> gem install</code> va maintenant installer les gems dans le virtualenv.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=2297&amp;md5=55e7164287bad0affd030a69e43aa467" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/un-peu-de-ruby-dans-du-python/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fun-peu-de-ruby-dans-du-python%2F&amp;language=en_GB&amp;category=text&amp;title=Un+peu+de+Ruby+dans+du+Python&amp;description=Si+vous+utilisez+un+virtualenv%2C+vous+n%26%238217%3Bavez+pas+envie+d%26%238217%3Binstaller+des+libs+au+niveau+du+syst%C3%A8me.+Et+si+vous+n%26%238217%3B%C3%AAtes+pas+racistes%2C+vous+utilisez+peut+%C3%AAtre+quelques+tools+Ruby%2C+comme...&amp;tags=python%2Cruby%2Cvirtualenv%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/09/th.jpeg" length="6081" type="image/jpg" />	</item>
		<item>
		<title>Sortir de virtualenv &#8211; Exit</title>
		<link>http://sametmax.com/sortir-de-virtualenv-exit/</link>
		<comments>http://sametmax.com/sortir-de-virtualenv-exit/#comments</comments>
		<pubDate>Wed, 18 Jul 2012 13:33:46 +0000</pubDate>
		<dc:creator>Max</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[deactivate]]></category>
		<category><![CDATA[exit]]></category>
		<category><![CDATA[virtualenv]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=1192</guid>
		<description><![CDATA[Sortir de virtualenv avec la commande deactivate]]></description>
			<content:encoded><![CDATA[<p>Un billet pourri de 2 lignes mais ça peut aider.</p>
<p>Si vous voulez sortir de <a href="sametmax.com/les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper">virtualenv</a> vous pouvez utiliser la commande <a href="http://pypi.python.org/pypi/virtualenv/" title="virtualenv">deactivate</a>:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">&#40;</span>sametmax<span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #7a0874; font-weight: bold;">&#91;</span>max<span style="color: #000000; font-weight: bold;">@</span>maximus ~<span style="color: #000000; font-weight: bold;">/</span>work<span style="color: #000000; font-weight: bold;">/</span>sametmax.com<span style="color: #7a0874; font-weight: bold;">&#93;</span> deactivate
<span style="color: #7a0874; font-weight: bold;">&#91;</span>max<span style="color: #000000; font-weight: bold;">@</span>maximus ~<span style="color: #000000; font-weight: bold;">/</span>work<span style="color: #000000; font-weight: bold;">/</span>sametmax.com<span style="color: #7a0874; font-weight: bold;">&#93;</span></pre></div></div>

<p>D&#8217;autres liens sur virtualenv:<br />
- <a href="http://sametmax.com/resoudre-importerror-cannot-import-name-urandom/" title="Résoudre l’erreur Python ImportError: cannot import name urandom">Résoudre l’erreur Python ImportError: cannot import name urandom</a><br />
- <a href="http://sametmax.com/travailler-moins-pour-gagner-plus-en-15-minutes-avec-python-fabric/" title="Travailler moins pour gagner plus, en 15 minutes avec Python fabric">Travailler moins pour gagner plus, en 15 minutes avec Python fabric</a></p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=1192&amp;md5=ff4c04cd3a69d08ed41ebb2e53840d63" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/sortir-de-virtualenv-exit/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fsortir-de-virtualenv-exit%2F&amp;language=en_GB&amp;category=text&amp;title=Sortir+de+virtualenv+%26%238211%3B+Exit&amp;description=Un+billet+pourri+de+2+lignes+mais+%C3%A7a+peut+aider.+Si+vous+voulez+sortir+de+virtualenv+vous+pouvez+utiliser+la+commande+deactivate%3A+%26%2340%3Bsametmax%26%2341%3B%26%2391%3Bmax%40maximus+%7E%2Fwork%2Fsametmax.com%26%2393%3B+deactivate+%26%2391%3Bmax%40maximus+%7E%2Fwork%2Fsametmax.com%26%2393%3B+D%26%238217%3Bautres+liens+sur...&amp;tags=deactivate%2Cexit%2Cvirtualenv%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/07/exit.jpeg" length="29035" type="image/jpg" />	</item>
	</channel>
</rss>
