<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max: Python, Django, Git et du cul &#187; ntp</title>
	<atom:link href="http://sametmax.com/tag/ntp/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 14:20:37 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2F&amp;language=en_US&amp;category=text&amp;title=Sam+%26amp%3B+Max%3A+Python%2C+Django%2C+Git+et+du+cul&amp;description=Deux+d%C3%A9veloppeurs+en+vadrouille+qui+se+sortent+les+doigts+du+code&amp;tags=blog" type="text/html" />
		<item>
		<title>Changer la timezone sous Ubuntu Server en ligne de commande</title>
		<link>http://sametmax.com/changer-la-timezone-sous-ubuntu-server-en-ligne-de-commande/</link>
		<comments>http://sametmax.com/changer-la-timezone-sous-ubuntu-server-en-ligne-de-commande/#comments</comments>
		<pubDate>Fri, 15 Nov 2013 10:28:15 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[ntp]]></category>
		<category><![CDATA[timezone]]></category>
		<category><![CDATA[ubuntu]]></category>
		<category><![CDATA[utc]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=7954</guid>
		<description><![CDATA[Avoir tous ses serveur à la même heure, c'est primordial. Et cette même heure devrait <a href="http://sametmax.com/les-time-zones-en-python/">toujours être UTC</a>. Sous Ubuntu server, ça se fait en deux lignes.
]]></description>
			<content:encoded><![CDATA[<p>Avoir tous ses serveur à la même heure, c&#8217;est primordial. Et cette même heure devrait <a href="http://sametmax.com/les-time-zones-en-python/">toujours être UTC</a>.</p>
<p>Du coup dans votre script de déploiement, n&#8217;oubliez pas de changer la timezone de la machine.</p>
<p>Sous Ubuntu server, ça se fait en deux lignes :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;UTC&quot;</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">tee</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>timezone
<span style="color: #c20cb9; font-weight: bold;">sudo</span> dpkg-reconfigure  <span style="color: #660033;">--frontend</span> noninteractive  tzdata</pre></div></div>

<p>Si vous avez des cron, redémarrez le daemon sinon il sera toujours décalé :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> service cron restart</pre></div></div>

<p>Si vous êtes du genre à aimer la précision, vous pouvez installer un daemon NTP qui permet de synchroniser l&#8217;horloge du serveur régulièrement avec un serveur distant :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get</span> <span style="color: #660033;">-y</span> <span style="color: #c20cb9; font-weight: bold;">install</span> ntp</pre></div></div>

 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=7954&amp;md5=5233124b2b79eb104b08969a1448f361" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/changer-la-timezone-sous-ubuntu-server-en-ligne-de-commande/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fchanger-la-timezone-sous-ubuntu-server-en-ligne-de-commande%2F&amp;language=en_GB&amp;category=text&amp;title=Changer+la+timezone+sous+Ubuntu+Server+en+ligne+de+commande&amp;description=Avoir+tous+ses+serveur+%C3%A0+la+m%C3%AAme+heure%2C+c%26%238217%3Best+primordial.+Et+cette+m%C3%AAme+heure+devrait+toujours+%C3%AAtre+UTC.+Du+coup+dans+votre+script+de+d%C3%A9ploiement%2C+n%26%238217%3Boubliez+pas+de+changer+la...&amp;tags=ntp%2Ctimezone%2Cubuntu%2Cutc%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/11/wAiL8lw.png" length="492697" type="image/jpg" />	</item>
		<item>
		<title>Synchroniser son serveur avec ntp sous Linux</title>
		<link>http://sametmax.com/synchroniser-son-serveur-avec-ntp-sous-linux/</link>
		<comments>http://sametmax.com/synchroniser-son-serveur-avec-ntp-sous-linux/#comments</comments>
		<pubDate>Wed, 15 May 2013 07:32:53 +0000</pubDate>
		<dc:creator>Max</dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[linux]]></category>
		<category><![CDATA[ntp]]></category>
		<category><![CDATA[serveur]]></category>
		<category><![CDATA[synchroniser]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=1086</guid>
		<description><![CDATA[Synchroniser son serveur avec l'heure sub-atomique de Sirus B en quelques clics...]]></description>
			<content:encoded><![CDATA[<p>NTP (Network Time Protocol) est un protocole utilisé pour synchroniser l&#8217;heure de votre système en utilisant un serveur en ligne. Cet article explique comment l&#8217;installer et le configurer sur un système d&#8217;exploitation Linux.</p>
<p><strong>1. Installation</strong></p>
<p>Pour installer le service ntp, ouvrez un terminal en root.</p>
<p><b>Sous Ubuntu:</b></p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get</span> <span style="color: #c20cb9; font-weight: bold;">install</span> ntp</pre></div></div>

<p><b><br />
2. Utilisation<br />
</b></p>
<p>La configuration de ntp se trouve généralement dans le fichier /etc/ntp.conf. On peut y ajouter de nouveaux serveurs de temps, en ajoutant une ligne similaire à celle-ci par exemple :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;">server <span style="color: #000000;">0</span>.fedora.pool.ntp.org dynamic</pre></div></div>

<p>Démarrez ensuite le service avec cette commande afin de synchroniser la date et l&#8217;heure (Attention, il faut plusieurs minutes avant que l&#8217;heure soit synchronisée) :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>init.d<span style="color: #000000; font-weight: bold;">/</span>ntpd start</pre></div></div>

<p>On pourra ensuite vérifier que l&#8217;heure est correcte avec la commande &#8220;date&#8221;:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">&#91;</span>sm<span style="color: #000000; font-weight: bold;">@</span>web1 ~<span style="color: #7a0874; font-weight: bold;">&#93;</span><span style="color: #666666; font-style: italic;"># date</span>
Wed May <span style="color: #000000;">15</span> 07:<span style="color: #000000;">21</span>:<span style="color: #000000;">15</span> UTC <span style="color: #000000;">2013</span>
<span style="color: #7a0874; font-weight: bold;">&#91;</span>sm<span style="color: #000000; font-weight: bold;">@</span>web1 ~<span style="color: #7a0874; font-weight: bold;">&#93;</span><span style="color: #666666; font-style: italic;">#</span></pre></div></div>

<p>Note : en cas de problème, on pourra vérifier le bon fonctionnement avec la commande ntpstat qui donnera des informations sur le statut du service ntp :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">&#91;</span>sm<span style="color: #000000; font-weight: bold;">@</span>web1 ~<span style="color: #7a0874; font-weight: bold;">&#93;</span><span style="color: #666666; font-style: italic;"># ntpstat</span>
synchronised to NTP server <span style="color: #7a0874; font-weight: bold;">&#40;</span>213.161.194.93<span style="color: #7a0874; font-weight: bold;">&#41;</span> at stratum <span style="color: #000000;">4</span>
<span style="color: #000000; font-weight: bold;">time</span> correct to within <span style="color: #000000;">562</span> ms
polling server every <span style="color: #000000;">64</span> s</pre></div></div>

<p><b>A quoi ça sert ?</b></p>
<p>Dans notre cas nous avons des sites qui hébergent du contenu avec des urls qui expirent au bout d&#8217;un certainstemps.<br />
La création de ces urls à durée de vie comptée est faite depuis le serveur web, le contenu se trouvant sur d&#8217;autres serveurs.<br />
ntp dans ce cas nous assure que tous les serveurs seront calés sur la même heure, ce qui évite de générer des urls déjà expirées si un des serveurs de contenu n&#8217;était pas à l&#8217;heure.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=1086&amp;md5=5aabf1ac5ed68a01e3a317c1460fb923" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/synchroniser-son-serveur-avec-ntp-sous-linux/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fsynchroniser-son-serveur-avec-ntp-sous-linux%2F&amp;language=en_GB&amp;category=text&amp;title=Synchroniser+son+serveur+avec+ntp+sous+Linux&amp;description=NTP+%28Network+Time+Protocol%29+est+un+protocole+utilis%C3%A9+pour+synchroniser+l%26%238217%3Bheure+de+votre+syst%C3%A8me+en+utilisant+un+serveur+en+ligne.+Cet+article+explique+comment+l%26%238217%3Binstaller+et+le+configurer+sur+un...&amp;tags=linux%2Cntp%2Cserveur%2Csynchroniser%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2012/07/screenshot_86.jpg" length="53235" type="image/jpg" />	</item>
	</channel>
</rss>
