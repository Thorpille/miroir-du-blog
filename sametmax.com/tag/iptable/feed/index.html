<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max: Python, Django, Git et du cul &#187; iptable</title>
	<atom:link href="http://sametmax.com/tag/iptable/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 14:20:37 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2F&amp;language=en_US&amp;category=text&amp;title=Sam+%26amp%3B+Max%3A+Python%2C+Django%2C+Git+et+du+cul&amp;description=Deux+d%C3%A9veloppeurs+en+vadrouille+qui+se+sortent+les+doigts+du+code&amp;tags=blog" type="text/html" />
		<item>
		<title>Tester une règle IPtable</title>
		<link>http://sametmax.com/tester-une-regle-iptable/</link>
		<comments>http://sametmax.com/tester-une-regle-iptable/#comments</comments>
		<pubDate>Thu, 20 Jun 2013 11:20:22 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[iptable]]></category>
		<category><![CDATA[ssh]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=6414</guid>
		<description><![CDATA[Je ne sais plus du tout où j'ai lu ça, mais vu le nombre de fois où je me suis fais connement kické de mon serveur parce que j'ai joué avec iptable et ai coupé mon accès SSH, je partage.]]></description>
			<content:encoded><![CDATA[<p>Je ne sais plus du tout où j&#8217;ai lu ça, mais vu le nombre de fois où je me suis fais connement kické de mon serveur parce que j&#8217;ai joué avec iptable et ai coupé mon accès SSH, je partage.</p>
<p>En gros, on fait comme votre OS quand vous changez la résolution de l&#8217;écran : on attend 30 secondes et on remet la configuration précédente :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> iptables-save <span style="color: #000000; font-weight: bold;">&gt;</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>iptables.bak <span style="color: #000000; font-weight: bold;">&amp;&amp;</span> <span style="color: #c20cb9; font-weight: bold;">sudo</span> iptables votre_nouvelle_regle <span style="color: #000000; font-weight: bold;">&amp;&amp;</span> <span style="color: #c20cb9; font-weight: bold;">sleep</span> <span style="color: #000000;">30</span> <span style="color: #000000; font-weight: bold;">&amp;&amp;</span> <span style="color: #c20cb9; font-weight: bold;">sudo</span> iptables-restore <span style="color: #000000; font-weight: bold;">&lt;</span> <span style="color: #000000; font-weight: bold;">/</span>etc<span style="color: #000000; font-weight: bold;">/</span>iptables.bak</pre></div></div>

<p>N&#8217;oubliez pas que le dernier <code>sudo</code> ne marchera pas si votre <code>sleep</code> dure trop longtemps (je crois que <code>sudo</code> ne demande pas le password dans les 5 minutes qui suivent la dernière commande avec <code>sudo</code>) donc n&#8217;augmentez pas trop ce chiffre.</p>
<p>Bon, warning, je l&#8217;ai pas encore testé (si la connexion se coupe, est-ce que le shell se ferme pas ?), donc c&#8217;est juste là pour l&#8217;inspiration.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=6414&amp;md5=e3fb455dbf127cf0fcc2cee0cb785d54" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/tester-une-regle-iptable/feed/</wfw:commentRss>
		<slash:comments>18</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Ftester-une-regle-iptable%2F&amp;language=en_GB&amp;category=text&amp;title=Tester+une+r%C3%A8gle+IPtable&amp;description=Je+ne+sais+plus+du+tout+o%C3%B9+j%26%238217%3Bai+lu+%C3%A7a%2C+mais+vu+le+nombre+de+fois+o%C3%B9+je+me+suis+fais+connement+kick%C3%A9+de+mon+serveur+parce+que+j%26%238217%3Bai+jou%C3%A9...&amp;tags=iptable%2Cssh%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/06/yRTnKuy.gif" length="27467" type="image/jpg" />	</item>
		<item>
		<title>Ouvrir un port sur un serveur avec Iptables</title>
		<link>http://sametmax.com/ouvrir-un-port-sur-un-server-avec-iptables/</link>
		<comments>http://sametmax.com/ouvrir-un-port-sur-un-server-avec-iptables/#comments</comments>
		<pubDate>Sun, 10 Feb 2013 06:50:22 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[Programmation]]></category>
		<category><![CDATA[django]]></category>
		<category><![CDATA[iptable]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=4475</guid>
		<description><![CDATA[Dans la série "les commandes dont je ne me souviens jamais", voici la commande qui permet d'ouvrir un port sur le firewall iptable de son serveur.]]></description>
			<content:encoded><![CDATA[<p>Dans la série &#8220;les commandes dont je me souviens jamais&#8221;, voici la commande qui permet d&#8217;ouvrir un port sur le firewall iptable de son serveur (il faut les droits admin) :</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;">iptables <span style="color: #660033;">-A</span> INPUT <span style="color: #660033;">-p</span> tcp <span style="color: #660033;">-m</span> tcp <span style="color: #660033;">--dport</span> <span style="color: #000000;">7777</span> <span style="color: #660033;">-j</span> ACCEPT <span style="color: #666666; font-style: italic;"># ouvrir le port 777</span>
iptables <span style="color: #660033;">-D</span> INPUT <span style="color: #660033;">-p</span> tcp <span style="color: #660033;">-m</span> tcp <span style="color: #660033;">--dport</span> <span style="color: #000000;">7777</span> <span style="color: #660033;">-j</span> ACCEPT <span style="color: #666666; font-style: italic;"># annuler l'ouverture</span>
iptables <span style="color: #660033;">-L</span> <span style="color: #666666; font-style: italic;"># regarder ce qui est ouvert et ce qui l'est pas</span></pre></div></div>

<p>Et après y a des gens qui trouvent que git est cryptique.</p>
<p>Très utile pour la session panique de debuggage en prod sur ce fameux bug aléatoire qui n&#8217;arrive pas sur les machines de dev ni la machine d&#8217;intégration (quand il y en a une&#8230;).</p>
<p>En effet, avec Python et WSGI, tant qu&#8217;on relance pas le process, les changements de codes sont pas pris en compte. Donc je met <code>DEBUG = True</code>, je lance <code>./manage.py <a href="http://pythonhosted.org/django-extensions/">runserver_plus</a> 0.0.0.0:7777</code>, et je debug la prod sans que l&#8217;instance qui sert les clients soient affectées par mes conneries.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=4475&amp;md5=59e93bc2d4f21ef2d325bf23aefc9c56" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/ouvrir-un-port-sur-un-server-avec-iptables/feed/</wfw:commentRss>
		<slash:comments>13</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fouvrir-un-port-sur-un-server-avec-iptables%2F&amp;language=en_GB&amp;category=text&amp;title=Ouvrir+un+port+sur+un+serveur+avec+Iptables&amp;description=Dans+la+s%C3%A9rie+%26%238220%3Bles+commandes+dont+je+me+souviens+jamais%26%238221%3B%2C+voici+la+commande+qui+permet+d%26%238217%3Bouvrir+un+port+sur+le+firewall+iptable+de+son+serveur+%28il+faut+les+droits+admin%29...&amp;tags=django%2Ciptable%2Cpython%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/02/hieroglyphe.jpg" length="157239" type="image/jpg" />	</item>
	</channel>
</rss>
