<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max: Python, Django, Git et du cul &#187; pep8</title>
	<atom:link href="http://sametmax.com/tag/pep8/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 14:20:37 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2F&amp;language=en_US&amp;category=text&amp;title=Sam+%26amp%3B+Max%3A+Python%2C+Django%2C+Git+et+du+cul&amp;description=Deux+d%C3%A9veloppeurs+en+vadrouille+qui+se+sortent+les+doigts+du+code&amp;tags=blog" type="text/html" />
		<item>
		<title>Le PEP8, en résumé</title>
		<link>http://sametmax.com/le-pep8-en-resume/</link>
		<comments>http://sametmax.com/le-pep8-en-resume/#comments</comments>
		<pubDate>Thu, 26 Dec 2013 19:15:10 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[pep8]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=8514</guid>
		<description><![CDATA[Internet, c'est la culture du TL;DR, donc plutôt je vais faire une petite synthèse des trucs les plus importants du <a href="http://www.python.org/dev/peps/pep-0008/#names-to-avoid">PEP8</a>, comme ça si vous avez la flemme de le lire, au moins vous aurez l'essentiel. ]]></description>
			<content:encoded><![CDATA[<p>Internet, c&#8217;est la culture du TL;DR, donc plutôt je vais faire une petite synthèse des trucs les plus importants du <a href="http://www.python.org/dev/peps/pep-0008/#names-to-avoid">PEP8</a>, comme ça si vous avez la flemme de le lire, au moins vous aurez l&#8217;essentiel. </p>
<p>Ce texte liste les règles stylistiques recommandées, invitant toute la communauté Python à écrire un code de la même façon.</p>
<p>Je vais également y ajouter des éléments de style qui ne sont pas dedans, mais que j&#8217;ai pu constater comme étant les choix les plus courants dans les sources que j&#8217;ai pu lire.</p>
<h2>Espaces</h2>
<p>Les opérateurs doivent être entourés d&#8217;espaces.</p>
<p>Il faut faire ceci :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">variable = <span style="color: #483d8b;">'valeur'</span>
&nbsp;
ceci == cela
&nbsp;
<span style="color: #ff4500;">1</span> + <span style="color: #ff4500;">2</span></pre></div></div>

<p>Et non:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">variable=<span style="color: #483d8b;">'valeur'</span>
&nbsp;
ceci==cela
&nbsp;
<span style="color: #ff4500;">1</span>+<span style="color: #ff4500;">2</span></pre></div></div>

<p>Il y a deux exceptions notables.</p>
<p>La première étant qu&#8217;on groupe les opérateurs mathématiques ayant la priorité la plus haute pour distinguer les groupes :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">a = x<span style="color: #66cc66;">*</span><span style="color: #ff4500;">2</span> - <span style="color: #ff4500;">1</span>
b = x<span style="color: #66cc66;">*</span>x + y<span style="color: #66cc66;">*</span>y
c = <span style="color: black;">&#40;</span>a+b<span style="color: black;">&#41;</span> <span style="color: #66cc66;">*</span> <span style="color: black;">&#40;</span>a-b<span style="color: black;">&#41;</span></pre></div></div>

<p>La seconde est le signe <code>=</code> dans la déclaration d&#8217;arguments et le passage de paramètres :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> fonction<span style="color: black;">&#40;</span>arg=<span style="color: #483d8b;">'valeur'</span><span style="color: black;">&#41;</span>: <span style="color: #808080; font-style: italic;">#  ça c'est ok</span>
    <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
resultat = fonction<span style="color: black;">&#40;</span>arg=<span style="color: #483d8b;">'valeur'</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;">#  ça aussi</span></pre></div></div>

<p>On ne met pas d&#8217;espace à l&#8217;intérieur des parenthèses, crochets ou accolades.</p>
<p>Oui :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff4500;">2</span> <span style="color: #66cc66;">*</span> <span style="color: black;">&#40;</span><span style="color: #ff4500;">3</span> + <span style="color: #ff4500;">4</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> fonction<span style="color: black;">&#40;</span>arg=<span style="color: #483d8b;">'valeur'</span><span style="color: black;">&#41;</span>:
&nbsp;
<span style="color: black;">&#123;</span><span style="color: #008000;">str</span><span style="color: black;">&#40;</span>x<span style="color: black;">&#41;</span>: x <span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">10</span><span style="color: black;">&#41;</span><span style="color: black;">&#125;</span>
&nbsp;
val = dico<span style="color: black;">&#91;</span><span style="color: #483d8b;">'key'</span><span style="color: black;">&#93;</span></pre></div></div>

<p>Non :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff4500;">2</span> <span style="color: #66cc66;">*</span> <span style="color: black;">&#40;</span> <span style="color: #ff4500;">3</span> + <span style="color: #ff4500;">4</span> <span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> fonction<span style="color: black;">&#40;</span> arg=<span style="color: #483d8b;">'valeur'</span> <span style="color: black;">&#41;</span>:
&nbsp;
<span style="color: black;">&#123;</span> <span style="color: #008000;">str</span><span style="color: black;">&#40;</span>x<span style="color: black;">&#41;</span>: x <span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">10</span><span style="color: black;">&#41;</span> <span style="color: black;">&#125;</span>
&nbsp;
val = dico<span style="color: black;">&#91;</span> <span style="color: #483d8b;">'key'</span> <span style="color: black;">&#93;</span></pre></div></div>

<p>On ne met pas d&#8217;espace avant les deux points et les virgules, mais après oui.</p>
<p>Oui :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> fonction<span style="color: black;">&#40;</span>arg1=<span style="color: #483d8b;">'valeur'</span>, arg2=<span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
&nbsp;
dico = <span style="color: black;">&#123;</span><span style="color: #483d8b;">'a'</span>: <span style="color: #ff4500;">1</span><span style="color: black;">&#125;</span></pre></div></div>

<p>Non :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> fonction<span style="color: black;">&#40;</span>arg=<span style="color: #483d8b;">'valeur'</span> , arg2=<span style="color: #008000;">None</span><span style="color: black;">&#41;</span> :
&nbsp;
dico = <span style="color: black;">&#123;</span><span style="color: #483d8b;">'a'</span> : <span style="color: #ff4500;">1</span><span style="color: black;">&#125;</span></pre></div></div>

<h2>Lignes</h2>
<p>Une ligne doit se limiter à 79 charactères. Cette limite, héritée des écrans touts petits, est toujours en vigeur car il est plus facile de scanner un code sur une courte colonne qu&#8217;en faisant des aller-retours constant.</p>
<p>Si une ligne est trop longue, il existe plusieurs manières de la racourcir :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">foo = la_chose_au_nom_si_long_quelle_ne_tient_pas_sur<span style="color: black;">&#40;</span>
          une, 
          carte, 
          de, 
          munchkin<span style="color: black;">&#41;</span></pre></div></div>

<p>Ici l&#8217;indentation entre le nom de la fonction et des paramètres est légèrement différente pour mettre en avant la distinction.</p>
<p>Une variante :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">foo = la_chose_au_nom_si_long_quelle<span style="color: black;">&#40;</span>ne, tient, pas, sur, carte 
                                     une, de, munchkin<span style="color: black;">&#41;</span></pre></div></div>

<p>Si c&#8217;est un appel chainé, on peut utiliser <code>\</code> pour mettre à la ligne :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">queryset = ModelDjangoALaNoix.<span style="color: black;">objects</span>\
                             .<span style="color: #008000;">filter</span><span style="color: black;">&#40;</span>banzai=<span style="color: #008000;">True</span><span style="color: black;">&#41;</span>\
                             .<span style="color: black;">exclude</span><span style="color: black;">&#40;</span>chawarma=<span style="color: #008000;">False</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Si c&#8217;est une structure de données, on peut se la jouer langage fonctionel de la vibes du flex :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">chiffres = <span style="color: black;">&#91;</span>
    <span style="color: #ff4500;">1</span>, <span style="color: #ff4500;">2</span>, <span style="color: #ff4500;">3</span>,
    <span style="color: #ff4500;">4</span>, <span style="color: #ff4500;">5</span>, <span style="color: #ff4500;">6</span>,
<span style="color: black;">&#93;</span>
&nbsp;
contacts = <span style="color: black;">&#123;</span>
    <span style="color: #483d8b;">'Cleo'</span>: <span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>,
    <span style="color: #483d8b;">'Ramses'</span>: <span style="color: black;">&#40;</span>
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'maman'</span>, <span style="color: #483d8b;">'0248163264'</span><span style="color: black;">&#41;</span>,
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'papa'</span>, <span style="color: #483d8b;">'01234567890'</span><span style="color: black;">&#41;</span>,
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'mamie'</span>, <span style="color: #483d8b;">'55555555'</span><span style="color: black;">&#41;</span>,
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'momie'</span>, <span style="color: #483d8b;">'066642424269'</span><span style="color: black;">&#41;</span>
    <span style="color: black;">&#41;</span>
<span style="color: black;">&#125;</span></pre></div></div>

<p>Séparer les fonctions et les classes à la racine d&#8217;un module par 2 lignes vides. Les méthodes par 1 ligne vide. Parfois je triche et je fais 3 et 2 au lieu de 2 et 1. </p>
<p>Les imports de plusieurs modules doivent être sur plusieurs lignes :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">sys</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">os</span></pre></div></div>

<p>Et non :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">sys</span>, <span style="color: #dc143c;">os</span></pre></div></div>

<p>Bien sûr, ce n&#8217;est pas valable pour <code>from x import z</code>.</p>
<p>Souvenez-vous qu&#8217;on peut utiliser les parenthèses pour diviser de longues lignes. Par exemple :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> minibelt <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: black;">&#40;</span>dmerge, get, iget, normalize, 
                      chunks, window, skip_duplicates, flatten<span style="color: black;">&#41;</span></pre></div></div>

<p>Idem pour les chaînes très longues :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">s = <span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Les chaînes Python sont automatiquement&quot;</span>
     <span style="color: #483d8b;">&quot;concaténées par la VM si elles sont &quot;</span>
     <span style="color: #483d8b;">&quot;uniquement séparées par des espaces &quot;</span>
     <span style="color: #483d8b;">&quot;ou sauts de lignes.&quot;</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Pour en revenir aux lignes d&#8217;import, on doit les ordonner ainsi :</p>
<ul>
<li>Import de module > import du contenu du module</li>
<li>Import de la lib standard > import de libs tierces parties > import de votre projet</li>
</ul>
<p>Exemple :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">os</span>  <span style="color: #808080; font-style: italic;"># import module de la lib standard</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">sys</span> <span style="color: #808080; font-style: italic;"># on groupe car même type </span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">itertools</span> <span style="color: #ff7700;font-weight:bold;">import</span> islice  <span style="color: #808080; font-style: italic;"># import du contenu du module</span>
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">collections</span> on namedtuple <span style="color: #808080; font-style: italic;"># import groupe car même type</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> requests <span style="color: #808080; font-style: italic;"># import lib tierce partie</span>
<span style="color: #ff7700;font-weight:bold;">import</span> arrow <span style="color: #808080; font-style: italic;"># on groupe car même type</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> django.<span style="color: black;">conf</span> <span style="color: #ff7700;font-weight:bold;">import</span> settings <span style="color: #808080; font-style: italic;"># tierce partie, contenu du module</span>
<span style="color: #ff7700;font-weight:bold;">from</span> django.<span style="color: black;">shortcuts</span> <span style="color: #ff7700;font-weight:bold;">import</span> redirect <span style="color: #808080; font-style: italic;"># on groupe car même type</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> mon_projet.<span style="color: black;">mon_module</span> <span style="color: #ff7700;font-weight:bold;">import</span> ma_bite <span style="color: #808080; font-style: italic;"># mon projet</span></pre></div></div>

<h2>Format du fichier</h2>
<p>Indentation : 4 espaces. Pas de tab. C&#8217;est tout. Ce n&#8217;est pas du PEP8, c&#8217;est juste que les codes qui utilisent les tabs sont en (très très très très très très très très) grande minorité dans la communauté Python. Donc faites pas chier. Sinon on vous attend à la sortie de l&#8217;école. Tous.</p>
<p>Encoding : UTF8 ou ASCII (ce qui est de l&#8217;UTF8 de toute façon).</p>
<h2>Docstrings</h2>
<p>(c.f. <a href="http://www.python.org/dev/peps/pep-0257/">PEP257</a>)</p>
<p>On utilise toujours des triples quotes :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> fonction_avec_docstring_courte<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">&quot;&quot;&quot;Résumé en une ligne.&quot;&quot;&quot;</span>
    <span style="color: #ff7700;font-weight:bold;">pass</span></pre></div></div>

<p>Si la docstring est longue (elle peut être très très très longue si vous le souhaitez) :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> fonction<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">&quot;&quot;&quot;Résumé en une ligne suivi d'une line vide.
&nbsp;
    Description longue de la fonction qui 
    se termine par une ligne vide puis une
    triple quotes sur sa propre ligne.
&nbsp;
    &quot;&quot;&quot;</span></pre></div></div>

<h2>Noms de variables</h2>
<p>Lettres seules, en minuscule : pour les boucles et les indices.</p>
<p>Exemple :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">10</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span>x<span style="color: black;">&#41;</span>
&nbsp;
i = get_index<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> + <span style="color: #ff4500;">12</span>
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span>ma_liste<span style="color: black;">&#91;</span>i<span style="color: black;">&#93;</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Lettres minuscules + underscores : pour les modules, variables, fonctions et méthodes.</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">une_variable = <span style="color: #ff4500;">10</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> une_fonction<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">locals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">or</span> <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> UneClasse:
    <span style="color: #ff7700;font-weight:bold;">def</span> une_methode_comme_une_autre<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">globals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Lettres majuscules + underscores : pour les (pseudo) constantes.</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">MAX_SIZE = <span style="color: #ff4500;">100000</span>  <span style="color: #808080; font-style: italic;"># à mettre après les imports</span></pre></div></div>

<p>Camel case : nom de classe.</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> CeciEstUneClasse:
    <span style="color: #ff7700;font-weight:bold;">def</span> methodiquement<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">pass</span></pre></div></div>

<p>Si le nom contient un acronyme, on fait une entorse à la règle :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> HTMLParserCQFDDDTCCMB:
    <span style="color: #ff7700;font-weight:bold;">def</span> methodiquement<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">pass</span></pre></div></div>

<p>On n&#8217;utilise PAS le mixedCase.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=8514&amp;md5=6d7faba7df4ef3dfcca63e157f006405" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/le-pep8-en-resume/feed/</wfw:commentRss>
		<slash:comments>12</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fle-pep8-en-resume%2F&amp;language=en_GB&amp;category=text&amp;title=Le+PEP8%2C+en+r%C3%A9sum%C3%A9&amp;description=Internet%2C+c%26%238217%3Best+la+culture+du+TL%3BDR%2C+donc+plut%C3%B4t+je+vais+faire+une+petite+synth%C3%A8se+des+trucs+les+plus+importants+du+PEP8%2C+comme+%C3%A7a+si+vous+avez+la+flemme+de+le...&amp;tags=pep8%2Cpython%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/12/LJXGkc9.jpg" length="48321" type="image/jpg" />	</item>
		<item>
		<title>Obfuscating Python</title>
		<link>http://sametmax.com/obfuscating-python/</link>
		<comments>http://sametmax.com/obfuscating-python/#comments</comments>
		<pubDate>Fri, 05 Apr 2013 13:55:53 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[offuscation]]></category>
		<category><![CDATA[pep8]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=4381</guid>
		<description><![CDATA[Python est un langage qu'il est difficile de rendre illisible. Difficile, mais pas impossible.]]></description>
			<content:encoded><![CDATA[<p>Python est un langage qu&#8217;il est difficile de rendre illisible. Difficile, mais pas impossible.</p>
<p>D&#8217;abord, les techniques habituelles de substitutions de lettres par leurs codes ASCII sont toujours valables. Le fameux easter egg <code>import this</code> en fait d&#8217;ailleurs usage;  si vous ouvrez le fichier dont le chemin est contenu dans <code>this.__file__</code>, vous trouverez :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">s = <span style="color: #483d8b;">&quot;&quot;&quot;Gur Mra bs Clguba, ol Gvz Crgref
&nbsp;
Ornhgvshy vf orggre guna htyl.
Rkcyvpvg vf orggre guna vzcyvpvg.
Fvzcyr vf orggre guna pbzcyrk.
Pbzcyrk vf orggre guna pbzcyvpngrq.
Syng vf orggre guna arfgrq.
Fcnefr vf orggre guna qrafr.
Ernqnovyvgl pbhagf.
Fcrpvny pnfrf nera'g fcrpvny rabhtu gb oernx gur ehyrf.
Nygubhtu cenpgvpnyvgl orngf chevgl.
Reebef fubhyq arire cnff fvyragyl.
Hayrff rkcyvpvgyl fvyraprq.
Va gur snpr bs nzovthvgl, ershfr gur grzcgngvba gb thrff.
Gurer fubhyq or bar-- naq cersrenoyl bayl bar --boivbhf jnl gb qb vg.
Nygubhtu gung jnl znl abg or boivbhf ng svefg hayrff lbh'er Qhgpu.
Abj vf orggre guna arire.
Nygubhtu arire vf bsgra orggre guna *evtug* abj.
Vs gur vzcyrzragngvba vf uneq gb rkcynva, vg'f n onq vqrn.
Vs gur vzcyrzragngvba vf rnfl gb rkcynva, vg znl or n tbbq vqrn.
Anzrfcnprf ner bar ubaxvat terng vqrn -- yrg'f qb zber bs gubfr!&quot;&quot;&quot;</span>
&nbsp;
d = <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span>
<span style="color: #ff7700;font-weight:bold;">for</span> c <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span><span style="color: #ff4500;">65</span>, <span style="color: #ff4500;">97</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">for</span> i <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">26</span><span style="color: black;">&#41;</span>:
        d<span style="color: black;">&#91;</span><span style="color: #008000;">chr</span><span style="color: black;">&#40;</span>i+c<span style="color: black;">&#41;</span><span style="color: black;">&#93;</span> = <span style="color: #008000;">chr</span><span style="color: black;">&#40;</span><span style="color: black;">&#40;</span>i+<span style="color: #ff4500;">13</span><span style="color: black;">&#41;</span> <span style="color: #66cc66;">%</span> <span style="color: #ff4500;">26</span> + c<span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">&quot;&quot;</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span><span style="color: black;">&#91;</span>d.<span style="color: black;">get</span><span style="color: black;">&#40;</span>c, c<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">for</span> c <span style="color: #ff7700;font-weight:bold;">in</span> s<span style="color: black;">&#93;</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Ensuite, il y a le fait qu&#8217;il est possible de spécifier (en Python 2.7, mais plus Python 3), l&#8217;encoding du module en ROT13, base64 ou même zip. Au lieux de mettre <code> # -*- coding: utf8 -*-</code>, vous pouvez faire :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;"># -*- coding: rot13 -*-</span>
&nbsp;
cevag h<span style="color: #483d8b;">'Fnz rg Znk, cnepr dhr obver frhy rfg zbvaf qebyr dhr pbqre n cyhfvrhef'</span></pre></div></div>

<p>Mais au dela de ces petites astuces, il y a bien entendu la véritable offuscation, celle qui utilise des imbrications d&#8217;instructions capilotractées avec de multiples niveaux de nesting dans des onliners qui s&#8217;étendent sur des kilomètres en incluant des noms de variables alambiqués le tout organisé dans des structures syntaxiques volontairement obscures en détournant des capacités du langage pour en faire une indigeste bouillie immonde dont la lecture provoquera des saignement durant la phrase de vomi. Comme cette phrase.</p>
<p>Généralement ça passe par un usage massif des features que Guido déteste comme les lambdas ou les <code>;</code>.</p>
<p>Il y a <a href="http://docs.python.org/2/faq/programming.html#is-it-possible-to-write-obfuscated-one-liners-in-python">les classiques</a> onliners à base de map / reduce, par exemples les 1000 premiers nombres &#8230; premiers :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #008000;">filter</span><span style="color: black;">&#40;</span><span style="color: #008000;">None</span>,<span style="color: #008000;">map</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> y:y<span style="color: #66cc66;">*</span><span style="color: #008000;">reduce</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> x,y:x<span style="color: #66cc66;">*</span>y<span style="color: #66cc66;">!</span>=<span style="color: #ff4500;">0</span>, <span style="color: #008000;">map</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> x,y=y:y<span style="color: #66cc66;">%</span>x,<span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">2</span>,<span style="color: #008000;">int</span><span style="color: black;">&#40;</span><span style="color: #008000;">pow</span><span style="color: black;">&#40;</span>y,<span style="color: #ff4500;">0.5</span><span style="color: black;">&#41;</span>+<span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>,<span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span>,<span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">2</span>,<span style="color: #ff4500;">1000</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Ensuite il y a ceux qui aiment se la jouer &#8220;mes variables ont des noms de code Fortran&#8221; :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> Ru,Ro,Iu,Io,IM,Sx,Sy:<span style="color: #008000;">reduce</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> x,y:x+y,<span style="color: #008000;">map</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> y,
Iu=Iu,Io=Io,Ru=Ru,Ro=Ro,Sy=Sy,L=<span style="color: #ff7700;font-weight:bold;">lambda</span> yc,Iu=Iu,Io=Io,Ru=Ru,Ro=Ro,i=IM,
Sx=Sx,Sy=Sy:<span style="color: #008000;">reduce</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> x,y:x+y,<span style="color: #008000;">map</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> x,xc=Ru,yc=yc,Ru=Ru,Ro=Ro,
i=i,Sx=Sx,F=<span style="color: #ff7700;font-weight:bold;">lambda</span> xc,yc,x,y,k,f=<span style="color: #ff7700;font-weight:bold;">lambda</span> xc,yc,x,y,k,f:<span style="color: black;">&#40;</span>k<span style="color: #66cc66;">&lt;</span>=<span style="color: #ff4500;">0</span><span style="color: black;">&#41;</span><span style="color: #ff7700;font-weight:bold;">or</span> <span style="color: black;">&#40;</span>x<span style="color: #66cc66;">*</span>x+y<span style="color: #66cc66;">*</span>y
<span style="color: #66cc66;">&gt;</span>=<span style="color: #ff4500;">4.0</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">or</span> <span style="color: #ff4500;">1</span>+f<span style="color: black;">&#40;</span>xc,yc,x<span style="color: #66cc66;">*</span>x-y<span style="color: #66cc66;">*</span>y+xc,<span style="color: #ff4500;">2.0</span><span style="color: #66cc66;">*</span>x<span style="color: #66cc66;">*</span>y+yc,k-<span style="color: #ff4500;">1</span>,f<span style="color: black;">&#41;</span>:f<span style="color: black;">&#40;</span>xc,yc,x,y,k,f<span style="color: black;">&#41;</span>:<span style="color: #008000;">chr</span><span style="color: black;">&#40;</span>
<span style="color: #ff4500;">64</span>+F<span style="color: black;">&#40;</span>Ru+x<span style="color: #66cc66;">*</span><span style="color: black;">&#40;</span>Ro-Ru<span style="color: black;">&#41;</span>/Sx,yc,<span style="color: #ff4500;">0</span>,<span style="color: #ff4500;">0</span>,i<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>,<span style="color: #008000;">range</span><span style="color: black;">&#40;</span>Sx<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>:L<span style="color: black;">&#40;</span>Iu+y<span style="color: #66cc66;">*</span><span style="color: black;">&#40;</span>Io-Iu<span style="color: black;">&#41;</span>/Sy<span style="color: black;">&#41;</span>,<span style="color: #008000;">range</span><span style="color: black;">&#40;</span>Sy
<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#40;</span>-<span style="color: #ff4500;">2.1</span>, <span style="color: #ff4500;">0.7</span>, -<span style="color: #ff4500;">1.2</span>, <span style="color: #ff4500;">1.2</span>, <span style="color: #ff4500;">30</span>, <span style="color: #ff4500;">80</span>, <span style="color: #ff4500;">24</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Ce qui va afficher cette belle composition de Mandelbrot (si votre terminal fait 80 colonnes de large) :</p>
<div id="attachment_5606" class="wp-caption aligncenter" style="width: 529px"><a href="http://sametmax.com/wp-content/uploads/2013/04/Espace-de-travail-1_004.jpg"><img class=" wp-image-5606 " title="La génération procédurale : ou comment faire de Zolies choZes avec 1ko de code." src="http://sametmax.com/wp-content/uploads/2013/04/Espace-de-travail-1_004.jpg" alt="Mandelbrot dans un terminal" width="519" height="337" /></a><p class="wp-caption-text">La génération procédurale : ou comment faire de Zolies choZes avec 1ko de code.</p></div>
<p>D&#8217;ailleurs, pour l&#8217;offuscation, on adore les trucs de maths parce que ça donne l&#8217;air intelligent et compliqué, et Mandelbrot est un truc très prisé puisqu&#8217;avec peu de lignes on peut outputer du Dali Période Guimauve automatiquement :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">_                                      =   <span style="color: black;">&#40;</span>
                                        <span style="color: #ff4500;">255</span>,
                                      <span style="color: #ff7700;font-weight:bold;">lambda</span>
                               V       ,B,c
                             :c   <span style="color: #ff7700;font-weight:bold;">and</span> Y<span style="color: black;">&#40;</span>V<span style="color: #66cc66;">*</span>V+B,B,  c
                               -<span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span><span style="color: #ff7700;font-weight:bold;">if</span><span style="color: black;">&#40;</span><span style="color: #008000;">abs</span><span style="color: black;">&#40;</span>V<span style="color: black;">&#41;</span><span style="color: #66cc66;">&lt;</span><span style="color: #ff4500;">6</span><span style="color: black;">&#41;</span><span style="color: #ff7700;font-weight:bold;">else</span>
               <span style="color: black;">&#40;</span>              <span style="color: #ff4500;">2</span>+c-<span style="color: #ff4500;">4</span><span style="color: #66cc66;">*</span><span style="color: #008000;">abs</span><span style="color: black;">&#40;</span>V<span style="color: black;">&#41;</span><span style="color: #66cc66;">**</span>-<span style="color: #ff4500;">0.4</span><span style="color: black;">&#41;</span>/i
                 <span style="color: black;">&#41;</span>  <span style="color: #66cc66;">;</span>v,      x=<span style="color: #ff4500;">1500</span>,<span style="color: #ff4500;">1000</span><span style="color: #66cc66;">;</span>C=<span style="color: #008000;">range</span><span style="color: black;">&#40;</span>v<span style="color: #66cc66;">*</span>x
                  <span style="color: black;">&#41;</span><span style="color: #66cc66;">;</span>import  <span style="color: #dc143c;">struct</span><span style="color: #66cc66;">;</span>P=<span style="color: #dc143c;">struct</span>.<span style="color: black;">pack</span><span style="color: #66cc66;">;</span>M,\
            j  =<span style="color: #483d8b;">'&lt;QIIHHHH'</span>,<span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'M.bmp'</span>,<span style="color: #483d8b;">'wb'</span><span style="color: black;">&#41;</span>.<span style="color: black;">write</span>
<span style="color: #ff7700;font-weight:bold;">for</span> X <span style="color: #ff7700;font-weight:bold;">in</span> j<span style="color: black;">&#40;</span><span style="color: #483d8b;">'BM'</span>+P<span style="color: black;">&#40;</span>M,v<span style="color: #66cc66;">*</span>x<span style="color: #66cc66;">*</span><span style="color: #ff4500;">3</span>+<span style="color: #ff4500;">26</span>,<span style="color: #ff4500;">26</span>,<span style="color: #ff4500;">12</span>,v,x,<span style="color: #ff4500;">1</span>,<span style="color: #ff4500;">24</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: #ff7700;font-weight:bold;">or</span> C:
            i  ,Y=_<span style="color: #66cc66;">;</span>j<span style="color: black;">&#40;</span>P<span style="color: black;">&#40;</span><span style="color: #483d8b;">'BBB'</span>,<span style="color: #66cc66;">*</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> T:<span style="color: black;">&#40;</span>T<span style="color: #66cc66;">*</span><span style="color: #ff4500;">80</span>+T<span style="color: #66cc66;">**</span><span style="color: #ff4500;">9</span>
                  <span style="color: #66cc66;">*</span>i-<span style="color: #ff4500;">950</span><span style="color: #66cc66;">*</span>T  <span style="color: #66cc66;">**</span><span style="color: #ff4500;">99</span>,T<span style="color: #66cc66;">*</span><span style="color: #ff4500;">70</span>-<span style="color: #ff4500;">880</span><span style="color: #66cc66;">*</span>T<span style="color: #66cc66;">**</span><span style="color: #ff4500;">18</span>+<span style="color: #ff4500;">701</span><span style="color: #66cc66;">*</span>
                 T  <span style="color: #66cc66;">**</span><span style="color: #ff4500;">9</span>     ,T<span style="color: #66cc66;">*</span>i<span style="color: #66cc66;">**</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">1</span>-T<span style="color: #66cc66;">**</span><span style="color: #ff4500;">45</span><span style="color: #66cc66;">*</span><span style="color: #ff4500;">2</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#40;</span><span style="color: #008000;">sum</span><span style="color: black;">&#40;</span>
               <span style="color: black;">&#91;</span>              Y<span style="color: black;">&#40;</span><span style="color: #ff4500;">0</span>,<span style="color: black;">&#40;</span>A<span style="color: #66cc66;">%</span>3/<span style="color: #ff4500;">3</span>.+X<span style="color: #66cc66;">%</span>v+<span style="color: black;">&#40;</span>X/v+
                               A/<span style="color: #ff4500;">3</span>/<span style="color: #ff4500;">3</span>.-x/<span style="color: #ff4500;">2</span><span style="color: black;">&#41;</span>/1j<span style="color: black;">&#41;</span><span style="color: #66cc66;">*</span><span style="color: #ff4500;">2.5</span>
                             /x   -<span style="color: #ff4500;">2.7</span>,i<span style="color: black;">&#41;</span><span style="color: #66cc66;">**</span><span style="color: #ff4500;">2</span> <span style="color: #ff7700;font-weight:bold;">for</span>  \
                               A       <span style="color: #ff7700;font-weight:bold;">in</span> C
                                      <span style="color: black;">&#91;</span>:<span style="color: #ff4500;">9</span><span style="color: black;">&#93;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
                                        /<span style="color: #ff4500;">9</span><span style="color: black;">&#41;</span>
                                       <span style="color: black;">&#41;</span>   <span style="color: black;">&#41;</span></pre></div></div>

<p>Notez cette fois que le code, en plus d&#8217;être particulièrement imbuvable, a été gentiment indenté pour ressembler à la figure qu&#8217;il va lui même pondre dans le fichier <em>M.bmp</em> que voici :</p>
<p><a href="http://sametmax.com/wp-content/uploads/2013/04/mandelbrot.bmp"><img src="http://sametmax.com/wp-content/uploads/2013/04/mandelbrot.bmp" alt="" title="En plus un set de Mandelbrot, c&#039;est indépendant de la résolution. On peut en pondre de taille arbitraire. C&#039;est trop cool, comme de l&#039;argent infini mais pour des images qui servent à rien." class="aligncenter size-full wp-image-5607" /></a></p>
<p>Mais bien entendu il y a des gens qui arrivent à faire des trucs moches sans entrainement. Par exemple des codeurs JS qui vous font ça:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">&quot;longue chaine&quot;</span>.<span style="color: black;">find</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'chaine'</span><span style="color: black;">&#41;</span> <span style="color: #66cc66;">!</span>= -<span style="color: #ff4500;">1</span>:</pre></div></div>

<p>Au lieu de :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'chaine'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #483d8b;">'longue chaine'</span>:</pre></div></div>

<p>Ou alors les programmeurs C qui font :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">0</span>, <span style="color: #008000;">len</span><span style="color: black;">&#40;</span>ma_list<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> ma_list<span style="color: black;">&#91;</span>x<span style="color: black;">&#93;</span></pre></div></div>

<p>Alors qu&#8217;on a :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> ma_list:
    <span style="color: #ff7700;font-weight:bold;">print</span> x</pre></div></div>

<p>Et au besoin:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">for</span> i, x <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">enumerate</span><span style="color: black;">&#40;</span>ma_list<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> i, x</pre></div></div>

<p>Et à peu près la moitié des programmeurs d&#8217;autres langages qui font :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">if</span> truc == <span style="color: #008000;">True</span>:
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span>ma_list<span style="color: black;">&#41;</span>:</pre></div></div>

<p>Alors que:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">if</span> truc:
     <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> ma_list:</pre></div></div>

<p>Marche très bien.</p>
<p>Je vous passe les <strong>isintance()</strong> que nous font les programmeurs Java, les check au lieu des gestions des exceptions et les gens qui écrivent les variables en camelCase. <a href="http://python.lycee.free.fr/blog/?p=199">Des gens très compétents font du code horrible</a>.</p>
<p>Certains trouvent que le créateur du langage a été un nazi pour avoir forcé les gens à utiliser l&#8217;indentation et les sauts de ligne ou pour avoir limité les lambdas. Quand je lis le code de certains, j&#8217;ai tendance au contraire à trouver la politique actuelle proche de l&#8217;anarchisme hippie. Interdisons les tabs. Les &#8220;;&#8221; plus de 3 fois d&#8217;affilé. Les nombres de saut de ligne qui ne sont pas standard face au PEP8. En fait faisons des syntax errors sur le PEP8. Et les syntaxes errors déclencheront des chocs électriques via le clavier.</p>
<p>Et on enverra tous ceux qui sont pas d&#8217;accord dans des camps d’entraînement pour qu&#8217;ils puissent tous se concentrer un peu plus sur leur code.</p>
<p>Sinon à quoi ça sert d&#8217;être un BDFL ?</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=4381&amp;md5=fa4c2750b02680399079ef6cfaeee8ca" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/obfuscating-python/feed/</wfw:commentRss>
		<slash:comments>16</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Fobfuscating-python%2F&amp;language=en_GB&amp;category=text&amp;title=Obfuscating+Python&amp;description=Python+est+un+langage+qu%26%238217%3Bil+est+difficile+de+rendre+illisible.+Difficile%2C+mais+pas+impossible.+D%26%238217%3Babord%2C+les+techniques+habituelles+de+substitutions+de+lettres+par+leurs+codes+ASCII+sont+toujours+valables.+Le...&amp;tags=offuscation%2Cpep8%2Cpython%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/04/jn49d.jpg" length="144623" type="image/jpg" />	</item>
		<item>
		<title>TypeError: Error when calling the metaclass bases function() argument 1 must be code, not str</title>
		<link>http://sametmax.com/typeerror-error-when-calling-the-metaclass-bases-function-argument-1-must-be-code-not-str/</link>
		<comments>http://sametmax.com/typeerror-error-when-calling-the-metaclass-bases-function-argument-1-must-be-code-not-str/#comments</comments>
		<pubDate>Wed, 16 Jan 2013 12:16:23 +0000</pubDate>
		<dc:creator>Sam</dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[error]]></category>
		<category><![CDATA[exception]]></category>
		<category><![CDATA[heritage]]></category>
		<category><![CDATA[pep8]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=4150</guid>
		<description><![CDATA[Cette erreur est souvent déclenchée quand on essaye d'hériter d'une fonction au lieu d'une classe. Cela peut arriver par erreur avec des fonctions qui sont nommées en CamelCase, en dépit du PEP8.]]></description>
			<content:encoded><![CDATA[<p>Cette erreur est souvent déclenchée quand on essaye d&#8217;hériter d&#8217;une fonction au lieu d&#8217;une classe. Cela peut arriver par erreur avec des fonctions qui sont nommées en CamelCase, en dépit du PEP8.</p>
<p>Par exemple:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> Truc<span style="color: black;">&#40;</span><span style="color: #dc143c;">threading</span>.<span style="color: black;">Condition</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> Machine<span style="color: black;">&#40;</span><span style="color: #dc143c;">tempfile</span>.<span style="color: black;">NamedTemporaryFile</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">pass</span></pre></div></div>

<p>Lèveront l&#8217;exception :</p>
<pre>TypeError: Error when calling the metaclass bases
    function() argument 1 must be code, not str</pre>
<p>Car:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">threading</span>, <span style="color: #dc143c;">tempfile</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #008000;">type</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">threading</span>.<span style="color: black;">Condition</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&lt;</span>type <span style="color: #483d8b;">'function'</span><span style="color: #66cc66;">&gt;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #008000;">type</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">tempfile</span>.<span style="color: black;">NamedTemporaryFile</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&lt;</span>type <span style="color: #483d8b;">'function'</span><span style="color: #66cc66;">&gt;</span></pre></div></div>

<p>Malgré leurs noms en majuscule.</p>
<p>Le message d&#8217;erreur est lui-même complètement obscure. Bref, le genre de truc qui est 100% lié à des erreurs d&#8217;autres personnes que vous aller payer par une après-midi de debug si on ne vous donne pas la solution. </p>
<p>Mais bon, la queue de celui qui n&#8217;a jamais pourri l&#8217;après-midi d&#8217;un autre codeur avec son travail merdique jette le premier parpaing.</p>
 <p><a href="http://sametmax.com/?flattrss_redirect&amp;id=4150&amp;md5=8f1d003b28606f0f8e8c65212ba69ab1" title="Flattr" target="_blank"><img src="http://sametmax.com/wp-content/plugins/flattr/img/flattr-badge-large.png" alt="flattr this!"/></a></p>]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/typeerror-error-when-calling-the-metaclass-bases-function-argument-1-must-be-code-not-str/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		<atom:link rel="payment" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=sam_et_max&amp;popout=1&amp;url=http%3A%2F%2Fsametmax.com%2Ftypeerror-error-when-calling-the-metaclass-bases-function-argument-1-must-be-code-not-str%2F&amp;language=en_GB&amp;category=text&amp;title=TypeError%3A+Error+when+calling+the+metaclass+bases+function%28%29+argument+1+must+be+code%2C+not+str&amp;description=Cette+erreur+est+souvent+d%C3%A9clench%C3%A9e+quand+on+essaye+d%26%238217%3Bh%C3%A9riter+d%26%238217%3Bune+fonction+au+lieu+d%26%238217%3Bune+classe.+Cela+peut+arriver+par+erreur+avec+des+fonctions+qui+sont+nomm%C3%A9es+en+CamelCase%2C+en+d%C3%A9pit...&amp;tags=error%2Cexception%2Cheritage%2Cpep8%2Cpython%2Cblog" type="text/html" />
<enclosure url="http://sametmax.com/wp-content/uploads/2013/01/errormessagesrk3.png" length="424492" type="image/jpg" />	</item>
	</channel>
</rss>
