<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
		>
<channel>
	<title>Comments on: Tu vas crever, oui ?</title>
	<atom:link href="http://sametmax.com/tu-vas-crever-oui/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/tu-vas-crever-oui/</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Mon, 02 Dec 2013 10:54:05 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-14447</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Tue, 01 Oct 2013 13:10:02 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-14447</guid>
		<description>Ah ouai, c&#039;est vachement mieux ! Merci !</description>
		<content:encoded><![CDATA[<p>Ah ouai, c&#8217;est vachement mieux ! Merci !</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: nononinimoumous</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-14224</link>
		<dc:creator>nononinimoumous</dc:creator>
		<pubDate>Sat, 14 Sep 2013 14:58:28 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-14224</guid>
		<description>Le code ci dessus est tronqué par erreur, la voici au complet:
http://paste.ubuntu.com/6088302/</description>
		<content:encoded><![CDATA[<p>Le code ci dessus est tronqué par erreur, la voici au complet:<br />
<a href="http://paste.ubuntu.com/6088302/" rel="nofollow">http://paste.ubuntu.com/6088302/</a></p>
]]></content:encoded>
	</item>
	<item>
		<title>By: nononinimoumous</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-14087</link>
		<dc:creator>nononinimoumous</dc:creator>
		<pubDate>Tue, 10 Sep 2013 11:29:50 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-14087</guid>
		<description>Cette fonction très sympathique &lt;del&gt;de demeuré&lt;/del&gt; au demeurant est un peu trop meurtrière, dans le sens où elle laisse traîner beaucoup trop de morceaux de cadavres et de sang (segments d&#039;allocation mémoire actifs, fichiers temporaires ouverts, processus parents orphelins, sockets occupés...)

Si je peux me permettre de proposer ma contribution pour passer de Uma Thurman à Sam Fisher:

&lt;pre lang=&quot;bash&quot;&gt;function killbill {
	BAK=$IFS
	IFS=$&#039;\n&#039;
	for id in $(ps aux &#124; grep -P -i $1 &#124; grep -v &quot;grep&quot; &#124; awk &#039;{printf $2&quot; &quot;; for (i=11; i&lt;NF; i++) printf $i&quot; &quot;; print $NF}&#039;); do 
		service=$(echo $id &#124; cut -d &quot; &quot; -f 1)
		if [[ $2 == &quot;-t&quot; ]]; then
            echo $service \&quot;$(echo $id &#124; cut -d &quot; &quot; -f 2-)\&quot; &quot;would be killed&quot;
		else
            echo $service \&quot;$(echo $id &#124; cut -d &quot; &quot; -f 2-)\&quot; &quot;killed&quot;
			for signal in &quot;TERM&quot; &quot;INT&quot; &quot;HUP&quot; &quot;KILL&quot; &quot;9&quot;; do
    			kill -$signal $service
    			RETVAL=$?
    			[ $RETVAL -eq 0 ] &amp;&amp; break
    			echo &quot;warning: kill failed: pid=$service, signal=$signal&quot; &gt;&amp;2
    			sleep 1
    		done
		fi
	done
	IFS=$BAK
}&lt;/pre&gt;</description>
		<content:encoded><![CDATA[<p>Cette fonction très sympathique <del>de demeuré</del> au demeurant est un peu trop meurtrière, dans le sens où elle laisse traîner beaucoup trop de morceaux de cadavres et de sang (segments d&#8217;allocation mémoire actifs, fichiers temporaires ouverts, processus parents orphelins, sockets occupés&#8230;)</p>
<p>Si je peux me permettre de proposer ma contribution pour passer de Uma Thurman à Sam Fisher:</p>

<div class="wp_syntax"><div class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">function</span> killbill <span style="color: #7a0874; font-weight: bold;">&#123;</span>
	<span style="color: #007800;">BAK</span>=<span style="color: #007800;">$IFS</span>
	<span style="color: #007800;">IFS</span>=$<span style="color: #ff0000;">'\n'</span>
	<span style="color: #000000; font-weight: bold;">for</span> <span style="color: #c20cb9; font-weight: bold;">id</span> <span style="color: #000000; font-weight: bold;">in</span> $<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #c20cb9; font-weight: bold;">ps</span> aux <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #660033;">-P</span> <span style="color: #660033;">-i</span> <span style="color: #007800;">$1</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #660033;">-v</span> <span style="color: #ff0000;">&quot;grep&quot;</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">awk</span> <span style="color: #ff0000;">'{printf $2&quot; &quot;; for (i=11; i&lt;NF; i++) printf $i&quot; &quot;; print $NF}'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>; <span style="color: #000000; font-weight: bold;">do</span> 
		<span style="color: #007800;">service</span>=$<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$id</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">cut</span> <span style="color: #660033;">-d</span> <span style="color: #ff0000;">&quot; &quot;</span> <span style="color: #660033;">-f</span> <span style="color: #000000;">1</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
		<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #007800;">$2</span> == <span style="color: #ff0000;">&quot;-t&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span><span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
            <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$service</span> <span style="color: #000000; font-weight: bold;">\&quot;</span>$<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$id</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">cut</span> <span style="color: #660033;">-d</span> <span style="color: #ff0000;">&quot; &quot;</span> <span style="color: #660033;">-f</span> <span style="color: #000000;">2</span>-<span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #000000; font-weight: bold;">\&quot;</span> <span style="color: #ff0000;">&quot;would be killed&quot;</span>
		<span style="color: #000000; font-weight: bold;">else</span>
            <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$service</span> <span style="color: #000000; font-weight: bold;">\&quot;</span>$<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #007800;">$id</span> <span style="color: #000000; font-weight: bold;">|</span> <span style="color: #c20cb9; font-weight: bold;">cut</span> <span style="color: #660033;">-d</span> <span style="color: #ff0000;">&quot; &quot;</span> <span style="color: #660033;">-f</span> <span style="color: #000000;">2</span>-<span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #000000; font-weight: bold;">\&quot;</span> <span style="color: #ff0000;">&quot;killed&quot;</span>
			<span style="color: #000000; font-weight: bold;">for</span> signal <span style="color: #000000; font-weight: bold;">in</span> <span style="color: #ff0000;">&quot;TERM&quot;</span> <span style="color: #ff0000;">&quot;INT&quot;</span> <span style="color: #ff0000;">&quot;HUP&quot;</span> <span style="color: #ff0000;">&quot;KILL&quot;</span> <span style="color: #ff0000;">&quot;9&quot;</span>; <span style="color: #000000; font-weight: bold;">do</span>
    			<span style="color: #c20cb9; font-weight: bold;">kill</span> -<span style="color: #007800;">$signal</span> <span style="color: #007800;">$service</span>
    			<span style="color: #007800;">RETVAL</span>=<span style="color: #007800;">$?</span>
    			<span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #007800;">$RETVAL</span> <span style="color: #660033;">-eq</span> <span style="color: #000000;">0</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span> <span style="color: #000000; font-weight: bold;">&amp;&amp;</span> <span style="color: #7a0874; font-weight: bold;">break</span>
    			<span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;warning: kill failed: pid=<span style="color: #007800;">$service</span>, signal=<span style="color: #007800;">$signal</span>&quot;</span> <span style="color: #000000; font-weight: bold;">&gt;&amp;</span><span style="color: #000000;">2</span>
    			<span style="color: #c20cb9; font-weight: bold;">sleep</span> <span style="color: #000000;">1</span>
    		<span style="color: #000000; font-weight: bold;">done</span>
		<span style="color: #000000; font-weight: bold;">fi</span>
	<span style="color: #000000; font-weight: bold;">done</span>
	<span style="color: #007800;">IFS</span>=<span style="color: #007800;">$BAK</span>
<span style="color: #7a0874; font-weight: bold;">&#125;</span></pre></div></div>

]]></content:encoded>
	</item>
	<item>
		<title>By: Max</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-245</link>
		<dc:creator>Max</dc:creator>
		<pubDate>Tue, 22 May 2012 13:54:03 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-245</guid>
		<description>Je connaissais pas, vais aller voir ça, merci du tuyau huggy ;)</description>
		<content:encoded><![CDATA[<p>Je connaissais pas, vais aller voir ça, merci du tuyau huggy ;)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Gardouille</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-241</link>
		<dc:creator>Gardouille</dc:creator>
		<pubDate>Tue, 22 May 2012 12:58:40 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-241</guid>
		<description>D&#039;où l&#039;intérêt de passer à zsh et son auto-complétion plutôt que bash =)

dans zshrc j&#039;y ai collé ça:
zstyle &#039;:completion:*:*:*:*:processes&#039; menu yes select
zstyle &#039;:completion:*:processes&#039; command &#039;ps -au$USER&#039;
zstyle &#039;:completion:*:*:kill:*:processes&#039; list-colors &quot;=(#b) #([0-9]#)*=36=31&quot;

Et j&#039;ai plusieurs options de complétions: un menu listant mes process, auto-complétion en fonction du PID ou du nom du process ... à partir de la commande kill.

Après avoir pas mal utilisé bash au début, je suis rapidement arrivé à la fin des personnalisation que je pouvais apporté (c&#039;était peut-être à cause de mes compétences de l&#039;époque aussi ^^). Alors qu&#039;avec zsh t&#039;as pas mal de trucs super pratique déjà intégrés et surtout un manuel et une doc juste monstrueux.

Bref zsh c&#039;est bon, mangez-en =)</description>
		<content:encoded><![CDATA[<p>D&#8217;où l&#8217;intérêt de passer à zsh et son auto-complétion plutôt que bash =)</p>
<p>dans zshrc j&#8217;y ai collé ça:<br />
zstyle &#8216;:completion:*:*:*:*:processes&#8217; menu yes select<br />
zstyle &#8216;:completion:*:processes&#8217; command &#8216;ps -au$USER&#8217;<br />
zstyle &#8216;:completion:*:*:kill:*:processes&#8217; list-colors &#8220;=(#b) #([0-9]#)*=36=31&#8243;</p>
<p>Et j&#8217;ai plusieurs options de complétions: un menu listant mes process, auto-complétion en fonction du PID ou du nom du process &#8230; à partir de la commande kill.</p>
<p>Après avoir pas mal utilisé bash au début, je suis rapidement arrivé à la fin des personnalisation que je pouvais apporté (c&#8217;était peut-être à cause de mes compétences de l&#8217;époque aussi ^^). Alors qu&#8217;avec zsh t&#8217;as pas mal de trucs super pratique déjà intégrés et surtout un manuel et une doc juste monstrueux.</p>
<p>Bref zsh c&#8217;est bon, mangez-en =)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-86</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Sat, 05 May 2012 11:43:21 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-86</guid>
		<description>Quoting myself:

&lt;blockquote&gt; Sous Linux par contre, vous allez tenter un par un : pkill, killall, xkill… Et puis quand (presque toujours) rien ne marche, un bon vieux ps aux &#124; grep machin suivi de kill -9.
&lt;/blockquote&gt;

Pkill et killall marchent un jour sur deux, sauf quand c&#039;est la pleine lune et jamais un vendredi pendant une année bisextile.</description>
		<content:encoded><![CDATA[<p>Quoting myself:</p>
<blockquote><p> Sous Linux par contre, vous allez tenter un par un : pkill, killall, xkill… Et puis quand (presque toujours) rien ne marche, un bon vieux ps aux | grep machin suivi de kill -9.
</p></blockquote>
<p>Pkill et killall marchent un jour sur deux, sauf quand c&#8217;est la pleine lune et jamais un vendredi pendant une année bisextile.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Baronsed</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-83</link>
		<dc:creator>Baronsed</dc:creator>
		<pubDate>Sat, 05 May 2012 05:03:14 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-83</guid>
		<description>N&#039;est pas ce que fait pkill ? Bon, à part le -9, certes. Sinon, les magic keys... portent bien leur nom.</description>
		<content:encoded><![CDATA[<p>N&#8217;est pas ce que fait pkill ? Bon, à part le -9, certes. Sinon, les magic keys&#8230; portent bien leur nom.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-73</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Thu, 03 May 2012 22:28:52 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-73</guid>
		<description>Y deux choses qui foirent 50% du temps sous linux: le copier/coller et killall -9.

J&#039;ai passé des heures essayer de des process comme le daemon d&#039;ubuntu one avec les commandes normales, ça ne marche jamais.

Killbill n&#039;est pas une solution propre, mais par contre le résultat est garanti. Je ne peux plus m&#039;en passer, il est dans tous les .bashrc du moindre des serveurs que je gère.</description>
		<content:encoded><![CDATA[<p>Y deux choses qui foirent 50% du temps sous linux: le copier/coller et killall -9.</p>
<p>J&#8217;ai passé des heures essayer de des process comme le daemon d&#8217;ubuntu one avec les commandes normales, ça ne marche jamais.</p>
<p>Killbill n&#8217;est pas une solution propre, mais par contre le résultat est garanti. Je ne peux plus m&#8217;en passer, il est dans tous les .bashrc du moindre des serveurs que je gère.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Fred</title>
		<link>http://sametmax.com/tu-vas-crever-oui/#comment-71</link>
		<dc:creator>Fred</dc:creator>
		<pubDate>Thu, 03 May 2012 20:17:32 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=56#comment-71</guid>
		<description>Je me trompe peut-être mais il me semble que &quot;killall -9&quot; est tout aussi efficace non ?</description>
		<content:encoded><![CDATA[<p>Je me trompe peut-être mais il me semble que &#8220;killall -9&#8243; est tout aussi efficace non ?</p>
]]></content:encoded>
	</item>
</channel>
</rss>
