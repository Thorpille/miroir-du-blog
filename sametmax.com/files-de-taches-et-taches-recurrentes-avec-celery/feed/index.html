<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
		>
<channel>
	<title>Comments on: Files de tâches et tâches récurrentes avec Celery</title>
	<atom:link href="http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Mon, 02 Dec 2013 10:54:05 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<item>
		<title>By: Lhassa</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11913</link>
		<dc:creator>Lhassa</dc:creator>
		<pubDate>Tue, 30 Jul 2013 22:49:48 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11913</guid>
		<description>m***** alors, je voulais vous demander comment vous gériez les files de tâches (pas les commentaires, hein...), et vous répondez avant que je questionne, trop fort.
J&#039;ai commencé à écrire mon propre truc, mais non seulement c&#039;est évidement réinventer la roue (comme dit plus haut) parce que si j&#039;y pense, d&#039;autre aussi... mais en plus c&#039;est nul.

MERCI à vous, ma prochaine bouteille de rouge vous sera dédiée, en attendant de perdre du temps avec plaisir au boulot, à enfin apprendre des trucs utile...</description>
		<content:encoded><![CDATA[<p>m***** alors, je voulais vous demander comment vous gériez les files de tâches (pas les commentaires, hein&#8230;), et vous répondez avant que je questionne, trop fort.<br />
J&#8217;ai commencé à écrire mon propre truc, mais non seulement c&#8217;est évidement réinventer la roue (comme dit plus haut) parce que si j&#8217;y pense, d&#8217;autre aussi&#8230; mais en plus c&#8217;est nul.</p>
<p>MERCI à vous, ma prochaine bouteille de rouge vous sera dédiée, en attendant de perdre du temps avec plaisir au boulot, à enfin apprendre des trucs utile&#8230;</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11849</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Tue, 30 Jul 2013 11:11:44 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11849</guid>
		<description>RabbitMQ est avant tout un système de messagerie, et il est donc intéressant pour ce genre de chose. Par ailleurs, AMPQ est un protocole de PUSH, alors que sur des DB, on utilise du polling pour simuler le PUSH, du coup RabbitMQ est plus performant.

Pour la plupart des cas, on s&#039;en branle.</description>
		<content:encoded><![CDATA[<p>RabbitMQ est avant tout un système de messagerie, et il est donc intéressant pour ce genre de chose. Par ailleurs, AMPQ est un protocole de PUSH, alors que sur des DB, on utilise du polling pour simuler le PUSH, du coup RabbitMQ est plus performant.</p>
<p>Pour la plupart des cas, on s&#8217;en branle.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: VonTenia</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11813</link>
		<dc:creator>VonTenia</dc:creator>
		<pubDate>Mon, 29 Jul 2013 21:07:44 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11813</guid>
		<description>Marrant comme timing, je viens de passer le weekend a mettre en place un systeme anti-fraude sous celery et puis je decouvre votre article maintenant... 
Comme vous j&#039;ai choisis d&#039;utiliser un broker redis par simplicité. Quelqu&#039;un avec de l&#039;experience pourrait argumenter sur la superiorité de rabitMQ ? Parce que ca a l&#039;air quand meme beaucoup plus complexe.
Et je plussois ce qui est dit dans ce post a propos de la superiorite de celery comparé à vouloir faire son propre systeme de traitement asynchrone : on commence par se dire que celery, un broker et tout ca c&#039;est un peu trop compliqué pour ce qu&#039;on veut faire et au final on se retrouve a reinventer la roue en pensant faire plus simple... Bref meme pour un petit projet n&#039;hesitez pas, utilisez celery. Perso je fais juste des verifications de coherences et un appel à une API sur les donnees envoyées et je ne voulais pas penaliser l&#039;experience utilisateur avec ces verifications.</description>
		<content:encoded><![CDATA[<p>Marrant comme timing, je viens de passer le weekend a mettre en place un systeme anti-fraude sous celery et puis je decouvre votre article maintenant&#8230;<br />
Comme vous j&#8217;ai choisis d&#8217;utiliser un broker redis par simplicité. Quelqu&#8217;un avec de l&#8217;experience pourrait argumenter sur la superiorité de rabitMQ ? Parce que ca a l&#8217;air quand meme beaucoup plus complexe.<br />
Et je plussois ce qui est dit dans ce post a propos de la superiorite de celery comparé à vouloir faire son propre systeme de traitement asynchrone : on commence par se dire que celery, un broker et tout ca c&#8217;est un peu trop compliqué pour ce qu&#8217;on veut faire et au final on se retrouve a reinventer la roue en pensant faire plus simple&#8230; Bref meme pour un petit projet n&#8217;hesitez pas, utilisez celery. Perso je fais juste des verifications de coherences et un appel à une API sur les donnees envoyées et je ne voulais pas penaliser l&#8217;experience utilisateur avec ces verifications.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Fred</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11801</link>
		<dc:creator>Fred</dc:creator>
		<pubDate>Mon, 29 Jul 2013 13:27:24 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11801</guid>
		<description>Merci :)
Et +1 pour supervisord voire circus ! Perso j&#039;utilise upstart pour lancer et manipuler mes démons (gunicorn notamment) mais je suis curieux de voir ce qui se fait à côté.</description>
		<content:encoded><![CDATA[<p>Merci :)<br />
Et +1 pour supervisord voire circus ! Perso j&#8217;utilise upstart pour lancer et manipuler mes démons (gunicorn notamment) mais je suis curieux de voir ce qui se fait à côté.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: guatar</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11773</link>
		<dc:creator>guatar</dc:creator>
		<pubDate>Mon, 29 Jul 2013 07:22:50 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11773</guid>
		<description>En plus des files d&#039;attentes tu peux aussi en faire de la &lt;a href=&quot;http://www.marmiton.org/recettes/recette_celeri-remoulade_35874.aspx&quot; rel=&quot;nofollow&quot;&gt;remoulade de ton celeri&lt;/a&gt; </description>
		<content:encoded><![CDATA[<p>En plus des files d&#8217;attentes tu peux aussi en faire de la <a href="http://www.marmiton.org/recettes/recette_celeri-remoulade_35874.aspx" rel="nofollow">remoulade de ton celeri</a></p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Kad</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11743</link>
		<dc:creator>Kad</dc:creator>
		<pubDate>Sun, 28 Jul 2013 17:30:42 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11743</guid>
		<description>Il manque plus qu&#039;un article sur supervisord et on pourra gérer un système rien qu&#039;avec du python!!</description>
		<content:encoded><![CDATA[<p>Il manque plus qu&#8217;un article sur supervisord et on pourra gérer un système rien qu&#8217;avec du python!!</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11738</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Sun, 28 Jul 2013 15:28:57 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11738</guid>
		<description>Arf, je vais pas aller jusqu&#039;à corriger les comments, sinon je suis parti pour l&#039;asile.</description>
		<content:encoded><![CDATA[<p>Arf, je vais pas aller jusqu&#8217;à corriger les comments, sinon je suis parti pour l&#8217;asile.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: roro</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11733</link>
		<dc:creator>roro</dc:creator>
		<pubDate>Sun, 28 Jul 2013 12:48:35 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11733</guid>
		<description>@Sam:&quot;...et par dessus on créer&quot; --&gt; on crée.
Cela donne l&#039;impression que ta pensée a été modifiée sur le parcours cerveau/main.
Tu nous aurais pas choppé un trojan ?</description>
		<content:encoded><![CDATA[<p>@Sam:&#8221;&#8230;et par dessus on créer&#8221; &#8211;&gt; on crée.<br />
Cela donne l&#8217;impression que ta pensée a été modifiée sur le parcours cerveau/main.<br />
Tu nous aurais pas choppé un trojan ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11728</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Sun, 28 Jul 2013 08:43:30 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11728</guid>
		<description>Le broken est le système qui :

- stocke les files d&#039;attentes
- s&#039;assure que la bonne tache est dans la bonne file d&#039;attente
- ordonne les taches dans les files d&#039;attentes
- permet de récupérer la prochaine tâche à effectuer dans la file d&#039;attente donnée

Celery ne fait qu&#039;appeler des fonctions du broker pour fonctionner.

Il faut bien comprendre que le broker doit pouvoir representer une file ordonnée, y accéder de manière concurrente depuis n&#039;importe quel système connecté en local ou à distance, mettre des labels sur les files, etc.

Certains système, comme AMPQ, sont spécialisés là dedans, d&#039;autre, comme les bases de données, sont détournées pour cela.

Par exemple, dans le cadre de MongoDB, il y a une collection messages qui va contenir toutes les tâches (à la base, un broker est un livreur de message, et par dessus on créer des files de tâches, mais on peut s&#039;en servir pour plein d&#039;autre choses). 
Ensuite il y a une collection routing qui contient les informations pour savoir dans quelle liste mettre quelle tâche. En effet, il peut y avoir des centaines de files, avec des labels, et une tâches peut être &quot;routée&quot; vers une file ou une autre selon le besoin (je ne l&#039;ai pas montré dans l&#039;article, car c&#039;est un usage avancé). Enfin broadcast contient les informations qui spécifient à qui propager l&#039;information une fois qu&#039;un message, ici notre tâche, a été traité.

Par contre pour supprimer une tâche, t&#039;as vraiment fais ta feignasse, ça m&#039;a pris 3 secondes pour trouver ça sur un moteur de recherche :

&lt;pre lang=&quot;python&quot;&gt;celery.control.revoke(uuid, terminate=True)&lt;/pre&gt;

Merci pour le signalement du lien mort.</description>
		<content:encoded><![CDATA[<p>Le broken est le système qui :</p>
<p>- stocke les files d&#8217;attentes<br />
- s&#8217;assure que la bonne tache est dans la bonne file d&#8217;attente<br />
- ordonne les taches dans les files d&#8217;attentes<br />
- permet de récupérer la prochaine tâche à effectuer dans la file d&#8217;attente donnée</p>
<p>Celery ne fait qu&#8217;appeler des fonctions du broker pour fonctionner.</p>
<p>Il faut bien comprendre que le broker doit pouvoir representer une file ordonnée, y accéder de manière concurrente depuis n&#8217;importe quel système connecté en local ou à distance, mettre des labels sur les files, etc.</p>
<p>Certains système, comme AMPQ, sont spécialisés là dedans, d&#8217;autre, comme les bases de données, sont détournées pour cela.</p>
<p>Par exemple, dans le cadre de MongoDB, il y a une collection messages qui va contenir toutes les tâches (à la base, un broker est un livreur de message, et par dessus on créer des files de tâches, mais on peut s&#8217;en servir pour plein d&#8217;autre choses).<br />
Ensuite il y a une collection routing qui contient les informations pour savoir dans quelle liste mettre quelle tâche. En effet, il peut y avoir des centaines de files, avec des labels, et une tâches peut être &#8220;routée&#8221; vers une file ou une autre selon le besoin (je ne l&#8217;ai pas montré dans l&#8217;article, car c&#8217;est un usage avancé). Enfin broadcast contient les informations qui spécifient à qui propager l&#8217;information une fois qu&#8217;un message, ici notre tâche, a été traité.</p>
<p>Par contre pour supprimer une tâche, t&#8217;as vraiment fais ta feignasse, ça m&#8217;a pris 3 secondes pour trouver ça sur un moteur de recherche :</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">celery.<span style="color: black;">control</span>.<span style="color: black;">revoke</span><span style="color: black;">&#40;</span>uuid, terminate=<span style="color: #008000;">True</span><span style="color: black;">&#41;</span></pre></div></div>

<p>Merci pour le signalement du lien mort.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Benjamin</title>
		<link>http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/#comment-11727</link>
		<dc:creator>Benjamin</dc:creator>
		<pubDate>Sun, 28 Jul 2013 08:04:08 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=6880#comment-11727</guid>
		<description>Lien cassé: http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/tache1

Bon article, mais ce qui reste obscure pour moi avec Celery, c&#039;est à quoi servent le broker. Par exemple, j&#039;utilise MongoDb et je vois les nouvelles collections &lt;code&gt;messages&lt;/code&gt;, &lt;code&gt;messages.routing&lt;/code&gt;, et &lt;code&gt;messages.broadcast&lt;/code&gt;, mais je n&#039;arrive toujours pas à comprendre leur fonction. Autre question, comment supprimer une tâche de la file d&#039;attente?</description>
		<content:encoded><![CDATA[<p>Lien cassé: <a href="http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/tache1" rel="nofollow">http://sametmax.com/files-de-taches-et-taches-recurrentes-avec-celery/tache1</a></p>
<p>Bon article, mais ce qui reste obscure pour moi avec Celery, c&#8217;est à quoi servent le broker. Par exemple, j&#8217;utilise MongoDb et je vois les nouvelles collections <code>messages</code>, <code>messages.routing</code>, et <code>messages.broadcast</code>, mais je n&#8217;arrive toujours pas à comprendre leur fonction. Autre question, comment supprimer une tâche de la file d&#8217;attente?</p>
]]></content:encoded>
	</item>
</channel>
</rss>
