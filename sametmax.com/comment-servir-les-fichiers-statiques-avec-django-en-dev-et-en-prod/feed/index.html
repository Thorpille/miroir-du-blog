<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
		>
<channel>
	<title>Comments on: Comment servir les fichiers statiques avec Django en dev et en prod</title>
	<atom:link href="http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 12:15:31 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<item>
		<title>By: foxmask</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-3111</link>
		<dc:creator>foxmask</dc:creator>
		<pubDate>Tue, 13 Nov 2012 15:39:54 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-3111</guid>
		<description>@sam, merci, parfait !</description>
		<content:encoded><![CDATA[<p>@sam, merci, parfait !</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-3106</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Tue, 13 Nov 2012 15:07:21 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-3106</guid>
		<description>@foxmask: wooops, j&#039;avais pas vu ton comment foxmask, sorry.

Donc, django_quicky ne sert rien par défaut, il faut rajouter le middleware &#039;django_quicky.middleware.StaticServe&#039;. Dans ce cas oui, tous les fichiers statiques sont servis par Django. Idéalement on le met dans le fichier local_settings.py

Moi j&#039;utilise une troisième voie: je met &#039;django_quicky.middleware.StaticServe&#039; dans tous les cas, et j&#039;override en prod l&#039;url des fichier statiques avec nginx. Mais faut vraiment faire gaffe à pas se planter dans ce cas, c&#039;est pour ça que je ne recommande pas cette méthode.</description>
		<content:encoded><![CDATA[<p>@foxmask: wooops, j&#8217;avais pas vu ton comment foxmask, sorry.</p>
<p>Donc, django_quicky ne sert rien par défaut, il faut rajouter le middleware &#8216;django_quicky.middleware.StaticServe&#8217;. Dans ce cas oui, tous les fichiers statiques sont servis par Django. Idéalement on le met dans le fichier local_settings.py</p>
<p>Moi j&#8217;utilise une troisième voie: je met &#8216;django_quicky.middleware.StaticServe&#8217; dans tous les cas, et j&#8217;override en prod l&#8217;url des fichier statiques avec nginx. Mais faut vraiment faire gaffe à pas se planter dans ce cas, c&#8217;est pour ça que je ne recommande pas cette méthode.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-3104</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Tue, 13 Nov 2012 14:44:02 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-3104</guid>
		<description>Quand un projet est bien lancé et devient sérieux, ça a du sens. Mais quand on démarre un projet, quand il s&#039;agit d&#039;un petit projet ou quand la deadline est serrée, mirrorer la production c&#039;est du boulot en plus.

Et c&#039;est aussi un frein pour les débutants.

C&#039;est la même problématique pour la base de données, le moteur de recherche, le gestionnaire de cache, le message broker, etc. Pour tous ces composants, on s&#039;expose au risque d&#039;avoir des différences de comportement en prod (qui n&#039;a jamais eu des surprises de type ou de taille de nom de colonne en passant de sqlite à mysql). Mais en même temps, un setup complet ? C&#039;est la journée de perdue.

Peut être que le tout VM peut résoudre ça.</description>
		<content:encoded><![CDATA[<p>Quand un projet est bien lancé et devient sérieux, ça a du sens. Mais quand on démarre un projet, quand il s&#8217;agit d&#8217;un petit projet ou quand la deadline est serrée, mirrorer la production c&#8217;est du boulot en plus.</p>
<p>Et c&#8217;est aussi un frein pour les débutants.</p>
<p>C&#8217;est la même problématique pour la base de données, le moteur de recherche, le gestionnaire de cache, le message broker, etc. Pour tous ces composants, on s&#8217;expose au risque d&#8217;avoir des différences de comportement en prod (qui n&#8217;a jamais eu des surprises de type ou de taille de nom de colonne en passant de sqlite à mysql). Mais en même temps, un setup complet ? C&#8217;est la journée de perdue.</p>
<p>Peut être que le tout VM peut résoudre ça.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Samuel Martin</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-3091</link>
		<dc:creator>Samuel Martin</dc:creator>
		<pubDate>Tue, 13 Nov 2012 05:46:48 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-3091</guid>
		<description>Je serais tenté de dire que même en local il est préférable de déployer la même architecture qu&#039;en production. Aussi chez moi même en local je sers les medias et les static via Nginx. Le comportement est proche de la prod et donc pas d&#039;oubli.</description>
		<content:encoded><![CDATA[<p>Je serais tenté de dire que même en local il est préférable de déployer la même architecture qu&#8217;en production. Aussi chez moi même en local je sers les medias et les static via Nginx. Le comportement est proche de la prod et donc pas d&#8217;oubli.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: foxmask</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-2814</link>
		<dc:creator>foxmask</dc:creator>
		<pubDate>Fri, 02 Nov 2012 03:40:35 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-2814</guid>
		<description>@sam merci 

effectivement c&#039;est horripilant j&#039;ai tourné en rond, je ne voyais pas ce qui ne le satisfaisait pas. Bien entendu c&#039;est pour avoir un premier aperçu de l&#039;appli avant que le contenu static ne soit géré par le serveur HTTP.

avec django_quicky le contenu static est géré par Django du coup ? ou les 2 (avec front HTTP et/ou django) ?</description>
		<content:encoded><![CDATA[<p>@sam merci </p>
<p>effectivement c&#8217;est horripilant j&#8217;ai tourné en rond, je ne voyais pas ce qui ne le satisfaisait pas. Bien entendu c&#8217;est pour avoir un premier aperçu de l&#8217;appli avant que le contenu static ne soit géré par le serveur HTTP.</p>
<p>avec django_quicky le contenu static est géré par Django du coup ? ou les 2 (avec front HTTP et/ou django) ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-2810</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Fri, 02 Nov 2012 02:36:28 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-2810</guid>
		<description>@foxmask:

&lt;code&gt;staticfiles_urlpatterns()&lt;/code&gt; check en interne DEBUG et se désactive si on est sur False.

Les dev de Django considère que c&#039;est une feature, j&#039;ai trouvé trouver ça agaçant.

Deux solutions:

Soit tu sers les fichiers à l&#039;ancienne:


&lt;pre lang=&quot;python&quot;&gt;    urlpatterns += patterns(&#039;&#039;,
        (r&#039;%s/(?P&lt;path&gt;.*)$&#039; % settings.MEDIA_URL.strip(&#039;/&#039;),
         &#039;django.views.static.serve&#039;,
         {&#039;document_root&#039;: settings.MEDIA_ROOT}),
    )&lt;/pre&gt;

Soit tu installe Django_quicky et tu utilise le middleware qui sert les static files. Il fait tout automatiquement, y a juste une ligne à rajouter dans le settings, et il sert aussi bien les medias, que les fichiers statiques des tes apps et celles de l&#039;admin, dans tous les cas de figures.

Bien entendu, dans le cas ou on active le service des fichiers statiques avec DEBUG = False, il faut faire très attention à la mise en production de bien servir les fichiers par le serveur front end et pas Django, car on le s&#039;en rendra pas compte facilement. C&#039;est facile de l&#039;oublier.</description>
		<content:encoded><![CDATA[<p>@foxmask:</p>
<p><code>staticfiles_urlpatterns()</code> check en interne DEBUG et se désactive si on est sur False.</p>
<p>Les dev de Django considère que c&#8217;est une feature, j&#8217;ai trouvé trouver ça agaçant.</p>
<p>Deux solutions:</p>
<p>Soit tu sers les fichiers à l&#8217;ancienne:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">    urlpatterns += patterns<span style="color: black;">&#40;</span><span style="color: #483d8b;">''</span>,
        <span style="color: black;">&#40;</span>r<span style="color: #483d8b;">'%s/(?P&lt;path&gt;.*)$'</span> <span style="color: #66cc66;">%</span> settings.<span style="color: black;">MEDIA_URL</span>.<span style="color: black;">strip</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'/'</span><span style="color: black;">&#41;</span>,
         <span style="color: #483d8b;">'django.views.static.serve'</span>,
         <span style="color: black;">&#123;</span><span style="color: #483d8b;">'document_root'</span>: settings.<span style="color: black;">MEDIA_ROOT</span><span style="color: black;">&#125;</span><span style="color: black;">&#41;</span>,
    <span style="color: black;">&#41;</span></pre></div></div>

<p>Soit tu installe Django_quicky et tu utilise le middleware qui sert les static files. Il fait tout automatiquement, y a juste une ligne à rajouter dans le settings, et il sert aussi bien les medias, que les fichiers statiques des tes apps et celles de l&#8217;admin, dans tous les cas de figures.</p>
<p>Bien entendu, dans le cas ou on active le service des fichiers statiques avec DEBUG = False, il faut faire très attention à la mise en production de bien servir les fichiers par le serveur front end et pas Django, car on le s&#8217;en rendra pas compte facilement. C&#8217;est facile de l&#8217;oublier.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: foxmask</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-2807</link>
		<dc:creator>foxmask</dc:creator>
		<pubDate>Fri, 02 Nov 2012 01:09:50 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-2807</guid>
		<description>Ah heu ok</description>
		<content:encoded><![CDATA[<p>Ah heu ok</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Max</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-2803</link>
		<dc:creator>Max</dc:creator>
		<pubDate>Thu, 01 Nov 2012 23:53:59 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-2803</guid>
		<description>Moi quand je passe la 3eme sur ma 404 j&#039;ai les pignons qui craquent, une idée ?</description>
		<content:encoded><![CDATA[<p>Moi quand je passe la 3eme sur ma 404 j&#8217;ai les pignons qui craquent, une idée ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: foxmask</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-2801</link>
		<dc:creator>foxmask</dc:creator>
		<pubDate>Thu, 01 Nov 2012 22:07:11 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-2801</guid>
		<description>Quand je passe DEBUG à False et tape 
&lt;code&gt;
python manage.py runserver
&lt;/code&gt; 
je n&#039;ai plus accès à mon contenu static (que des 404) alors meme que :
&lt;code&gt;
python manage.py findstatic css/monfichier.css 
&lt;/code&gt;
est trouvé, une suggestion ?</description>
		<content:encoded><![CDATA[<p>Quand je passe DEBUG à False et tape<br />
<code><br />
python manage.py runserver<br />
</code><br />
je n&#8217;ai plus accès à mon contenu static (que des 404) alors meme que :<br />
<code><br />
python manage.py findstatic css/monfichier.css<br />
</code><br />
est trouvé, une suggestion ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: bussiere</title>
		<link>http://sametmax.com/comment-servir-les-fichiers-statiques-avec-django-en-dev-et-en-prod/#comment-2592</link>
		<dc:creator>bussiere</dc:creator>
		<pubDate>Tue, 23 Oct 2012 14:31:21 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=2706#comment-2592</guid>
		<description>Merci de l&#039;article</description>
		<content:encoded><![CDATA[<p>Merci de l&#8217;article</p>
]]></content:encoded>
	</item>
</channel>
</rss>
