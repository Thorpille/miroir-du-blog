<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
		>
<channel>
	<title>Comments on: Appeler du code C depuis Python avec ctypes</title>
	<atom:link href="http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Mon, 02 Dec 2013 10:54:05 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-15981</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Thu, 21 Nov 2013 13:45:21 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-15981</guid>
		<description>D&#039;abord, je t&#039;invite à &lt;a href=&quot;http://sametmax.com/template-de-demande-daide-en-informatique/&quot; rel=&quot;nofollow&quot;&gt;lire ceci&lt;/a&gt;. Ensuite, je te recommande de l&#039;appliquer sur le forum de l&#039;&lt;a href=&quot;http://afpy.org/&quot; rel=&quot;nofollow&quot;&gt;afpy&lt;/a&gt;, puisque des commentaires de blog ne sont pas un bon moyen de communiquer pour aider au debug.</description>
		<content:encoded><![CDATA[<p>D&#8217;abord, je t&#8217;invite à <a href="http://sametmax.com/template-de-demande-daide-en-informatique/" rel="nofollow">lire ceci</a>. Ensuite, je te recommande de l&#8217;appliquer sur le forum de l&#8217;<a href="http://afpy.org/" rel="nofollow">afpy</a>, puisque des commentaires de blog ne sont pas un bon moyen de communiquer pour aider au debug.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Joks</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-15980</link>
		<dc:creator>Joks</dc:creator>
		<pubDate>Thu, 21 Nov 2013 12:17:43 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-15980</guid>
		<description>Bonjour.

tout d&#039;abord je tiens a vous remercier pour cet EXCELENT tuto ! simple, et tres bien expliqué !

J&#039;ai crée une DLL qui fonctionne. je l&#039;ai tester avec un autre programme en C, et il arrive bien à utiliser les  fonction de cette DLL.
Néanmoins cela ne fonctionne pas lors de l’interfaçage avec python... 
toutes vos étapes fonctionnent jusqu&#039;à ce que j&#039;éssaie d&#039;utiliser une fonction de la dll :
res = zelib.addition(2, 3)
me renvoie : AttibuteError: function &#039;multiplier&#039; not found

Auriez-vous une solution ? car cela fait plusieurs jours que je n&#039;en trouve pas... (j&#039;ai tenté de jeter un oeil à la doc python mais sans résultats...) ^^&#039;

Je vous en serais infiniment reconnaissant si vous pouviez m&#039;aider.

cordialement.</description>
		<content:encoded><![CDATA[<p>Bonjour.</p>
<p>tout d&#8217;abord je tiens a vous remercier pour cet EXCELENT tuto ! simple, et tres bien expliqué !</p>
<p>J&#8217;ai crée une DLL qui fonctionne. je l&#8217;ai tester avec un autre programme en C, et il arrive bien à utiliser les  fonction de cette DLL.<br />
Néanmoins cela ne fonctionne pas lors de l’interfaçage avec python&#8230;<br />
toutes vos étapes fonctionnent jusqu&#8217;à ce que j&#8217;éssaie d&#8217;utiliser une fonction de la dll :<br />
res = zelib.addition(2, 3)<br />
me renvoie : AttibuteError: function &#8216;multiplier&#8217; not found</p>
<p>Auriez-vous une solution ? car cela fait plusieurs jours que je n&#8217;en trouve pas&#8230; (j&#8217;ai tenté de jeter un oeil à la doc python mais sans résultats&#8230;) ^^&#8217;</p>
<p>Je vous en serais infiniment reconnaissant si vous pouviez m&#8217;aider.</p>
<p>cordialement.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: FX</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8802</link>
		<dc:creator>FX</dc:creator>
		<pubDate>Sat, 11 May 2013 10:22:24 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8802</guid>
		<description>Je connaissais pas non plus. Nous a priori on n&#039;a pas trop de libs existantes, tout le code est entièrement fait main avec amour, donc Cython ou C c&#039;est bien plus approprié ;)

(D&#039;ailleurs, je suis en train de commencer à tester Cython, c&#039;est vraiment sympa, tu fais la même chose qu&#039;en C en plus sûr et en 3 fois moins de lignes, mais ça manque un poil de doc pour le moment...)</description>
		<content:encoded><![CDATA[<p>Je connaissais pas non plus. Nous a priori on n&#8217;a pas trop de libs existantes, tout le code est entièrement fait main avec amour, donc Cython ou C c&#8217;est bien plus approprié ;)</p>
<p>(D&#8217;ailleurs, je suis en train de commencer à tester Cython, c&#8217;est vraiment sympa, tu fais la même chose qu&#8217;en C en plus sûr et en 3 fois moins de lignes, mais ça manque un poil de doc pour le moment&#8230;)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8772</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Fri, 10 May 2013 11:30:36 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8772</guid>
		<description>Je ne connaissais pas le projet.</description>
		<content:encoded><![CDATA[<p>Je ne connaissais pas le projet.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kontre</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8767</link>
		<dc:creator>kontre</dc:creator>
		<pubDate>Fri, 10 May 2013 08:05:08 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8767</guid>
		<description>Vous avez essayé de comparer avec &lt;a href=&quot;http://cffi.readthedocs.org/&quot; rel=&quot;nofollow&quot;&gt;cffi&lt;/a&gt; ?</description>
		<content:encoded><![CDATA[<p>Vous avez essayé de comparer avec <a href="http://cffi.readthedocs.org/" rel="nofollow">cffi</a> ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: FX</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8720</link>
		<dc:creator>FX</dc:creator>
		<pubDate>Mon, 06 May 2013 20:09:23 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8720</guid>
		<description>@Kontre: Héhé, ça conviendrait parfaitement à mon boulot, merci pour les liens, je vais jeter un oeil quand j&#039;aurai le temps!

Nous on ne va pas aussi loin que plusieurs Go, mais on a des TIFF de quelques 500Mo, donc les extensions C c&#039;est carrément utile ;)</description>
		<content:encoded><![CDATA[<p>@Kontre: Héhé, ça conviendrait parfaitement à mon boulot, merci pour les liens, je vais jeter un oeil quand j&#8217;aurai le temps!</p>
<p>Nous on ne va pas aussi loin que plusieurs Go, mais on a des TIFF de quelques 500Mo, donc les extensions C c&#8217;est carrément utile ;)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kontre</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8719</link>
		<dc:creator>kontre</dc:creator>
		<pubDate>Mon, 06 May 2013 19:27:02 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8719</guid>
		<description>La plupart des gens rajoutent une extension dans setup.py, oui. Moi je fais de la recherche, donc je développe pour ma boite en interne et mes programmes sont utilisés par peut-être 5 personnes. J&#039;ai bon espoir que ça monte autour de 10 ! ^^ Tout ça pour dire que j&#039;ai pas de problème de déploiement. Je n&#039;ai qu&#039;un module en cython, mais il est central pour l&#039;appli en question (affichage d&#039;images de plusieurs Go) et je n&#039;ai aucun souci de stabilité avec. J’atteins la vitesse d&#039;exécution du même programme écrit en C, point de vue perfo ça dépote.

Pour l&#039;utilisation, j&#039;appelle le module comme un module python, avec pyximport : http://docs.cython.org/src/userguide/source_files_and_compilation.html#pyximport. Ça me permet notamment d&#039;installer le module sur ma machine en mode &quot;dev&quot; (avec &lt;code&gt;pip -e module&lt;/code&gt; par exemple) et le module est compilé automatiquement à l&#039;import si besoin. Pour les tests et le développement c&#039;est top.

Pour éviter les soucis de compilation, j&#039;ai utilisé ce qui est indiqué dans la partie &quot;MinGW + NumPy + pyximport at runtime&quot; sur la page http://wiki.cython.org/InstallingOnWindows.</description>
		<content:encoded><![CDATA[<p>La plupart des gens rajoutent une extension dans setup.py, oui. Moi je fais de la recherche, donc je développe pour ma boite en interne et mes programmes sont utilisés par peut-être 5 personnes. J&#8217;ai bon espoir que ça monte autour de 10 ! ^^ Tout ça pour dire que j&#8217;ai pas de problème de déploiement. Je n&#8217;ai qu&#8217;un module en cython, mais il est central pour l&#8217;appli en question (affichage d&#8217;images de plusieurs Go) et je n&#8217;ai aucun souci de stabilité avec. J’atteins la vitesse d&#8217;exécution du même programme écrit en C, point de vue perfo ça dépote.</p>
<p>Pour l&#8217;utilisation, j&#8217;appelle le module comme un module python, avec pyximport : <a href="http://docs.cython.org/src/userguide/source_files_and_compilation.html#pyximport" rel="nofollow">http://docs.cython.org/src/userguide/source_files_and_compilation.html#pyximport</a>. Ça me permet notamment d&#8217;installer le module sur ma machine en mode &#8220;dev&#8221; (avec <code>pip -e module</code> par exemple) et le module est compilé automatiquement à l&#8217;import si besoin. Pour les tests et le développement c&#8217;est top.</p>
<p>Pour éviter les soucis de compilation, j&#8217;ai utilisé ce qui est indiqué dans la partie &#8220;MinGW + NumPy + pyximport at runtime&#8221; sur la page <a href="http://wiki.cython.org/InstallingOnWindows" rel="nofollow">http://wiki.cython.org/InstallingOnWindows</a>.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: FX</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8718</link>
		<dc:creator>FX</dc:creator>
		<pubDate>Mon, 06 May 2013 18:41:54 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8718</guid>
		<description>@Kontre: Faut vraiment que je me penche dessus. J&#039;ai un petit a priori négatif sur Cython pour le moment, j&#039;ai un peu l&#039;impression que c&#039;est pas super stable. Je sais bien que des tas de trucs (comme SciPy) l&#039;utilisent, mais j&#039;hésite quand même.

Au niveau déploiment, je suppose que tu ajoutes juste une extension dans ton &lt;code&gt;setup.py&lt;/code&gt;? Sinon tu l&#039;utilises pour quel genre de projets?

Et puis je rejoins Etienne, si tu as des histoires à raconter sur des questions de Python/C/Ctypes/Cython, Sam, je suis preneur aussi!</description>
		<content:encoded><![CDATA[<p>@Kontre: Faut vraiment que je me penche dessus. J&#8217;ai un petit a priori négatif sur Cython pour le moment, j&#8217;ai un peu l&#8217;impression que c&#8217;est pas super stable. Je sais bien que des tas de trucs (comme SciPy) l&#8217;utilisent, mais j&#8217;hésite quand même.</p>
<p>Au niveau déploiment, je suppose que tu ajoutes juste une extension dans ton <code>setup.py</code>? Sinon tu l&#8217;utilises pour quel genre de projets?</p>
<p>Et puis je rejoins Etienne, si tu as des histoires à raconter sur des questions de Python/C/Ctypes/Cython, Sam, je suis preneur aussi!</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: reg</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8709</link>
		<dc:creator>reg</dc:creator>
		<pubDate>Mon, 06 May 2013 09:25:05 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8709</guid>
		<description>Bon, le plus souvent, on utilise pas ctypes pour un développement nouveau mais quand on veut utiliser une lib existante en C/C++. Car oui, ça marche aussi avec C++ mais si c&#039;est beaucoup plus relou car il faut faire un wrapper à grand renfort d&#039;extern et de simuler du procédural ; mais ça marche.

Je déconseille l&#039;utilisation de ctypes en direct! Prenez un peu de temps pour en faire une interface python indépendante et propre ; vous le le regretterez pas car ainsi quand ça vous pètera au visage, vous saurez clairement d&#039;où ça vient.</description>
		<content:encoded><![CDATA[<p>Bon, le plus souvent, on utilise pas ctypes pour un développement nouveau mais quand on veut utiliser une lib existante en C/C++. Car oui, ça marche aussi avec C++ mais si c&#8217;est beaucoup plus relou car il faut faire un wrapper à grand renfort d&#8217;extern et de simuler du procédural ; mais ça marche.</p>
<p>Je déconseille l&#8217;utilisation de ctypes en direct! Prenez un peu de temps pour en faire une interface python indépendante et propre ; vous le le regretterez pas car ainsi quand ça vous pètera au visage, vous saurez clairement d&#8217;où ça vient.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kontre</title>
		<link>http://sametmax.com/appeler-du-code-c-depuis-python-avec-ctypes/#comment-8706</link>
		<dc:creator>kontre</dc:creator>
		<pubDate>Mon, 06 May 2013 08:05:57 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5811#comment-8706</guid>
		<description>Pypy ne supporte pas bien numpy (même si ça progresse), c&#039;est pas bon pour les scientifiques (pour les autre je dis pas).

Je confirme pour numpy et cython. Dès qu&#039;un algo ne se vectorise pas, il faut faire des boucles. Et les grosses boucles python, ben c&#039;est lent, comparé au C. La dernière fois que j&#039;ai utilisé cython, j&#039;ai gagné un facteur 100 simplement en rajoutant quelques types.

@FX si tu veux accélérer ton code numpy, essaie cython, c&#039;est vraiment fait pour.

Il faudrait que je me motive à faire un article sur cython, mais rapidement voilà quelques avantages :
- le code python est valide en cython. Ça veut dire qu&#039;on peut transformer du python en cython juste en changeant l&#039;extension, et qu&#039;écrire du cython c&#039;est écrire du python. On garde aussi toute l&#039;introspection...
- le code est transformé en C de manière très optimisée, mais on conserve les exceptions, on évite les buffer overflow, segmentation fault...
- il est possible d&#039;appeler du C directement depuis cython (ça j&#039;ai pas trop fait encore, perso)
- les tableaux numpy sont mappés en tableaux C
- on peut soit compiler à l&#039;installation via un setup.py, soit compiler à la volée, ce qui est juste parfait pour développer (c&#039;est mis en cache, on ne recompile pas si rien n&#039;a changé).
- si il y a une exception, la trace indique la ligne du fichier C et celle du fichier .pyx d&#039;origine

Il n&#039;y a bien sûr strictement absolument aucun désavantage ! :P</description>
		<content:encoded><![CDATA[<p>Pypy ne supporte pas bien numpy (même si ça progresse), c&#8217;est pas bon pour les scientifiques (pour les autre je dis pas).</p>
<p>Je confirme pour numpy et cython. Dès qu&#8217;un algo ne se vectorise pas, il faut faire des boucles. Et les grosses boucles python, ben c&#8217;est lent, comparé au C. La dernière fois que j&#8217;ai utilisé cython, j&#8217;ai gagné un facteur 100 simplement en rajoutant quelques types.</p>
<p>@FX si tu veux accélérer ton code numpy, essaie cython, c&#8217;est vraiment fait pour.</p>
<p>Il faudrait que je me motive à faire un article sur cython, mais rapidement voilà quelques avantages :<br />
- le code python est valide en cython. Ça veut dire qu&#8217;on peut transformer du python en cython juste en changeant l&#8217;extension, et qu&#8217;écrire du cython c&#8217;est écrire du python. On garde aussi toute l&#8217;introspection&#8230;<br />
- le code est transformé en C de manière très optimisée, mais on conserve les exceptions, on évite les buffer overflow, segmentation fault&#8230;<br />
- il est possible d&#8217;appeler du C directement depuis cython (ça j&#8217;ai pas trop fait encore, perso)<br />
- les tableaux numpy sont mappés en tableaux C<br />
- on peut soit compiler à l&#8217;installation via un setup.py, soit compiler à la volée, ce qui est juste parfait pour développer (c&#8217;est mis en cache, on ne recompile pas si rien n&#8217;a changé).<br />
- si il y a une exception, la trace indique la ligne du fichier C et celle du fichier .pyx d&#8217;origine</p>
<p>Il n&#8217;y a bien sûr strictement absolument aucun désavantage ! :P</p>
]]></content:encoded>
	</item>
</channel>
</rss>
