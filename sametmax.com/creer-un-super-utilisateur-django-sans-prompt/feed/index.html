<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
		>
<channel>
	<title>Comments on: Créer un super utilisateur Django sans prompt</title>
	<atom:link href="http://sametmax.com/creer-un-super-utilisateur-django-sans-prompt/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/creer-un-super-utilisateur-django-sans-prompt/</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Mon, 02 Dec 2013 10:54:05 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<item>
		<title>By: Raphi</title>
		<link>http://sametmax.com/creer-un-super-utilisateur-django-sans-prompt/#comment-15962</link>
		<dc:creator>Raphi</dc:creator>
		<pubDate>Wed, 20 Nov 2013 20:06:00 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7981#comment-15962</guid>
		<description>Chouette!

J&#039;avais bidouillé un truc simillaire en fourrant un signal (de mémoire) dans le models.py d&#039;une app fourre tout, ca dépannait mais j&#039;trouvais ca crado.

J&#039;suis en train d&#039;mettre en place des templates de projets pour le boulot, en jouant avec fabric et &lt;a href=&quot;https://github.com/audreyr/cookiecutter&quot; rel=&quot;nofollow&quot;&gt;cookiecutter&lt;/a&gt;, ca marche au poil.

Après le coup d&#039;la commande django, j&#039;y avais vaguement pensé, ca m&#039;paraissait un peu overkill mais en y réflechissant pourquoi pas, ca peut rendre le fabfile un peu moins crade et s&#039;réutiliser pour des tests à l&#039;arrache... A creuser ^^</description>
		<content:encoded><![CDATA[<p>Chouette!</p>
<p>J&#8217;avais bidouillé un truc simillaire en fourrant un signal (de mémoire) dans le models.py d&#8217;une app fourre tout, ca dépannait mais j&#8217;trouvais ca crado.</p>
<p>J&#8217;suis en train d&#8217;mettre en place des templates de projets pour le boulot, en jouant avec fabric et <a href="https://github.com/audreyr/cookiecutter" rel="nofollow">cookiecutter</a>, ca marche au poil.</p>
<p>Après le coup d&#8217;la commande django, j&#8217;y avais vaguement pensé, ca m&#8217;paraissait un peu overkill mais en y réflechissant pourquoi pas, ca peut rendre le fabfile un peu moins crade et s&#8217;réutiliser pour des tests à l&#8217;arrache&#8230; A creuser ^^</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Syl</title>
		<link>http://sametmax.com/creer-un-super-utilisateur-django-sans-prompt/#comment-15958</link>
		<dc:creator>Syl</dc:creator>
		<pubDate>Wed, 20 Nov 2013 13:46:32 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7981#comment-15958</guid>
		<description>&lt;a href=&quot;https://www.youtube.com/watch?feature=player_detailpage&amp;v=aHPZkAM4dSM#t=178&quot; rel=&quot;nofollow&quot;&gt;Génial!!!&lt;/a&gt;
Merci Sam!</description>
		<content:encoded><![CDATA[<p><a href="https://www.youtube.com/watch?feature=player_detailpage&amp;v=aHPZkAM4dSM#t=178" rel="nofollow">Génial!!!</a><br />
Merci Sam!</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Labarbiche</title>
		<link>http://sametmax.com/creer-un-super-utilisateur-django-sans-prompt/#comment-15954</link>
		<dc:creator>Labarbiche</dc:creator>
		<pubDate>Wed, 20 Nov 2013 12:01:30 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7981#comment-15954</guid>
		<description>Oui tu as raison: une commande django permet de faire plus de choses, comme le parsing d&#039;argument, ne demande pas d&#039;installer de module supplémentaire, et c&#039;est mieux &lt;a href=&quot;https://docs.djangoproject.com/en/dev/howto/custom-management-commands/&quot; rel=&quot;nofollow&quot;&gt;documenté&lt;/a&gt;: 3-0 !
Merci pour l&#039;idée, j&#039;en ferai à l&#039;occasion.</description>
		<content:encoded><![CDATA[<p>Oui tu as raison: une commande django permet de faire plus de choses, comme le parsing d&#8217;argument, ne demande pas d&#8217;installer de module supplémentaire, et c&#8217;est mieux <a href="https://docs.djangoproject.com/en/dev/howto/custom-management-commands/" rel="nofollow">documenté</a>: 3-0 !<br />
Merci pour l&#8217;idée, j&#8217;en ferai à l&#8217;occasion.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/creer-un-super-utilisateur-django-sans-prompt/#comment-15952</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Wed, 20 Nov 2013 11:35:05 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7981#comment-15952</guid>
		<description>Dans ce cas autant faire une commande django non ?</description>
		<content:encoded><![CDATA[<p>Dans ce cas autant faire une commande django non ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Labarbiche</title>
		<link>http://sametmax.com/creer-un-super-utilisateur-django-sans-prompt/#comment-15951</link>
		<dc:creator>Labarbiche</dc:creator>
		<pubDate>Wed, 20 Nov 2013 11:03:05 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7981#comment-15951</guid>
		<description>Personnellement j&#039;utilise la commande &lt;strong&gt;runscript&lt;/strong&gt; de &lt;a href=&quot;https://github.com/django-extensions/django-extensions&quot; rel=&quot;nofollow&quot;&gt;django-extensions&lt;/a&gt; pour faire le sale boulot:
Dans un répertoire scripts/ (à coté de manage.py) je mets un fichier create_admin.py comme ceci:
&lt;pre lang=&quot;python&quot;&gt;
from django.contrib.auth.models import User

def run():
...if not User.objects.filter(username=&#039;sam&#039;).count():
......print &quot;Creating user sam&quot;
......user = User.objects.create_user(&#039;sam&#039;, &#039;sam@sametmax.com&#039;, &#039;megapassword&#039;)
......user.first_name = &#039;Le&#039;
......user.last_name = &#039;Sam&#039;
......user.is_staff = True
......user.is_superuser = True
......user.save()

...... (pff pas réussi à mettre du code indenté... j&#039;ai mis des .)
&lt;/pre&gt;

Ensuite,   &lt;strong&gt;./manage.py runscript create_admin&lt;/strong&gt;

C&#039;est trés pratique d&#039;ailleurs d&#039;avoir des scripts sous la main de cette manière.

A mélanger avec   &lt;strong&gt;./manage.py syncdb --noinput&lt;/strong&gt;
(ah oui, il faut aussi un __init__.py vide dans le répertoire scripts/ )</description>
		<content:encoded><![CDATA[<p>Personnellement j&#8217;utilise la commande <strong>runscript</strong> de <a href="https://github.com/django-extensions/django-extensions" rel="nofollow">django-extensions</a> pour faire le sale boulot:<br />
Dans un répertoire scripts/ (à coté de manage.py) je mets un fichier create_admin.py comme ceci:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> django.<span style="color: black;">contrib</span>.<span style="color: black;">auth</span>.<span style="color: black;">models</span> <span style="color: #ff7700;font-weight:bold;">import</span> User
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> run<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
...<span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> User.<span style="color: black;">objects</span>.<span style="color: #008000;">filter</span><span style="color: black;">&#40;</span>username=<span style="color: #483d8b;">'sam'</span><span style="color: black;">&#41;</span>.<span style="color: black;">count</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
......<span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">&quot;Creating user sam&quot;</span>
......<span style="color: #dc143c;">user</span> = User.<span style="color: black;">objects</span>.<span style="color: black;">create_user</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'sam'</span>, <span style="color: #483d8b;">'sam@sametmax.com'</span>, <span style="color: #483d8b;">'megapassword'</span><span style="color: black;">&#41;</span>
......<span style="color: #dc143c;">user</span>.<span style="color: black;">first_name</span> = <span style="color: #483d8b;">'Le'</span>
......<span style="color: #dc143c;">user</span>.<span style="color: black;">last_name</span> = <span style="color: #483d8b;">'Sam'</span>
......<span style="color: #dc143c;">user</span>.<span style="color: black;">is_staff</span> = <span style="color: #008000;">True</span>
......<span style="color: #dc143c;">user</span>.<span style="color: black;">is_superuser</span> = <span style="color: #008000;">True</span>
......<span style="color: #dc143c;">user</span>.<span style="color: black;">save</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
...... <span style="color: black;">&#40;</span>pff pas réussi à mettre du <span style="color: #dc143c;">code</span> indenté... <span style="color: black;">j</span><span style="color: #483d8b;">'ai mis des .)</span></pre></div></div>

<p>Ensuite,   <strong>./manage.py runscript create_admin</strong></p>
<p>C&#8217;est trés pratique d&#8217;ailleurs d&#8217;avoir des scripts sous la main de cette manière.</p>
<p>A mélanger avec   <strong>./manage.py syncdb &#8211;noinput</strong><br />
(ah oui, il faut aussi un __init__.py vide dans le répertoire scripts/ )</p>
]]></content:encoded>
	</item>
</channel>
</rss>
