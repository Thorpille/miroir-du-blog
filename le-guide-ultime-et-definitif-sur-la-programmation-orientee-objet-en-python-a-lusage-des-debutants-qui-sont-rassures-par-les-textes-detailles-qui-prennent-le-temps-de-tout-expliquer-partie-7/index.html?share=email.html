<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">                          
<!--<![endif]-->
					<head>
				    <meta charset="UTF-8" />
				    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
            				    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
				    <link rel="profile" href="http://gmpg.org/xfn/11" />
				    <link rel="pingback" href="../xmlrpc.php" />

				   <!-- Icons font support for IE6-7  -->
				    <!--[if lt IE 8]>
				      <script src="http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/lte-ie7.js"></script>
				    <![endif]-->
				    <style type="text/css" id="customizr-inline-fonts">@font-face{font-family:genericons;src:url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.eot');src:url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.eot%3F') format('embedded-opentype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.woff') format('woff'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.ttf') format('truetype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.svg') format('svg')}@font-face{font-family:entypo;src:url('http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.eot);src:url(http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.eot?#iefix') format('embedded-opentype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.woff') format('woff'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.ttf') format('truetype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.svg') format('svg')}</style><title>Le guide ultime et définitif sur la programmation orientée objet en Python à l’usage des débutants qui sont rassurés par les textes détaillés qui prennent le temps de tout expliquer. Partie 7. | Sam &amp; Max</title>
<link rel="alternate" type="application/rss+xml" title="Sam &amp; Max &raquo; Feed" href="../feed.1" />
<link rel="alternate" type="application/rss+xml" title="Sam &amp; Max &raquo; Comments Feed" href="../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Sam &amp; Max &raquo; Le guide ultime et définitif sur la programmation orientée objet en Python à l’usage des débutants qui sont rassurés par les textes détaillés qui prennent le temps de tout expliquer. Partie 7. Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='contact-form-7-css'  href='../wp-content/plugins/contact-form-7/includes/css/styles.css%3Fver=4.0.3.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-polls-css'  href='../wp-content/plugins/wp-polls/polls-css.css%3Fver=2.68.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='../wp-content/plugins/wp-syntax/css/wp-syntax.css%3Fver=1.0.css' type='text/css' media='all' />
<link rel='stylesheet' id='customizr-skin-css'  href='../wp-content/themes/customizr/inc/assets/css/black2.min.css%3Fver=3.2.10.css' type='text/css' media='all' />
<style id='customizr-skin-inline-css' type='text/css'>

.sticky-enabled .tc-shrink-on .site-logo img {
						height:30px!important;width:auto!important
					}

					.sticky-enabled .tc-shrink-on .brand .site-title {
						font-size:0.6em;opacity:0.8;line-height:1.2em
					}

.tc-rectangular-thumb {
            max-height: 250px;
            height :250px
          }

          .single .tc-rectangular-thumb {
            max-height: 250px;
            height :250px
          }


</style>
<link rel='stylesheet' id='customizr-style-css'  href='../wp-content/themes/customizr/style.css%3Fver=3.2.10.css' type='text/css' media='all' />
<link rel='stylesheet' id='fancyboxcss-css'  href='../wp-content/themes/customizr/inc/assets/js/fancybox/jquery.fancybox-1.3.4.min.css%3Fver=4.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css%3Fver=3.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='../wp-content/plugins/jetpack/css/jetpack.css%3Fver=3.3.css' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/jquery/jquery.js%3Fver=1.11.1'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var TCParams = {"FancyBoxState":"1","FancyBoxAutoscale":"1","SliderName":"","SliderDelay":"","SliderHover":"1","SmoothScroll":"linear","ReorderBlocks":"1","CenterSlides":"1","HasComments":"1","LeftSidebarClass":".span3.left.tc-sidebar","RightSidebarClass":".span3.right.tc-sidebar","LoadModernizr":"1","stickyCustomOffset":"0","stickyHeader":"1","dropdowntoViewport":"0","timerOnScrollAllBrowsers":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/customizr/inc/assets/js/tc-scripts.min.js%3Fver=3.2.10'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='ImportError: cannot import name MAXREPEAT' href='../importerror-cannot-import-name-maxrepeat/index.html' />
<link rel='next' title='Mettre Ubuntu en veille en appuyant sur le bouton &#8216;power&#8217;' href='../mettre-ubuntu-en-veille-en-appuyant-sur-le-bouton-power/index.html' />
<meta name="generator" content="WordPress 4.1" />
<link rel='canonical' href='index.html' />
<link rel='shortlink' href='http://wp.me/p2ckfk-1xm' />
<style type="text/css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('../wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}
</style>
<style type="text/css" media="all">
/* <![CDATA[ */
@import url("../wp-content/plugins/wp-table-reloaded/css/plugin.css%3Fver=1.9.4.css");
@import url("../wp-content/plugins/wp-table-reloaded/css/datatables.css%3Fver=1.9.4.css");
/* ]]> */
</style><link rel="shortcut icon" href="../wp-content/uploads/2015/06/favicon.png" type="image/png">
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Le guide ultime et définitif sur la programmation orientée objet en Python à l’usage des débutants qui sont rassurés par les textes détaillés qui prennent le temps de tout expliquer. Partie 7." />
<meta property="og:url" content="http://sametmax.com/le-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7/" />
<meta property="og:description" content="L&#039;orienté object est particulièrement adapté à la création de belles APIs. Nous allons donc étudier aujourd&#039;hui un cas réel de mise en pratique réussi avec la lib path.py." />
<meta property="article:published_time" content="2013-04-28T05:47:17+00:00" />
<meta property="article:modified_time" content="2014-02-19T19:07:06+00:00" />
<meta property="article:author" content="http://sametmax.com/author/sam/" />
<meta property="og:site_name" content="Sam &amp; Max" />
<meta property="og:image" content="http://sametmax.com/wp-content/uploads/2013/04/PzXJlX6.jpg" />
<meta name="twitter:site" content="@jetpack" />
<meta name="twitter:image:src" content="http://sametmax.com/wp-content/uploads/2013/04/PzXJlX6.jpg?w=640" />
<meta name="twitter:card" content="summary_large_image" />
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="../index.html%3Fcustom-css=1&amp;csblog=1&amp;cscache=6&amp;csrev=13.css" />
						    <!--Icons size hack for IE8 and less -->
				    <!--[if lt IE 9]>
				      <link href="http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/ie8-hacks.css" rel="stylesheet" type="text/css"/>
				    <![endif]-->
				</head>
				
	<body class="single single-post postid-5912 single-format-standard tc-fade-hover-links tc-sticky-header tc-transparent-on-scroll" itemscope itemtype="http://schema.org/WebPage">
		
		
	   	<header class="tc-header clearfix row-fluid tc-tagline-off tc-title-logo-on  tc-shrink-on tc-menu-on logo-left" role="banner">
			      <div class="brand span3 pull-left ">

        <h1><a class="site-title" href="../index.html" title="Sam &amp; Max | Du code, du cul">Sam &amp; Max</a></h1>
      </div> <!-- brand span3 pull-left -->
      <div class="container outside"><h2 class="site-description">Du code, du cul</h2></div>      	<div class="navbar-wrapper clearfix span9 tc-submenu-fade tc-submenu-move tc-open-on-hover left">
        	<div class="navbar resp">
          		<div class="navbar-inner" role="navigation">
            		<div class="row-fluid">
              		<div class="social-block span5" ><a class="social-icon icon-feed" href="../feed/rss/index.html" title="Subscribe to my rss feed"  ></a></div><h2 class="span7 inside site-description">Du code, du cul</h2><button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div class="nav-collapse collapse tc-hover-menu-wrapper"><div class="menu-top-menu-container"><ul id="menu-top-menu-2" class="nav tc-hover-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1702"><a href="../category/programmation/index.html">Prog</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1703"><a href="../category/administration-system/index.html">Admin Sys</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1704"><a href="../category/philo-et-culture/index.html">Philo &#038; culture</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1706"><a href="../category/cul/index.html">Cul</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3340"><a href="../cours-et-tutos/index.html">Cours &#038; tutos</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1707"><a title="Les meilleurs blogs du Web" href="http://multiboards.net/">Multiboards</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12415"><a href="../planet-python-fr/index.html">Veille Python Fr</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15634"><a href="http://indexerror.net">Questions Python</a></li>
</ul></div></div>          			</div>
          		</div><!-- /.navbar-inner -->
        	</div><!-- /.navbar resp -->
      	</div><!-- /.navbar-wrapper -->
    			</header>
		<div id="tc-reset-margin-top" class="container-fluid" style="margin-top:103px"></div><div id="main-wrapper" class="container">

        
    <div class="container" role="main">
        <div class="row column-content-wrapper">

                            
                <div id="content" class="span9 article-container">
                    
                    
                        
                                                                                    
                                                                    <article id="post-5912" class="post-5912 post type-post status-publish format-standard has-post-thumbnail hentry category-programmation tag-classe tag-classes tag-heritage tag-path-py tag-poo tag-python row-fluid">
                                                <header class="entry-header">
          <h1 class="entry-title format-icon">Le guide ultime et définitif sur la programmation orientée objet en Python à l’usage des débutants qui sont rassurés par les textes détaillés qui prennent le temps de tout expliquer. Partie 7. <span class="comments-link"><a href="index.html%3Fshare=email.html#tc-comment-title" title="Comment(s) on Le guide ultime et définitif sur la programmation orientée objet en Python à l’usage des débutants qui sont rassurés par les textes détaillés qui prennent le temps de tout expliquer. Partie 7."><span class="tc-comment-bubble fs1 icon-bubble" ></span><span class="inner">24</span></a></span></h1>            <div class="entry-meta">
                This entry was posted in <a class="btn btn-mini" href="../category/programmation/index.html" title="View all posts in Programmation"> Programmation </a> and tagged <a class="btn btn-mini btn-tag" href="../tag/classe/index.html" title="View all posts in classe"> classe </a><a class="btn btn-mini btn-tag" href="../tag/classes/index.html" title="View all posts in classes"> classes </a><a class="btn btn-mini btn-tag" href="../tag/heritage/index.html" title="View all posts in heritage"> heritage </a><a class="btn btn-mini btn-tag" href="../tag/path-py/index.html" title="View all posts in path.py"> path.py </a><a class="btn btn-mini btn-tag" href="../tag/poo/index.html" title="View all posts in poo"> poo </a><a class="btn btn-mini btn-tag" href="../tag/python/index.html" title="View all posts in python"> python </a> on <a href="../2013/04/28/index.html" title="05:47" rel="bookmark"><time class="entry-date updated" datetime="2013-04-28T05:47:17+00:00">28/04/2013</time></a> <span class="by-author">by <span class="author vcard"><a class="url fn n" href="../author/sam/index.html" title="View all posts by Sam" rel="author">Sam</a></span></span>             </div><!-- .entry-meta -->
            <hr class="featurette-divider __before_content">        </header>
            

          <section class="entry-content ">
              <p>Un peu de rock à l&#8217;anglaise pour faire passer la pilule :</p>

<!-- iframe plugin v.2.9 wordpress.org/plugins/iframe/ -->
<iframe width="420" height="315" src="http://www.youtube.com/embed/wcb4gCJ9da0" frameborder="0" scrolling="no" class="iframe-class"></iframe>

<p>Après avoir lu <a href="../le-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-6.1.html">la partie précédente</a>, vous avez dû vous demander comment mettre tout ça en application.</p>
<p>Comme je vous l&#8217;avais expliqué, l&#8217;orienté objet est particulièrement adapté à la création de belles APIs. Nous allons donc étudier aujourd&#8217;hui un cas réel de mise en pratique réussi avec la lib <a href="https://github.com/jaraco/path.py">path.py</a>.</p>
<p>J&#8217;ai choisi cette lib car :</p>
<ul>
<li>Le code tient dans un seul fichier.</li>
<li>Il y a plein de patterns utilisés dedans qui sont intéressants à expliquer.</li>
<li>C&#8217;est une source propre qui suit globalement les bonnes pratiques.</li>
<li>Path.py a une API élégante, donc le résultat à l&#8217;usage est un bon exemple.</li>
</ul>
<p>Petit rappel, path.py est une surcouche au dessus des modules <a href="http://docs.python.org/2/library/tempfile.html?highlight=tempfile#tempfile">tempfile</ ahref=>, <a href="http://docs.python.org/2/library/os.html?highlight=os#os">os</a> ou encore <a href="http://docs.python.org/2/library/shutil.html?highlight=shutils">shutil</a>, c&#8217;est à dire qu&#8217;elle permet de faire exactement la même chose, en plus pratique.</p>
<p>C&#8217;est donc typiquement un bibliothèque de confort, et elle n&#8217;aurait aucun intérêt si elle n&#8217;était pas agréable à utiliser puisque l&#8217;on peut déjà faire tout ce qu&#8217;elle fait avec Python en standard. Son attractivité réside dans la beauté de son interface qui rend la manipulation de fichiers très intuitive :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;"># elle permet de manipuler des chemins facilement</span>
<span style="color: #ff7700;font-weight:bold;">from</span> path <span style="color: #ff7700;font-weight:bold;">import</span> path
dossier <span style="color: #66cc66;">=</span> path<span style="color: black;">&#40;</span><span style="color: #483d8b;">'/etc'</span><span style="color: black;">&#41;</span>
fichier <span style="color: #66cc66;">=</span> dossier / <span style="color: #483d8b;">'postgresql/9.1/main/pg_hba.conf'</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># d'obtenir des informations sur le fichier</span>
fichier.<span style="color: black;">exists</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #808080; font-style: italic;">## True</span>
fichier.<span style="color: black;">parent</span>
<span style="color: #808080; font-style: italic;">## path(u'/etc/postgresql/9.1/main')</span>
fichier.<span style="color: black;">basename</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #808080; font-style: italic;">## path(u'pg_hba.conf')</span>
fichier.<span style="color: black;">dirname</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #808080; font-style: italic;">## path(u'/etc/postgresql/9.1/main')</span>
fichier.<span style="color: black;">spli</span>
fichier.<span style="color: black;">split</span>       fichier.<span style="color: black;">splitall</span>    fichier.<span style="color: black;">splitdrive</span>  fichier.<span style="color: black;">splitext</span>    fichier.<span style="color: black;">splitlines</span>  fichier.<span style="color: black;">splitpath</span>   fichier.<span style="color: black;">splitunc</span>
fichier.<span style="color: black;">splitext</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: #808080; font-style: italic;">## (path(u'/etc/postgresql/9.1/main/pg_hba'), u'.conf')</span>
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;"># lister les fichiers dans un dossier</span>
<span style="color: #ff7700;font-weight:bold;">for</span> fichier <span style="color: #ff7700;font-weight:bold;">in</span> dossier.<span style="color: black;">listdir</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
...     <span style="color: #ff7700;font-weight:bold;">print</span> fichier
...
<span style="color: #808080; font-style: italic;">## /etc/thunderbird</span>
<span style="color: #808080; font-style: italic;">## /etc/libpaper.d</span>
<span style="color: #808080; font-style: italic;">## /etc/mtools.conf</span>
<span style="color: #808080; font-style: italic;">## ...</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># lister récursivement les fichiers dans un dossier</span>
<span style="color: #ff7700;font-weight:bold;">for</span> fichier <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span>dossier / <span style="color: #483d8b;">'apt/'</span><span style="color: black;">&#41;</span>.<span style="color: black;">walkfiles</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> fichier
...
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/trusted.gpg</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/trusted.gpg~</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/indicator-brightness-ppa-raring.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/tualatrix-ppa-raring.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/webupd8team-sublime-text-2-raring.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/fossfreedom-byzanz-raring.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/hotot-team-ppa-raring.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/webupd8team-y-ppa-manager-raring.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/pitti-postgresql-raring.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/pitti-postgresql-raring.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/yorba-ppa-raring.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/indicator-brightness-ppa-raring.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/webupd8team-sublime-text-2-raring.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/yorba-ppa-raring.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/webupd8team-y-ppa-manager-raring.list.save</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/sources.list.d/fossfreedom-byzanz-raring.list</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/trustdb.gpg</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/20dbus</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/10periodic</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/99synaptic</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/70debconf</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/05aptitude</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/20archive</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/01autoremove</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/50unattended-upgrades</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/00aptitude</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/99update-notifier</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/15update-stamp</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/00trustcdrom</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/20changelog</span>
<span style="color: #808080; font-style: italic;">## /etc/apt/apt.conf.d/01autoremove-kernels</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># et bien d'autres choses</span></pre></td></tr></table></div>

<p>Nous allons donc commenter son code, dans le cadre du tuto (on ne va pas voir les algos en détail). Je mettrai mes commentaires entre <code>#< sm ></ sm ></code> afin de les distinguer du reste.</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;">&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># On commence par un bon gros bloc de copyright, sachant que path.py est</span>
<span style="color: #808080; font-style: italic;"># sous MIT License. Le plus inhabituel c'est l'absence de déclaration</span>
<span style="color: #808080; font-style: italic;"># d'encoding en en-tête, qui s'explique par le fait que toute la lib est</span>
<span style="color: #808080; font-style: italic;"># écrite uniquement avec des caractères ASCII, ce qui est l'encodage par</span>
<span style="color: #808080; font-style: italic;"># défaut de Python 2.7. Python 3 a UTF8 en encodage par défaut, mais ASCII</span>
<span style="color: #808080; font-style: italic;"># est un sous-ensemble de UTF8, donc ça ne pose pas de problème.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Notez qu'avec mes commentaires en plus, ça ferait planter le script puisque</span>
<span style="color: #808080; font-style: italic;"># j'utilise des accents.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#</span>
<span style="color: #808080; font-style: italic;"># Copyright (c) 2010 Mikhail Gusarov</span>
<span style="color: #808080; font-style: italic;">#</span>
<span style="color: #808080; font-style: italic;"># Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span style="color: #808080; font-style: italic;"># of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span style="color: #808080; font-style: italic;"># in the Software without restriction, including without limitation the rights</span>
<span style="color: #808080; font-style: italic;"># to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span style="color: #808080; font-style: italic;"># copies of the Software, and to permit persons to whom the Software is</span>
<span style="color: #808080; font-style: italic;"># furnished to do so, subject to the following conditions:</span>
<span style="color: #808080; font-style: italic;">#</span>
<span style="color: #808080; font-style: italic;"># The above copyright notice and this permission notice shall be included in all</span>
<span style="color: #808080; font-style: italic;"># copies or substantial portions of the Software.</span>
<span style="color: #808080; font-style: italic;">#</span>
<span style="color: #808080; font-style: italic;"># THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span style="color: #808080; font-style: italic;"># IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span style="color: #808080; font-style: italic;"># FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span style="color: #808080; font-style: italic;"># AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span style="color: #808080; font-style: italic;"># LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span style="color: #808080; font-style: italic;"># OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span style="color: #808080; font-style: italic;"># SOFTWARE.</span>
<span style="color: #808080; font-style: italic;">#</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># La docstring du module qui documente l'usage général du module. En</span>
<span style="color: #808080; font-style: italic;"># l'occurence au moins l'existence de la classe principale et son usage. Les</span>
<span style="color: #808080; font-style: italic;"># symboles comme '\x40' sont juste une autre représentation d'un caractère</span>
<span style="color: #808080; font-style: italic;"># via sa valeur dans la table ASCII.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Par exemple, '@' est à la case 64 dans la table ASCII, et 64 se note 40 en</span>
<span style="color: #808080; font-style: italic;"># hexadécimal:</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># &gt;&gt;&gt; ord('@')</span>
<span style="color: #808080; font-style: italic;"># 64</span>
<span style="color: #808080; font-style: italic;"># &gt;&gt;&gt; int('40', base=16)</span>
<span style="color: #808080; font-style: italic;"># 64</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Du coup on peut écrire '@' juste avec un caractère d’échappement en Python</span>
<span style="color: #808080; font-style: italic;"># qui va faire le lien. Cette technique est utile si on veut faire passer</span>
<span style="color: #808080; font-style: italic;"># du texte avec des caractères spéciaux dans certains protocoles, par exemple</span>
<span style="color: #808080; font-style: italic;"># quand on veut rentrer un email dans une URL. En l’occurrence je ne vois</span>
<span style="color: #808080; font-style: italic;"># absolument pas ce que ça vient foutre ici.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
&nbsp;
<span style="color: #483d8b;">&quot;&quot;&quot; path.py - An object representing a path to a file or directory.
&nbsp;
Original author:
 Jason Orendorff &lt;jason.orendorff<span style="color: #000099; font-weight: bold;">\x</span>40gmail<span style="color: #000099; font-weight: bold;">\x</span>2ecom&gt;
&nbsp;
Current maintainer:
 Jason R. Coombs &lt;jaraco@jaraco.com&gt;
&nbsp;
Contributors:
 Mikhail Gusarov &lt;dottedmag@dottedmag.net&gt;
 Marc Abramowitz &lt;marc@marc-abramowitz.com&gt;
 Jason R. Coombs &lt;jaraco@jaraco.com&gt;
 Jason Chu &lt;jchu@xentac.net&gt;
 Vojislav Stojkovic &lt;vstojkovic@syntertainment.com&gt;
&nbsp;
Example::
&nbsp;
    from path import path
    d = path('/home/guido/bin')
    for f in d.files('*.py'):
        f.chmod(0755)
&nbsp;
path.py requires Python 2.5 or later.
&quot;&quot;&quot;</span>
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># Import du mot clé with, car cette lib est compatible avec Python 2.5</span>
<span style="color: #808080; font-style: italic;"># et le keyword est apparu en 2.6. Il a été backporté dans __future__</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">__future__</span> <span style="color: #ff7700;font-weight:bold;">import</span> with_statement
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">sys</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Informations sur le système&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">warnings</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Alertes techniques à d'autres dev&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">os</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Manipulation du File System&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">fnmatch</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Pattern matching comme dans un shell&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">glob</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Lister des fichier avec la syntax shell&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">shutil</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Manipulation de fichiers de haut niveau&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">codecs</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Encoding&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> hashlib <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Sommes de contrôle&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">errno</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Les codes d'erreurs liées aux fichiers.&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">tempfile</span> <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Création de fichiers temporaires&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">import</span> functools <span style="color: #808080; font-style: italic;">#&lt;sm&gt;Manipulation des fonctions&lt;/sm&gt;</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># Tentative d'utilisation de la lib win32security qui sert à gérer</span>
<span style="color: #808080; font-style: italic;"># des aspects sécuritaires du FS sous Windows. C'est une lib tierce partie,</span>
<span style="color: #808080; font-style: italic;"># et une dépendance optionelle, donc l'import est géré pour ne pas faire</span>
<span style="color: #808080; font-style: italic;"># d'erreur si la lib n'est pas disponible.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Idem pour pwd qui est dans la lib standard mais uniquement sur les distribs</span>
<span style="color: #808080; font-style: italic;"># unix et qui donne accès aux infos sur l'utilisateur du système, tester</span>
<span style="color: #808080; font-style: italic;"># son mot de passe, etc.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">try</span>:
    <span style="color: #ff7700;font-weight:bold;">import</span> win32security
<span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">ImportError</span>:
    <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">try</span>:
    <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">pwd</span>
<span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">ImportError</span>:
    <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># Manière standard de lister la version de la lib dans un module Python.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># __all__ est une variable magique qui peut contenir une liste des noms de</span>
<span style="color: #808080; font-style: italic;"># tout ce qui est importable dans le module, de telle sorte que si</span>
<span style="color: #808080; font-style: italic;"># quelqu'un fait : from path import *, seul le contenu de __all__ soit</span>
<span style="color: #808080; font-style: italic;"># importé.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
__version__ <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'3.0'</span>
__all__ <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: #483d8b;">'path'</span><span style="color: black;">&#93;</span>
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># Les warnings ressemblent beaucoup aux exceptions excepté qu'ils ne font</span>
<span style="color: #808080; font-style: italic;"># pas planter le programme. Ici donc, ou hérite de la base des warnings</span>
<span style="color: #808080; font-style: italic;"># comme on le ferait pour créer son Exception personnalisée, ce qui va</span>
<span style="color: #808080; font-style: italic;"># permettre à l'utilisateur de la lib path.py de, plus tard, pouvoir filter</span>
<span style="color: #808080; font-style: italic;"># ce warning en particulier.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> TreeWalkWarning<span style="color: black;">&#40;</span><span style="color: #008000;">Warning</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># Un décorateur de mémorisation, c'est à dire qui va mettre en cache les</span>
<span style="color: #808080; font-style: italic;"># résultats de la fonction sur lequel il est appliqué afin que les prochains</span>
<span style="color: #808080; font-style: italic;"># appels avec les mêmes paramètres lisent les valeurs du cache en mémoire</span>
<span style="color: #808080; font-style: italic;"># plutôt que de refaire l'opération.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Il est utilisé plus bas sur :</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#     @classmethod</span>
<span style="color: #808080; font-style: italic;">#     @simple_cache</span>
<span style="color: #808080; font-style: italic;">#     def using_module(cls, module):</span>
<span style="color: #808080; font-style: italic;">#         subclass_name = cls.__name__ + '_' + module.__name__</span>
<span style="color: #808080; font-style: italic;">#         bases = (cls,)</span>
<span style="color: #808080; font-style: italic;">#         ns = {'module': module}</span>
<span style="color: #808080; font-style: italic;">#         return type(subclass_name, bases, ns)</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Ça évitera plusieurs traitements de using_module() si le paramètre de</span>
<span style="color: #808080; font-style: italic;"># 'module' ne change pas.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Et oui, on peut mélanger plusieurs classes et fonctions dans un même module,</span>
<span style="color: #808080; font-style: italic;"># ça n'a pas d'importance.</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">def</span> simple_cache<span style="color: black;">&#40;</span>func<span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">&quot;&quot;&quot;
    Save results for the 'using_module' classmethod.
    When Python 3.2 is available, use functools.lru_cache instead.
    &quot;&quot;&quot;</span>
    saved_results <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: black;">&#125;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> wrapper<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span> module<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> module <span style="color: #ff7700;font-weight:bold;">in</span> saved_results:
            <span style="color: #ff7700;font-weight:bold;">return</span> saved_results<span style="color: black;">&#91;</span>module<span style="color: black;">&#93;</span>
        saved_results<span style="color: black;">&#91;</span>module<span style="color: black;">&#93;</span> <span style="color: #66cc66;">=</span> func<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span> module<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> saved_results<span style="color: black;">&#91;</span>module<span style="color: black;">&#93;</span>
    <span style="color: #ff7700;font-weight:bold;">return</span> wrapper
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># Nous avons vu que les propriétés permettaient de déguiser une méthode</span>
<span style="color: #808080; font-style: italic;"># en attribut. Cela ne marche pas sur une méthode de classe car dans ce cas</span>
<span style="color: #808080; font-style: italic;"># la propriété va se retourner elle-même.</span>
<span style="color: #808080; font-style: italic;"># Cette classe hérite de property pour écraser ce comportement et bien</span>
<span style="color: #808080; font-style: italic;"># retourner la valeur de la méthode de classe.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Elle est utilisée plus loin dans:</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#     @ClassProperty</span>
<span style="color: #808080; font-style: italic;">#     @classmethod</span>
<span style="color: #808080; font-style: italic;">#     def _next_class(cls):</span>
<span style="color: #808080; font-style: italic;">#         &quot;&quot;&quot;</span>
<span style="color: #808080; font-style: italic;">#         What class should be used to construct new instances from this class</span>
<span style="color: #808080; font-style: italic;">#         &quot;&quot;&quot;</span>
<span style="color: #808080; font-style: italic;">#         return cls</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Ce qui va permettre de faire path._next_class au lieu de path._next_class().</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># C'est cosmétique, mais c'est le but de la lib d'être jolie.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">class</span> ClassProperty<span style="color: black;">&#40;</span><span style="color: #008000;">property</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__get__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> cls<span style="color: #66cc66;">,</span> owner<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">fget</span>.<span style="color: #0000cd;">__get__</span><span style="color: black;">&#40;</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> owner<span style="color: black;">&#41;</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># Encore un décorateur, cette fois sous forme de classe (on ne les a pas vu)</span>
<span style="color: #808080; font-style: italic;"># Celui-ci, quand il est appliqué, sert à ce qu'une méthode soit à la fois</span>
<span style="color: #808080; font-style: italic;"># une méthode d'instance et une méthode de classe, le choix se faisant</span>
<span style="color: #808080; font-style: italic;"># dynamiquement selon la situation.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Par exemple dans:</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#     @multimethod</span>
<span style="color: #808080; font-style: italic;">#     def joinpath(cls, first, *others):</span>
<span style="color: #808080; font-style: italic;">#         &quot;&quot;&quot;</span>
<span style="color: #808080; font-style: italic;">#         Join first to zero or more path components, adding a separator</span>
<span style="color: #808080; font-style: italic;">#         character (first.module.sep) if needed.  Returns a new instance of</span>
<span style="color: #808080; font-style: italic;">#         first._next_class.</span>
<span style="color: #808080; font-style: italic;">#         &quot;&quot;&quot;</span>
<span style="color: #808080; font-style: italic;">#         if not isinstance(first, cls):</span>
<span style="color: #808080; font-style: italic;">#             first = cls(first)</span>
<span style="color: #808080; font-style: italic;">#         return first._next_class(first.module.join(first, *others))</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># 'cls' sera une instance ou une classe selon que l'appel se fasse depuis la</span>
<span style="color: #808080; font-style: italic;"># classe ou l'instance.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Notez le nom de la classe qui n'est pas en CamelCase (pas de majuscule)</span>
<span style="color: #808080; font-style: italic;"># alors qu'il s'agit bien d'un classe. Comme c'est un décorateur, on a</span>
<span style="color: #808080; font-style: italic;"># l'habitude de les voir en minuscule, donc on laisse ce nom en minuscule.</span>
<span style="color: #808080; font-style: italic;"># C'est une des rares exceptions au PEP8 (on en verra d'autres plus bas)</span>
<span style="color: #808080; font-style: italic;"># qu'on peut se permettre quand on sait ce qu'on fait :-)</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">class</span> multimethod<span style="color: black;">&#40;</span><span style="color: #008000;">object</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">&quot;&quot;&quot;
    Acts like a classmethod when invoked from the class and like an
    instancemethod when invoked from the instance.
    &quot;&quot;&quot;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> func<span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">func</span> <span style="color: #66cc66;">=</span> func
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__get__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> instance<span style="color: #66cc66;">,</span> owner<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#40;</span>
            functools.<span style="color: black;">partial</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">func</span><span style="color: #66cc66;">,</span> owner<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> instance <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>
            <span style="color: #ff7700;font-weight:bold;">else</span> functools.<span style="color: black;">partial</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">func</span><span style="color: #66cc66;">,</span> owner<span style="color: #66cc66;">,</span> instance<span style="color: black;">&#41;</span>
        <span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># La classe principale, et le plus gros morceau de code. Une classe peut</span>
<span style="color: #808080; font-style: italic;"># tout à fait faire plusieurs centaines de lignes.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># En général je recommande de ne pas avoir de fichiers qui fait plus de 500</span>
<span style="color: #808080; font-style: italic;"># lignes en Python, mais ici le but est clairement de faire une lib qui tient</span>
<span style="color: #808080; font-style: italic;"># dans un fichier pour l'auteur.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># La classe hérite du type unicode (hé oui, on peut hériter des types</span>
<span style="color: #808080; font-style: italic;"># built-in !); ainsi le path peut être manipulé comme une chaîne et reste</span>
<span style="color: #808080; font-style: italic;"># compatible avec tous les outils existants de manipulation de nom de fichiers</span>
<span style="color: #808080; font-style: italic;"># car ils utilisent les chaînes.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># L'héritage est une techno qui sert donc aussi à conserver des compatibilités</span>
<span style="color: #808080; font-style: italic;"># et des comportements existants / attendus.</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># Encore une fois le nom est en minuscule alors que c'est une classe, c'est une</span>
<span style="color: #808080; font-style: italic;"># autre exception : quand on crée un type de base, on le met en minuscule</span>
<span style="color: #808080; font-style: italic;"># car c'est ce que fait la lib standard (int(), str(), list(), datetime(),</span>
<span style="color: #808080; font-style: italic;"># unicode(), etc, sont en fait des classes).</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># La docstring pourrait être meilleure.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
<span style="color: #ff7700;font-weight:bold;">class</span> path<span style="color: black;">&#40;</span><span style="color: #008000;">unicode</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">&quot;&quot;&quot; Represents a filesystem path.
&nbsp;
    For documentation on individual methods, consult their
    counterparts in os.path.
    &quot;&quot;&quot;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Probablement mon désaccord principal avec cette lib, l'init vérifie</span>
    <span style="color: #808080; font-style: italic;"># qu'on lui passe bien une chaîne alors que j'aurais choisi le duck typing.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> other<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>other<span style="color: #66cc66;">,</span> <span style="color: #008000;">basestring</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">TypeError</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;path must be a string&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># L'auteur stocke la référence de os.path ici, et l'utilise partout à la</span>
    <span style="color: #808080; font-style: italic;"># place d'utiliser os.path directement. Cela permet de changer ce module à</span>
    <span style="color: #808080; font-style: italic;"># la volée, par exemple pour utiliser spécifiquement le module dédié à</span>
    <span style="color: #808080; font-style: italic;"># Windows ou à unix au lieu de celui choisit automatiquement.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># C'est un exemple de pattern stratégie.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Et non, la docstring n'a aucun effet. Ça pourrait être un comment.</span>
    <span style="color: #808080; font-style: italic;"># En revanche, comme spécifié en comment, certains outils comme sphinx</span>
    <span style="color: #808080; font-style: italic;"># prennent les docstring en compte sur les variables.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    module <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">path</span>
    <span style="color: #483d8b;">&quot;The path module to use for path operations.&quot;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Une méthode retourne une classe path dont le module est</span>
    <span style="color: #808080; font-style: italic;"># celui passé en paramètre. Pratique si vous voulez</span>
    <span style="color: #808080; font-style: italic;"># utiliser un module spécifique à un OS depuis un autre</span>
    <span style="color: #808080; font-style: italic;"># mais juste ponctuellement.</span>
    <span style="color: #808080; font-style: italic;"># Par exemple sous Windows, vous voulez traiter un chemin</span>
    <span style="color: #808080; font-style: italic;"># (mais un seul, le reste est sous Windows) Unix, vous</span>
    <span style="color: #808080; font-style: italic;"># pouvez faire :</span>
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># &gt;&gt;&gt; import posixpath</span>
    <span style="color: #808080; font-style: italic;"># &gt;&gt;&gt; p = path.using_module(posixpath)('/etc')</span>
    <span style="color: #808080; font-style: italic;"># &gt;&gt;&gt; print p</span>
    <span style="color: #808080; font-style: italic;"># /etc</span>
    <span style="color: #808080; font-style: italic;"># &gt;&gt;&gt; p</span>
    <span style="color: #808080; font-style: italic;"># path_posixpath(u'/etc')</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># ce qui crée un objet path() dont l'attribut 'module' est le module</span>
    <span style="color: #808080; font-style: italic;">#  posixpath. C'est une application concrète de l'injection de dépendance.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #66cc66;">@</span>simple_cache
    <span style="color: #ff7700;font-weight:bold;">def</span> using_module<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span> module<span style="color: black;">&#41;</span>:
        subclass_name <span style="color: #66cc66;">=</span> cls.__name__ + <span style="color: #483d8b;">'_'</span> + module.__name__
        bases <span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span><span style="color: black;">&#41;</span>
        ns <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: #483d8b;">'module'</span>: module<span style="color: black;">&#125;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">type</span><span style="color: black;">&#40;</span>subclass_name<span style="color: #66cc66;">,</span> bases<span style="color: #66cc66;">,</span> ns<span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Une propriété qui retourne la classe (oui, on peut retourner une CLASSE)</span>
    <span style="color: #808080; font-style: italic;"># à utiliser si on veut créer une nouvelle instance de cette classe.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># C'est très abstrait, vous n'aurez pas à faire ça tous les jours.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># C'est une méthode placée là pour permettre un maximum de configurabilité</span>
    <span style="color: #808080; font-style: italic;"># : si vous changez cette classe, certaines méthodes renverront un autre</span>
    <span style="color: #808080; font-style: italic;"># type plutôt que le type en cours. Utile pour certains cas où vous voulez</span>
    <span style="color: #808080; font-style: italic;"># hériter de path() mais désirez un comportement spécial pour la création</span>
    <span style="color: #808080; font-style: italic;"># de nouveaux path.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
    <span style="color: #66cc66;">@</span>ClassProperty
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> _next_class<span style="color: black;">&#40;</span>cls<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot;
        What class should be used to construct new instances from this class
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> cls
&nbsp;
    <span style="color: #808080; font-style: italic;"># --- Special Python methods.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Là on attaque la définition de toutes les méthodes magiques.</span>
    <span style="color: #808080; font-style: italic;"># Essentiellement pour overrider le comportement par défaut des chaînes</span>
    <span style="color: #808080; font-style: italic;"># unicode et exposer une API sympa.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Dans le shell, un path s'affichera path('chemin') et non 'chemin'</span>
    <span style="color: #808080; font-style: italic;"># L'auteur affiche en fait le nom du type en cours (en cas d'héritage</span>
    <span style="color: #808080; font-style: italic;"># cela changera) et ensuite la représentation du parent, en l'occurence</span>
    <span style="color: #808080; font-style: italic;"># la classe unicode().</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__repr__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #483d8b;">'%s(%s)'</span> % <span style="color: black;">&#40;</span><span style="color: #008000;">type</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.__name__<span style="color: #66cc66;">,</span> <span style="color: #008000;">super</span><span style="color: black;">&#40;</span>path<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.<span style="color: #0000cd;">__repr__</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Override l'addition.</span>
    <span style="color: #808080; font-style: italic;"># path('truc') + 'machin' donne path('trucmachin')</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Adding a path and a string yields a path.</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__add__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> more<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">super</span><span style="color: black;">&#40;</span>path<span style="color: #66cc66;">,</span> <span style="color: #008000;">self</span><span style="color: black;">&#41;</span>.<span style="color: #0000cd;">__add__</span><span style="color: black;">&#40;</span>more<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">TypeError</span>:  <span style="color: #808080; font-style: italic;"># Python bug</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">NotImplemented</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># 'machin' + path('truc') donne path('trucmachin')</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__radd__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> other<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>other<span style="color: #66cc66;">,</span> <span style="color: #008000;">basestring</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">NotImplemented</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>other.<span style="color: #0000cd;">__add__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Override la division.</span>
    <span style="color: #808080; font-style: italic;"># path('truc') / 'machin' donne path('truc/machin')</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># The / operator joins paths.</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__div__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> rel<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; fp.__div__(rel) == fp / rel == fp.joinpath(rel)
&nbsp;
        Join two path components, adding a separator character if
        needed.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> rel<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Petite astuce de compatibilité si le mec a fait</span>
    <span style="color: #808080; font-style: italic;"># from __future__ import division ou si on est en Python 3</span>
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># Remarque : on peut définir des attributs de classe n'importe où, et pas</span>
    <span style="color: #808080; font-style: italic;"># seulement en haut de la classe.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Make the / operator work even when true division is enabled.</span>
    __truediv__ <span style="color: #66cc66;">=</span> <span style="color: #0000cd;">__div__</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># path() est aussi un context manager qu'on peut utiliser avec with !</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># with path('truc'):</span>
    <span style="color: #808080; font-style: italic;">#     tout ce qui est ici se fait dans le dossier truc</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># *_ n'est pas une notation qui a un effet spécial. '_' est un nom de</span>
    <span style="color: #808080; font-style: italic;"># variable valide, c'est une convention pour dire 'je ne vais pas me</span>
    <span style="color: #808080; font-style: italic;"># servir de cet argument, je le déclare juste pour respecter la signature'</span>
    <span style="color: #808080; font-style: italic;"># et '*' est l'opérateur de paramétrage dynamique. '*_' est donc l'auteur</span>
    <span style="color: #808080; font-style: italic;"># signalant qu'il accepte n'importe quels paramètres positionnels, mais</span>
    <span style="color: #808080; font-style: italic;"># qu'ils ne les utilisera pas.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> __enter__<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>._old_dir <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">getcwd</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #dc143c;">os</span>.<span style="color: black;">chdir</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> __exit__<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> *_<span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">chdir</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>._old_dir<span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Le résultat de os.getcwdu(), mais retourne un objet path().</span>
    <span style="color: #808080; font-style: italic;"># Une bonne part du travail de la lib consiste à wrapper les méthodes</span>
    <span style="color: #808080; font-style: italic;"># ordinaires des autres modules pour qu'elles retournent un type path()</span>
    <span style="color: #808080; font-style: italic;"># pour qu'après on puisse faire des '.parent' ou utiliser '/' dessus</span>
    <span style="color: #808080; font-style: italic;"># sans y penser.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> getcwd<span style="color: black;">&#40;</span>cls<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Return the current working directory as a path object. &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> cls<span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span>.<span style="color: black;">getcwdu</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># --- Operations on path strings.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># On enchaine ici des wrappers sur des méthodes de os.path (ou son</span>
    <span style="color: #808080; font-style: italic;"># remplaçant dans self.module), que l'objet s'applique à lui-même (self).</span>
    <span style="color: #808080; font-style: italic;"># Comme la classe hérite de 'unicode', toutes ces méthodes marchent.</span>
    <span style="color: #808080; font-style: italic;"># Et comme self._next_class retourne la classe pour créer le prochain</span>
    <span style="color: #808080; font-style: italic;"># path, on retourne toujours un objet de type 'path'.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Si on fait fi des abstractions et qu'on lit les valeurs par défaut,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#     self._next_class(self.module.abspath(self))</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># fait en fait:</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#     path(os.path.abspath('ton_chemin'))</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ce qui donne l'API suivante quand on utilise la lib :</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#     &gt;&gt;&gt; path('/etc/nginx/..').abspath()</span>
    <span style="color: #808080; font-style: italic;">#     path(u'/etc')</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> abspath<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">abspath</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> normcase<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">normcase</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> normpath<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">normpath</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> realpath<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">realpath</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> expanduser<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">expanduser</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> expandvars<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">expandvars</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> dirname<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">dirname</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> basename<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">basename</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Là on rentre dans les méthodes utilitaires. L'auteur a constaté qu'on</span>
    <span style="color: #808080; font-style: italic;"># appelait très souvent ces trois méthodes sur les chemin des fichiers de</span>
    <span style="color: #808080; font-style: italic;"># config genre '~/toto' pour obtenir '/home/sam/toto' et propose donc</span>
    <span style="color: #808080; font-style: italic;"># un shortcut pour le faire car honnêtement, qui se souvient du nom</span>
    <span style="color: #808080; font-style: italic;"># de ces 3 méthodes à enchaîner pour obtenir un truc bullet proof ?</span>
    <span style="color: #808080; font-style: italic;"># Règle d'or d'une belle API : si il faut regarder dans la doc à chaque</span>
    <span style="color: #808080; font-style: italic;"># fois qu'on utilise quelque chose, il faut écrire un meilleur code.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> expand<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Clean up a filename by calling expandvars(),
        expanduser(), and normpath() on it.
&nbsp;
        This is commonly everything needed to clean up a filename
        read from a configuration file, for example.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">expandvars</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">expanduser</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">normpath</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Les méthodes suivantes sont préfixées d'un '_', donc elle n'apparaîtront</span>
    <span style="color: #808080; font-style: italic;"># pas dans les résultats d'outils avec complétion du code. Cela nous</span>
    <span style="color: #808080; font-style: italic;"># indique qu'il s'agit d'un détail d'implémentation, et que l'on ne devrait</span>
    <span style="color: #808080; font-style: italic;"># pas l'utiliser en dehors de la classe. Rien n'empêche de le faire</span>
    <span style="color: #808080; font-style: italic;"># cependant si vous avez envie de faire un beau hack bien gras.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ici l'auteur fait ce choix car il va enrober ces appels dans des</span>
    <span style="color: #808080; font-style: italic;"># propriétés pour les déguiser en attributs.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ces 3 méthodes retournent respectivement l'extension de fichier, le nom</span>
    <span style="color: #808080; font-style: italic;"># de fichier sans extension, et la lettre de lecteur sur les chemins</span>
    <span style="color: #808080; font-style: italic;"># windows.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> _get_namebase<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        base<span style="color: #66cc66;">,</span> ext <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">splitext</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">name</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> base
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> _get_ext<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        f<span style="color: #66cc66;">,</span> ext <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">splitext</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> ext
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> _get_drive<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        drive<span style="color: #66cc66;">,</span> r <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">splitdrive</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>drive<span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Malgré l'indentation bizarre, il s'agit bien de :</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#     attribut_de_classe = function(arg1, arg2, arg3, arg4)</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;"># Dans les tutos précédents vous avez vu comment créer une propriété avec</span>
    <span style="color: #808080; font-style: italic;"># le décorateur @property.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ici l'auteur utilise l'ancienne façon de faire, car il veut garder la</span>
    <span style="color: #808080; font-style: italic;"># compatibilité avec python 2.5.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># C'est globalement la même chose, par exemple ici l'attribut 'namebase'</span>
    <span style="color: #808080; font-style: italic;"># est défini comme une property et y accéder en lecture va appeler la</span>
    <span style="color: #808080; font-style: italic;"># méthode '_get_namebase'. Le second et le troisième argument de</span>
    <span style="color: #808080; font-style: italic;"># property() sont les setter et les deleter qui ne sont pas ici définis et</span>
    <span style="color: #808080; font-style: italic;"># mis à None (donc l'attribut est en lecture seule). Le dernier argument</span>
    <span style="color: #808080; font-style: italic;"># est la docstring.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    parent <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        dirname<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; This path's parent directory, as a new path object.
&nbsp;
        For example, path('/usr/local/lib/libpython.so').parent == path('/usr/local/lib')
        &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    name <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        basename<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; The name of this file or directory without the full path.
&nbsp;
        For example, path('/usr/local/lib/libpython.so').name == 'libpython.so'
        &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    namebase <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        _get_namebase<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; The same as path.name, but with one file extension stripped off.
&nbsp;
        For example, path('/home/guido/python.tar.gz').name     == 'python.tar.gz',
        but          path('/home/guido/python.tar.gz').namebase == 'python.tar'
        &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    ext <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        _get_ext<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; The file extension, for example '.py'. &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    drive <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        _get_drive<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; The drive specifier, for example 'C:'.
        This is always empty on systems that don't use drive specifiers.
        &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Encore des wrappers pour retourner des objets path(). La structure</span>
    <span style="color: #808080; font-style: italic;"># est classique: définition de méthodes courtes avec docstring.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># L'auteur retourne un tuple comme les méthodes originales (autant</span>
    <span style="color: #808080; font-style: italic;"># changer le comportement attendu le moins possible), mais cast la</span>
    <span style="color: #808080; font-style: italic;"># première partie du tuple en objet path().</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> splitpath<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; p.splitpath() -&gt; Return (p.parent, p.name). &quot;&quot;&quot;</span>
        parent<span style="color: #66cc66;">,</span> child <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">split</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>parent<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> child
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> splitdrive<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; p.splitdrive() -&gt; Return (p.drive, &lt;the rest of p&gt;).
&nbsp;
        Split the drive specifier from this path.  If there is
        no drive specifier, p.drive is empty, so the return value
        is simply (path(''), p).  This is always the case on Unix.
        &quot;&quot;&quot;</span>
        drive<span style="color: #66cc66;">,</span> rel <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">splitdrive</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>drive<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> rel
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> splitext<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; p.splitext() -&gt; Return (p.stripext(), p.ext).
&nbsp;
        Split the filename extension from this path and return
        the two parts.  Either part may be empty.
&nbsp;
        The extension is everything from '.' to the end of the
        last path segment.  This has the property that if
        (a, b) == p.splitext(), then a + b == p.
        &quot;&quot;&quot;</span>
        filename<span style="color: #66cc66;">,</span> ext <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">splitext</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>filename<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> ext
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Ici on a des méthodes légèrement différentes de celles qu'elles wrappent.</span>
    <span style="color: #808080; font-style: italic;"># C'est vraiment pour se faciliter la tâche sur les opérations courantes</span>
    <span style="color: #808080; font-style: italic;"># et sauver quelques caractères à la frappe.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> stripext<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; p.stripext() -&gt; Remove one file extension from the path.
&nbsp;
        For example, path('/home/guido/python.tar.gz').stripext()
        returns path('/home/guido/python.tar').
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">splitext</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> splitunc<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        unc<span style="color: #66cc66;">,</span> rest <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">splitunc</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>unc<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> rest
&nbsp;
    <span style="color: #66cc66;">@</span><span style="color: #008000;">property</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> uncshare<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot;
        The UNC mount point for this path.
        This is empty for paths on local drives.
        &quot;&quot;&quot;</span>
        unc<span style="color: #66cc66;">,</span> r <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">splitunc</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>unc<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># joinpath cast le premier argument si il n'est pas du même type que la</span>
    <span style="color: #808080; font-style: italic;"># classe en cours. Il n'y a pas de raison apparente, donc je suppose que</span>
    <span style="color: #808080; font-style: italic;"># c'est pour éviter une bug qu'ils ont découvert dans une situation</span>
    <span style="color: #808080; font-style: italic;"># borderline</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #66cc66;">@</span>multimethod
    <span style="color: #ff7700;font-weight:bold;">def</span> joinpath<span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span> first<span style="color: #66cc66;">,</span> *others<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot;
        Join first to zero or more path components, adding a separator
        character (first.module.sep) if needed.  Returns a new instance of
        first._next_class.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>first<span style="color: #66cc66;">,</span> cls<span style="color: black;">&#41;</span>:
            first <span style="color: #66cc66;">=</span> cls<span style="color: black;">&#40;</span>first<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> first._next_class<span style="color: black;">&#40;</span>first.<span style="color: black;">module</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span>first<span style="color: #66cc66;">,</span> *others<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Puis on arrive enfin dans les méthodes métiers qui ne sont pas dans les</span>
    <span style="color: #808080; font-style: italic;"># modules. Typiquement ce seront des méthodes plus longues et inconnues</span>
    <span style="color: #808080; font-style: italic;"># car n'existant pas dans les autres modules donc :</span>
    <span style="color: #808080; font-style: italic;"># - on les met à la fin</span>
    <span style="color: #808080; font-style: italic;"># - la docstring est plus explicite.</span>
    <span style="color: #808080; font-style: italic;"># Ici splitall permet de faire :</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># &gt;&gt;&gt; path('/usr/lib/python2.7/fnmatch.pyc').splitall()</span>
    <span style="color: #808080; font-style: italic;"># [path(u'/'), u'usr', u'lib', u'python2.7', u'fnmatch.pyc']</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ce que os.path ne permet pas de faire directement.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> splitall<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        r<span style="color: #483d8b;">&quot;&quot;&quot; Return a list of the path components in this path.
&nbsp;
        The first item in the list will be a path.  Its value will be
        either os.curdir, os.pardir, empty, or the root directory of
        this path (for example, ``'/'`` or ``'C:<span style="color: #000099; font-weight: bold;">\\</span>'``).  The other items in
        the list will be strings.
&nbsp;
        ``path.path.joinpath(*result)`` will yield the original path.
        &quot;&quot;&quot;</span>
        parts <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
        loc <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>
        <span style="color: #ff7700;font-weight:bold;">while</span> loc <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">curdir</span> <span style="color: #ff7700;font-weight:bold;">and</span> loc <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">pardir</span>:
            prev <span style="color: #66cc66;">=</span> loc
            loc<span style="color: #66cc66;">,</span> child <span style="color: #66cc66;">=</span> prev.<span style="color: black;">splitpath</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">if</span> loc <span style="color: #66cc66;">==</span> prev:
                <span style="color: #ff7700;font-weight:bold;">break</span>
            parts.<span style="color: black;">append</span><span style="color: black;">&#40;</span>child<span style="color: black;">&#41;</span>
        parts.<span style="color: black;">append</span><span style="color: black;">&#40;</span>loc<span style="color: black;">&#41;</span>
        parts.<span style="color: black;">reverse</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> parts
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Voici une bonne pratique, avoir une méthode complexe (ici relpathto(),</span>
    <span style="color: #808080; font-style: italic;"># qui crée un chemin relatif du path() courant vers un autre dossier), et</span>
    <span style="color: #808080; font-style: italic;"># son opposée plus simple (ici relpath(), qui crée un chemin relatif d'un</span>
    <span style="color: #808080; font-style: italic;"># dossier vers le path courant) qui utilise la méthode précédente en en</span>
    <span style="color: #808080; font-style: italic;"># inversant juste les paramètres.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># En effet ça ne sert à rien d'écrire deux fois la même méthode, on</span>
    <span style="color: #808080; font-style: italic;"># factorise ainsi du code et respecte le principe DRY (don't repeat</span>
    <span style="color: #808080; font-style: italic;"># yourself).</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># relpathto() est un bon exemple d'un code assez complexe pour une</span>
    <span style="color: #808080; font-style: italic;"># opération qui parait pourtant assez simple. C'est aussi un très bon</span>
    <span style="color: #808080; font-style: italic;"># exemple de comment écrire des commentaires : on ne décrit pas les</span>
    <span style="color: #808080; font-style: italic;"># opérations évidentes mais on explique les choses ambiguës et on met des</span>
    <span style="color: #808080; font-style: italic;"># avertissements</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> relpath<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> start<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'.'</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Return this path as a relative path,
        based from start, which defaults to the current working directory.
        &quot;&quot;&quot;</span>
        cwd <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>start<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> cwd.<span style="color: black;">relpathto</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> relpathto<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> dest<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Return a relative path from self to dest.
&nbsp;
        If there is no relative path from self to dest, for example if
        they reside on different drives in Windows, then this returns
        dest.abspath().
        &quot;&quot;&quot;</span>
        origin <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">abspath</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        dest <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>dest<span style="color: black;">&#41;</span>.<span style="color: black;">abspath</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
        orig_list <span style="color: #66cc66;">=</span> origin.<span style="color: black;">normcase</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">splitall</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #808080; font-style: italic;"># Don't normcase dest!  We want to preserve the case.</span>
        dest_list <span style="color: #66cc66;">=</span> dest.<span style="color: black;">splitall</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">if</span> orig_list<span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span> <span style="color: #66cc66;">!=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">normcase</span><span style="color: black;">&#40;</span>dest_list<span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>:
            <span style="color: #808080; font-style: italic;"># Can't get here from there.</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> dest
&nbsp;
        <span style="color: #808080; font-style: italic;"># Find the location where the two paths start to differ.</span>
        i <span style="color: #66cc66;">=</span> <span style="color: #ff4500;">0</span>
        <span style="color: #ff7700;font-weight:bold;">for</span> start_seg<span style="color: #66cc66;">,</span> dest_seg <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">zip</span><span style="color: black;">&#40;</span>orig_list<span style="color: #66cc66;">,</span> dest_list<span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">if</span> start_seg <span style="color: #66cc66;">!=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">normcase</span><span style="color: black;">&#40;</span>dest_seg<span style="color: black;">&#41;</span>:
                <span style="color: #ff7700;font-weight:bold;">break</span>
            i +<span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
&nbsp;
        <span style="color: #808080; font-style: italic;"># Now i is the point where the two paths diverge.</span>
        <span style="color: #808080; font-style: italic;"># Need a certain number of &quot;os.pardir&quot;s to work up</span>
        <span style="color: #808080; font-style: italic;"># from the origin to the point of divergence.</span>
        segments <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: #dc143c;">os</span>.<span style="color: black;">pardir</span><span style="color: black;">&#93;</span> * <span style="color: black;">&#40;</span><span style="color: #008000;">len</span><span style="color: black;">&#40;</span>orig_list<span style="color: black;">&#41;</span> - i<span style="color: black;">&#41;</span>
        <span style="color: #808080; font-style: italic;"># Need to add the diverging part of dest_list.</span>
        segments +<span style="color: #66cc66;">=</span> dest_list<span style="color: black;">&#91;</span>i:<span style="color: black;">&#93;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span>segments<span style="color: black;">&#41;</span> <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">0</span>:
            <span style="color: #808080; font-style: italic;"># If they happen to be identical, use os.curdir.</span>
            relpath <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">curdir</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            relpath <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span>*segments<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>relpath<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># --- Listing, searching, walking, and matching</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># un simple wrapper mais qui rajoute un argument en plus : un pattern à la</span>
    <span style="color: #808080; font-style: italic;"># unix. C'est une extension naturelle, et c'est le genre de chose que vous</span>
    <span style="color: #808080; font-style: italic;"># vouliez faire et vous vous êtes toujours demandé : &quot;mais pourquoi</span>
    <span style="color: #808080; font-style: italic;"># c'est pas par défaut ?&quot; ou &quot;comment on fait ça facilement ?&quot; Si vous</span>
    <span style="color: #808080; font-style: italic;"># vous posez ce genre de question, étendez un peu les comportements</span>
    <span style="color: #808080; font-style: italic;"># initiaux. Rajouter un argument ne rend pas le comportement différent du</span>
    <span style="color: #808080; font-style: italic;"># précédent grâce au paramètre par défaut mis à None, donc c'est tout</span>
    <span style="color: #808080; font-style: italic;"># bénef.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> listdir<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; D.listdir() -&gt; List of items in this directory.
&nbsp;
        Use D.files() or D.dirs() instead if you want a listing
        of just files or just subdirectories.
&nbsp;
        The elements of the list are path objects.
&nbsp;
        With the optional 'pattern' argument, this only lists
        items whose names match the given pattern.
        &quot;&quot;&quot;</span>
        names <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">listdir</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> pattern <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">None</span>:
            names <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">fnmatch</span>.<span style="color: #008000;">filter</span><span style="color: black;">&#40;</span>names<span style="color: #66cc66;">,</span> pattern<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#91;</span><span style="color: #008000;">self</span> / child <span style="color: #ff7700;font-weight:bold;">for</span> child <span style="color: #ff7700;font-weight:bold;">in</span> names<span style="color: black;">&#93;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Dans la même lignée de ce qu'on a vu plus haut: utiliser une fonction</span>
    <span style="color: #808080; font-style: italic;"># plus complexe (qui déjà étend un comportement par défaut) pour en</span>
    <span style="color: #808080; font-style: italic;"># faire encore une méthode plus spécialisée.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># L'avantage de cette approche c'est que le code est plein de petites</span>
    <span style="color: #808080; font-style: italic;"># briques:</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># vous avez listdir(), qui est assez court (mais déjà plus puissant),</span>
    <span style="color: #808080; font-style: italic;"># puis dirs() et files(), qui font la même chose en plus spécialisés.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># L'alternative aurait été d'ajouter une param à listdir() et ne pas</span>
    <span style="color: #808080; font-style: italic;"># créer dirs() et files(), mais ça aurait rajouté un if dans le code et</span>
    <span style="color: #808080; font-style: italic;"># un paramètre qui fait rechercher dans la doc celui qui l'utilise et</span>
    <span style="color: #808080; font-style: italic;"># celui qui lit le code.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Avec l'approche actuelle, l'API est très claire :</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># for d in path('/etc').dirs()</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># On s'attend à lire tous les dossiers de /etc. Et les</span>
    <span style="color: #808080; font-style: italic;"># méthodes restent courtes.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> dirs<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; D.dirs() -&gt; List of this directory's subdirectories.
&nbsp;
        The elements of the list are path objects.
        This does not walk recursively into subdirectories
        (but see path.walkdirs).
&nbsp;
        With the optional 'pattern' argument, this only lists
        directories whose names match the given pattern.  For
        example, ``d.dirs('build-*')``.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#91;</span>p <span style="color: #ff7700;font-weight:bold;">for</span> p <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: black;">listdir</span><span style="color: black;">&#40;</span>pattern<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> p.<span style="color: black;">isdir</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> files<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; D.files() -&gt; List of the files in this directory.
&nbsp;
        The elements of the list are path objects.
        This does not walk into subdirectories (see path.walkfiles).
&nbsp;
        With the optional 'pattern' argument, this only lists files
        whose names match the given pattern.  For example,
        ``d.files('*.pyc')``.
        &quot;&quot;&quot;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#91;</span>p <span style="color: #ff7700;font-weight:bold;">for</span> p <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">self</span>.<span style="color: black;">listdir</span><span style="color: black;">&#40;</span>pattern<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> p.<span style="color: black;">isfile</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># walk() et ses pendants walkdirs() et walkfiles() sont des alternatives</span>
    <span style="color: #808080; font-style: italic;"># au très peu intuitif os.path.walk qui permet de traverser récursivement</span>
    <span style="color: #808080; font-style: italic;"># un répertoire.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># En effet, en Python les callbacks sont quelque chose qu'on utilise peu,</span>
    <span style="color: #808080; font-style: italic;"># et à l'inverse, on itère beaucoup.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Cela permet de faire:</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># for f in path('/etc').walk_files():</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Pour lister récursivement tous les fichiers de /etc et de ses sous</span>
    <span style="color: #808080; font-style: italic;"># (et sous, sous, sous) dossiers.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># C'est clair, c'est simple à comprendre et facile à utiliser.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># L'auteur utilise ici 'yield', et c'est l'outil parfait pour cela.</span>
    <span style="color: #808080; font-style: italic;"># Souvenez vous de 'yield' comme un très bon moyen de parcourir des choses</span>
    <span style="color: #808080; font-style: italic;"># imbriquées comme si c'était une structure plate à une dimension.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Yield permet de transformer n'importe quelle méthode d'un objet en</span>
    <span style="color: #808080; font-style: italic;"># un générateur sur un algorithme qui peut être très complexe, simplifiant</span>
    <span style="color: #808080; font-style: italic;"># son utilisation. Pensez-y !</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Sous le capot, c'est presque un appel récursif, si ce n'est qu'un nouvel</span>
    <span style="color: #808080; font-style: italic;"># objet path() est créé à chaque fois, depuis lequel on fait walk().</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Notez également que sur une méthode comme ça qui peut foirer facilement</span>
    <span style="color: #808080; font-style: italic;"># (une opération sur des centaines de fichiers...), un paramètre permet</span>
    <span style="color: #808080; font-style: italic;"># de choisir une gestion des erreurs parmi :</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># - lever une exception (qui est dans un code propre le choix par défaut)</span>
    <span style="color: #808080; font-style: italic;"># - ignorer (pour faire un code tolérant aux erreurs)</span>
    <span style="color: #808080; font-style: italic;"># - ou faire un retour sans erreur, mais avec un warning technique (utile</span>
    <span style="color: #808080; font-style: italic;">#     pour le scripting)</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Encore une fois, faire une classe, c'est l'occasion de penser à</span>
    <span style="color: #808080; font-style: italic;"># l'utilisateur de la classe, ce qui a été ici bien fait.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Enfin, contrairement à ce qu'on pourrait attendre, walkdirs et walkfiles</span>
    <span style="color: #808080; font-style: italic;"># n'utilisent pas walk(), ce qui est généralement fait pour des raisons de</span>
    <span style="color: #808080; font-style: italic;"># performances (on sacrifie le DRY pour éviter un appel de callback</span>
    <span style="color: #808080; font-style: italic;"># ou un test sur des grosses boucles), même si ici c'est une supposition.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> walk<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> errors<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'strict'</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; D.walk() -&gt; iterator over files and subdirs, recursively.
&nbsp;
        The iterator yields path objects naming each child item of
        this directory and its descendants.  This requires that
        D.isdir().
&nbsp;
        This performs a depth-first traversal of the directory tree.
        Each directory is returned just before all its children.
&nbsp;
        The errors= keyword argument controls behavior when an
        error occurs.  The default is 'strict', which causes an
        exception.  The other allowed values are 'warn', which
        reports the error via warnings.warn(), and 'ignore'.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">'strict'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'warn'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'ignore'</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">ValueError</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;invalid errors parameter&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            childList <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">listdir</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">Exception</span>:
            <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'ignore'</span>:
                <span style="color: #ff7700;font-weight:bold;">return</span>
            <span style="color: #ff7700;font-weight:bold;">elif</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'warn'</span>:
                <span style="color: #dc143c;">warnings</span>.<span style="color: black;">warn</span><span style="color: black;">&#40;</span>
                    <span style="color: #483d8b;">&quot;Unable to list directory '%s': %s&quot;</span>
                    % <span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">exc_info</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
                    TreeWalkWarning<span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">return</span>
            <span style="color: #ff7700;font-weight:bold;">else</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">for</span> child <span style="color: #ff7700;font-weight:bold;">in</span> childList:
            <span style="color: #ff7700;font-weight:bold;">if</span> pattern <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span> <span style="color: #ff7700;font-weight:bold;">or</span> child.<span style="color: #dc143c;">fnmatch</span><span style="color: black;">&#40;</span>pattern<span style="color: black;">&#41;</span>:
                <span style="color: #ff7700;font-weight:bold;">yield</span> child
            <span style="color: #ff7700;font-weight:bold;">try</span>:
                isdir <span style="color: #66cc66;">=</span> child.<span style="color: black;">isdir</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">Exception</span>:
                <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'ignore'</span>:
                    isdir <span style="color: #66cc66;">=</span> <span style="color: #008000;">False</span>
                <span style="color: #ff7700;font-weight:bold;">elif</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'warn'</span>:
                    <span style="color: #dc143c;">warnings</span>.<span style="color: black;">warn</span><span style="color: black;">&#40;</span>
                        <span style="color: #483d8b;">&quot;Unable to access '%s': %s&quot;</span>
                        % <span style="color: black;">&#40;</span>child<span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">exc_info</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
                        TreeWalkWarning<span style="color: black;">&#41;</span>
                    isdir <span style="color: #66cc66;">=</span> <span style="color: #008000;">False</span>
                <span style="color: #ff7700;font-weight:bold;">else</span>:
                    <span style="color: #ff7700;font-weight:bold;">raise</span>
&nbsp;
            <span style="color: #ff7700;font-weight:bold;">if</span> isdir:
                <span style="color: #ff7700;font-weight:bold;">for</span> item <span style="color: #ff7700;font-weight:bold;">in</span> child.<span style="color: black;">walk</span><span style="color: black;">&#40;</span>pattern<span style="color: #66cc66;">,</span> errors<span style="color: black;">&#41;</span>:
                    <span style="color: #ff7700;font-weight:bold;">yield</span> item
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> walkdirs<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> errors<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'strict'</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; D.walkdirs() -&gt; iterator over subdirs, recursively.
&nbsp;
        With the optional 'pattern' argument, this yields only
        directories whose names match the given pattern.  For
        example, ``mydir.walkdirs('*test')`` yields only directories
        with names ending in 'test'.
&nbsp;
        The errors= keyword argument controls behavior when an
        error occurs.  The default is 'strict', which causes an
        exception.  The other allowed values are 'warn', which
        reports the error via warnings.warn(), and 'ignore'.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">'strict'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'warn'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'ignore'</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">ValueError</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;invalid errors parameter&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            dirs <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">dirs</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">Exception</span>:
            <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'ignore'</span>:
                <span style="color: #ff7700;font-weight:bold;">return</span>
            <span style="color: #ff7700;font-weight:bold;">elif</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'warn'</span>:
                <span style="color: #dc143c;">warnings</span>.<span style="color: black;">warn</span><span style="color: black;">&#40;</span>
                    <span style="color: #483d8b;">&quot;Unable to list directory '%s': %s&quot;</span>
                    % <span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">exc_info</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
                    TreeWalkWarning<span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">return</span>
            <span style="color: #ff7700;font-weight:bold;">else</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">for</span> child <span style="color: #ff7700;font-weight:bold;">in</span> dirs:
            <span style="color: #ff7700;font-weight:bold;">if</span> pattern <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span> <span style="color: #ff7700;font-weight:bold;">or</span> child.<span style="color: #dc143c;">fnmatch</span><span style="color: black;">&#40;</span>pattern<span style="color: black;">&#41;</span>:
                <span style="color: #ff7700;font-weight:bold;">yield</span> child
            <span style="color: #ff7700;font-weight:bold;">for</span> subsubdir <span style="color: #ff7700;font-weight:bold;">in</span> child.<span style="color: black;">walkdirs</span><span style="color: black;">&#40;</span>pattern<span style="color: #66cc66;">,</span> errors<span style="color: black;">&#41;</span>:
                <span style="color: #ff7700;font-weight:bold;">yield</span> subsubdir
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> walkfiles<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> errors<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'strict'</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; D.walkfiles() -&gt; iterator over files in D, recursively.
&nbsp;
        The optional argument, pattern, limits the results to files
        with names that match the pattern.  For example,
        ``mydir.walkfiles('*.tmp')`` yields only files with the .tmp
        extension.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">'strict'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'warn'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'ignore'</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">ValueError</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;invalid errors parameter&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            childList <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">listdir</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">Exception</span>:
            <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'ignore'</span>:
                <span style="color: #ff7700;font-weight:bold;">return</span>
            <span style="color: #ff7700;font-weight:bold;">elif</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'warn'</span>:
                <span style="color: #dc143c;">warnings</span>.<span style="color: black;">warn</span><span style="color: black;">&#40;</span>
                    <span style="color: #483d8b;">&quot;Unable to list directory '%s': %s&quot;</span>
                    % <span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">exc_info</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
                    TreeWalkWarning<span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">return</span>
            <span style="color: #ff7700;font-weight:bold;">else</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">for</span> child <span style="color: #ff7700;font-weight:bold;">in</span> childList:
            <span style="color: #ff7700;font-weight:bold;">try</span>:
                isfile <span style="color: #66cc66;">=</span> child.<span style="color: black;">isfile</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
                isdir <span style="color: #66cc66;">=</span> <span style="color: #ff7700;font-weight:bold;">not</span> isfile <span style="color: #ff7700;font-weight:bold;">and</span> child.<span style="color: black;">isdir</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">except</span>:
                <span style="color: #ff7700;font-weight:bold;">if</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'ignore'</span>:
                    <span style="color: #ff7700;font-weight:bold;">continue</span>
                <span style="color: #ff7700;font-weight:bold;">elif</span> errors <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'warn'</span>:
                    <span style="color: #dc143c;">warnings</span>.<span style="color: black;">warn</span><span style="color: black;">&#40;</span>
                        <span style="color: #483d8b;">&quot;Unable to access '%s': %s&quot;</span>
                        % <span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">exc_info</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
                        TreeWalkWarning<span style="color: black;">&#41;</span>
                    <span style="color: #ff7700;font-weight:bold;">continue</span>
                <span style="color: #ff7700;font-weight:bold;">else</span>:
                    <span style="color: #ff7700;font-weight:bold;">raise</span>
&nbsp;
            <span style="color: #ff7700;font-weight:bold;">if</span> isfile:
                <span style="color: #ff7700;font-weight:bold;">if</span> pattern <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span> <span style="color: #ff7700;font-weight:bold;">or</span> child.<span style="color: #dc143c;">fnmatch</span><span style="color: black;">&#40;</span>pattern<span style="color: black;">&#41;</span>:
                    <span style="color: #ff7700;font-weight:bold;">yield</span> child
            <span style="color: #ff7700;font-weight:bold;">elif</span> isdir:
                <span style="color: #ff7700;font-weight:bold;">for</span> f <span style="color: #ff7700;font-weight:bold;">in</span> child.<span style="color: black;">walkfiles</span><span style="color: black;">&#40;</span>pattern<span style="color: #66cc66;">,</span> errors<span style="color: black;">&#41;</span>:
                    <span style="color: #ff7700;font-weight:bold;">yield</span> f
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #dc143c;">fnmatch</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Return True if self.name matches the given pattern.
&nbsp;
        pattern - A filename pattern with wildcards,
            for example ``'*.py'``.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #dc143c;">fnmatch</span>.<span style="color: #dc143c;">fnmatch</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">name</span><span style="color: #66cc66;">,</span> pattern<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #dc143c;">glob</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> pattern<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Return a list of path objects that match the pattern.
&nbsp;
        pattern - a path relative to this directory, with wildcards.
&nbsp;
        For example, path('/users').glob('*/bin/*') returns a list
        of all the files users have in their bin directories.
        &quot;&quot;&quot;</span>
        cls <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>._next_class
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#91;</span>cls<span style="color: black;">&#40;</span>s<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">for</span> s <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #dc143c;">glob</span>.<span style="color: #dc143c;">glob</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span> / pattern<span style="color: black;">&#41;</span><span style="color: black;">&#93;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># --- Reading or writing an entire file at once.</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'r'</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Open this file.  Return a file object. &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># L'avantage d'avoir une classe comme point de départ de tout c'est que</span>
    <span style="color: #808080; font-style: italic;"># c'est facile à manipuler dans le shell, surtout en autocompletion.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Donc il est bon de mettre quelques outils qui sont pratiques dans les</span>
    <span style="color: #808080; font-style: italic;"># usages type shell.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ici c'est exactement le cas : on fait des méthodes un peu bourrines (</span>
    <span style="color: #808080; font-style: italic;"># globalement ça dump en mémoire ou ça écrit tout le fichier d'un coup),</span>
    <span style="color: #808080; font-style: italic;"># mais très pratiques pour manipuler les objets dans un terminal.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Notez aussi le nettoyage opéré:</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#             return (t.replace(u'\r\n', u'\n')</span>
    <span style="color: #808080; font-style: italic;">#                  .replace(u'\r\x85', u'\n')</span>
    <span style="color: #808080; font-style: italic;">#                  .replace(u'\r', u'\n')</span>
    <span style="color: #808080; font-style: italic;">#                  .replace(u'\x85', u'\n')</span>
    <span style="color: #808080; font-style: italic;">#                  .replace(u'\u2028', u'\n'))</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ce n'est pas particulièrement lié à la POO, mais l'encapsulation de</span>
    <span style="color: #808080; font-style: italic;"># ce genre de process est toujours le bienvenu. L'idée est que l'objet</span>
    <span style="color: #808080; font-style: italic;"># puisse être utilisé comme une boîte noire en laquelle on a totalement</span>
    <span style="color: #808080; font-style: italic;"># confiance.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #dc143c;">bytes</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Open this file, read all bytes, return them as a string. &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'rb'</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> f:
            <span style="color: #ff7700;font-weight:bold;">return</span> f.<span style="color: black;">read</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> write_bytes<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">bytes</span><span style="color: #66cc66;">,</span> append<span style="color: #66cc66;">=</span><span style="color: #008000;">False</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Open this file and write the given bytes to it.
&nbsp;
        Default behavior is to overwrite any existing file.
        Call p.write_bytes(bytes, append=True) to append instead.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> append:
            mode <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'ab'</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            mode <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'wb'</span>
        <span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span>mode<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> f:
            f.<span style="color: black;">write</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">bytes</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> text<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> encoding<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> errors<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'strict'</span><span style="color: black;">&#41;</span>:
        r<span style="color: #483d8b;">&quot;&quot;&quot; Open this file, read it in, return the content as a string.
&nbsp;
        This method uses 'U' mode, so '<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>' and '<span style="color: #000099; font-weight: bold;">\r</span>' are automatically
        translated to '<span style="color: #000099; font-weight: bold;">\n</span>'.
&nbsp;
        Optional arguments:
&nbsp;
        encoding - The Unicode encoding (or character set) of
            the file.  If present, the content of the file is
            decoded and returned as a unicode object; otherwise
            it is returned as an 8-bit str.
        errors - How to handle Unicode errors; see help(str.decode)
            for the options.  Default is 'strict'.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> encoding <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>:
            <span style="color: #808080; font-style: italic;"># 8-bit</span>
            <span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'U'</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> f:
                <span style="color: #ff7700;font-weight:bold;">return</span> f.<span style="color: black;">read</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            <span style="color: #808080; font-style: italic;"># Unicode</span>
            <span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #dc143c;">codecs</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'r'</span><span style="color: #66cc66;">,</span> encoding<span style="color: #66cc66;">,</span> errors<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> f:
                <span style="color: #808080; font-style: italic;"># (Note - Can't use 'U' mode here, since codecs.open</span>
                <span style="color: #808080; font-style: italic;"># doesn't support 'U' mode.)</span>
                t <span style="color: #66cc66;">=</span> f.<span style="color: black;">read</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#40;</span>t.<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                     .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\x</span>85'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                     .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span>'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                     .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>85'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                     .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\u</span>2028'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Sur des méthodes avec de nombreux paramètres, ne pas hésiter</span>
    <span style="color: #808080; font-style: italic;"># à mettre un maximum de valeurs par défaut &quot;saines&quot; (c'est à dire la</span>
    <span style="color: #808080; font-style: italic;"># valeur du cas le plus courant ou pragmatique).</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Comme c'est une grosse fonction très configurable, la docstring</span>
    <span style="color: #808080; font-style: italic;"># est écrite en conséquence. Ne soyez pas timide avec la dosctring,</span>
    <span style="color: #808080; font-style: italic;"># on peut la faire très très très longue, ce n'est pas une mauvaise</span>
    <span style="color: #808080; font-style: italic;"># chose.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Notez que la docstring est préfixée d'un &quot;r&quot; ici, pour que Python</span>
    <span style="color: #808080; font-style: italic;"># n'interprète pas les \n et \r.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> write_text<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> text<span style="color: #66cc66;">,</span> encoding<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> errors<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'strict'</span><span style="color: #66cc66;">,</span> linesep<span style="color: #66cc66;">=</span><span style="color: #dc143c;">os</span>.<span style="color: black;">linesep</span><span style="color: #66cc66;">,</span> append<span style="color: #66cc66;">=</span><span style="color: #008000;">False</span><span style="color: black;">&#41;</span>:
        r<span style="color: #483d8b;">&quot;&quot;&quot; Write the given text to this file.
&nbsp;
        The default behavior is to overwrite any existing file;
        to append instead, use the 'append=True' keyword argument.
&nbsp;
        There are two differences between path.write_text() and
        path.write_bytes(): newline handling and Unicode handling.
        See below.
&nbsp;
        Parameters:
&nbsp;
          - text - str/unicode - The text to be written.
&nbsp;
          - encoding - str - The Unicode encoding that will be used.
            This is ignored if 'text' isn't a Unicode string.
&nbsp;
          - errors - str - How to handle Unicode encoding errors.
            Default is 'strict'.  See help(unicode.encode) for the
            options.  This is ignored if 'text' isn't a Unicode
            string.
&nbsp;
          - linesep - keyword argument - str/unicode - The sequence of
            characters to be used to mark end-of-line.  The default is
            os.linesep.  You can also specify None; this means to
            leave all newlines as they are in 'text'.
&nbsp;
          - append - keyword argument - bool - Specifies what to do if
            the file already exists (True: append to the end of it;
            False: overwrite it.)  The default is False.
&nbsp;
&nbsp;
        --- Newline handling.
&nbsp;
        write_text() converts all standard end-of-line sequences
        ('<span style="color: #000099; font-weight: bold;">\n</span>', '<span style="color: #000099; font-weight: bold;">\r</span>', and '<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>') to your platform's default end-of-line
        sequence (see os.linesep; on Windows, for example, the
        end-of-line marker is '<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>').
&nbsp;
        If you don't like your platform's default, you can override it
        using the 'linesep=' keyword argument.  If you specifically want
        write_text() to preserve the newlines as-is, use 'linesep=None'.
&nbsp;
        This applies to Unicode text the same as to 8-bit text, except
        there are three additional standard Unicode end-of-line sequences:
        u'<span style="color: #000099; font-weight: bold;">\x</span>85', u'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\x</span>85', and u'<span style="color: #000099; font-weight: bold;">\u</span>2028'.
&nbsp;
        (This is slightly different from when you open a file for
        writing with fopen(filename, &quot;w&quot;) in C or open(filename, 'w')
        in Python.)
&nbsp;
&nbsp;
        --- Unicode
&nbsp;
        If 'text' isn't Unicode, then apart from newline handling, the
        bytes are written verbatim to the file.  The 'encoding' and
        'errors' arguments are not used and must be omitted.
&nbsp;
        If 'text' is Unicode, it is first converted to bytes using the
        specified 'encoding' (or the default encoding if 'encoding'
        isn't specified).  The 'errors' argument applies only to this
        conversion.
&nbsp;
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>text<span style="color: #66cc66;">,</span> <span style="color: #008000;">unicode</span><span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">if</span> linesep <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">None</span>:
                <span style="color: #808080; font-style: italic;"># Convert all standard end-of-line sequences to</span>
                <span style="color: #808080; font-style: italic;"># ordinary newline characters.</span>
                text <span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span>text.<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                            .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\x</span>85'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                            .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span>'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                            .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>85'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                            .<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\u</span>2028'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
                text <span style="color: #66cc66;">=</span> text.<span style="color: black;">replace</span><span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #66cc66;">,</span> linesep<span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">if</span> encoding <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>:
                encoding <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">getdefaultencoding</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
            <span style="color: #dc143c;">bytes</span> <span style="color: #66cc66;">=</span> text.<span style="color: black;">encode</span><span style="color: black;">&#40;</span>encoding<span style="color: #66cc66;">,</span> errors<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            <span style="color: #808080; font-style: italic;"># It is an error to specify an encoding if 'text' is</span>
            <span style="color: #808080; font-style: italic;"># an 8-bit string.</span>
            <span style="color: #ff7700;font-weight:bold;">assert</span> encoding <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>
&nbsp;
            <span style="color: #ff7700;font-weight:bold;">if</span> linesep <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">None</span>:
                text <span style="color: #66cc66;">=</span> <span style="color: black;">&#40;</span>text.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>
                            .<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span>'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
                <span style="color: #dc143c;">bytes</span> <span style="color: #66cc66;">=</span> text.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #66cc66;">,</span> linesep<span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #008000;">self</span>.<span style="color: black;">write_bytes</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">bytes</span><span style="color: #66cc66;">,</span> append<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> lines<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> encoding<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> errors<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'strict'</span><span style="color: #66cc66;">,</span> retain<span style="color: #66cc66;">=</span><span style="color: #008000;">True</span><span style="color: black;">&#41;</span>:
        r<span style="color: #483d8b;">&quot;&quot;&quot; Open this file, read all lines, return them in a list.
&nbsp;
        Optional arguments:
            encoding - The Unicode encoding (or character set) of
                the file.  The default is None, meaning the content
                of the file is read as 8-bit characters and returned
                as a list of (non-Unicode) str objects.
            errors - How to handle Unicode errors; see help(str.decode)
                for the options.  Default is 'strict'
            retain - If true, retain newline characters; but all newline
                character combinations ('<span style="color: #000099; font-weight: bold;">\r</span>', '<span style="color: #000099; font-weight: bold;">\n</span>', '<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>') are
                translated to '<span style="color: #000099; font-weight: bold;">\n</span>'.  If false, newline characters are
                stripped off.  Default is True.
&nbsp;
        This uses 'U' mode.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> encoding <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span> <span style="color: #ff7700;font-weight:bold;">and</span> retain:
            <span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'U'</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> f:
                <span style="color: #ff7700;font-weight:bold;">return</span> f.<span style="color: black;">readlines</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">text</span><span style="color: black;">&#40;</span>encoding<span style="color: #66cc66;">,</span> errors<span style="color: black;">&#41;</span>.<span style="color: black;">splitlines</span><span style="color: black;">&#40;</span>retain<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> write_lines<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> lines<span style="color: #66cc66;">,</span> encoding<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> errors<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'strict'</span><span style="color: #66cc66;">,</span>
                    linesep<span style="color: #66cc66;">=</span><span style="color: #dc143c;">os</span>.<span style="color: black;">linesep</span><span style="color: #66cc66;">,</span> append<span style="color: #66cc66;">=</span><span style="color: #008000;">False</span><span style="color: black;">&#41;</span>:
        r<span style="color: #483d8b;">&quot;&quot;&quot; Write the given lines of text to this file.
&nbsp;
        By default this overwrites any existing file at this path.
&nbsp;
        This puts a platform-specific newline sequence on every line.
        See 'linesep' below.
&nbsp;
        lines - A list of strings.
&nbsp;
        encoding - A Unicode encoding to use.  This applies only if
            'lines' contains any Unicode strings.
&nbsp;
        errors - How to handle errors in Unicode encoding.  This
            also applies only to Unicode strings.
&nbsp;
        linesep - The desired line-ending.  This line-ending is
            applied to every line.  If a line already has any
            standard line ending ('<span style="color: #000099; font-weight: bold;">\r</span>', '<span style="color: #000099; font-weight: bold;">\n</span>', '<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>', u'<span style="color: #000099; font-weight: bold;">\x</span>85',
            u'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\x</span>85', u'<span style="color: #000099; font-weight: bold;">\u</span>2028'), that will be stripped off and
            this will be used instead.  The default is os.linesep,
            which is platform-dependent ('<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>' on Windows, '<span style="color: #000099; font-weight: bold;">\n</span>' on
            Unix, etc.)  Specify None to write the lines as-is,
            like file.writelines().
&nbsp;
        Use the keyword argument append=True to append lines to the
        file.  The default is to overwrite the file.  Warning:
        When you use this with Unicode data, if the encoding of the
        existing data in the file is different from the encoding
        you specify with the encoding= parameter, the result is
        mixed-encoding data, which can really confuse someone trying
        to read the file later.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">if</span> append:
            mode <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'ab'</span>
        <span style="color: #ff7700;font-weight:bold;">else</span>:
            mode <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'wb'</span>
        <span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span>mode<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> f:
            <span style="color: #ff7700;font-weight:bold;">for</span> line <span style="color: #ff7700;font-weight:bold;">in</span> lines:
                isUnicode <span style="color: #66cc66;">=</span> <span style="color: #008000;">isinstance</span><span style="color: black;">&#40;</span>line<span style="color: #66cc66;">,</span> <span style="color: #008000;">unicode</span><span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">if</span> linesep <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #008000;">None</span>:
                    <span style="color: #808080; font-style: italic;"># Strip off any existing line-end and add the</span>
                    <span style="color: #808080; font-style: italic;"># specified linesep string.</span>
                    <span style="color: #ff7700;font-weight:bold;">if</span> isUnicode:
                        <span style="color: #ff7700;font-weight:bold;">if</span> line<span style="color: black;">&#91;</span>-<span style="color: #ff4500;">2</span>:<span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>0d<span style="color: #000099; font-weight: bold;">\x</span>85'</span><span style="color: black;">&#41;</span>:
                            line <span style="color: #66cc66;">=</span> line<span style="color: black;">&#91;</span>:-<span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span>
                        <span style="color: #ff7700;font-weight:bold;">elif</span> line<span style="color: black;">&#91;</span>-<span style="color: #ff4500;">1</span>:<span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span>u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span>'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: #66cc66;">,</span>
                                           u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>85'</span><span style="color: #66cc66;">,</span> u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\u</span>2028'</span><span style="color: black;">&#41;</span>:
                            line <span style="color: #66cc66;">=</span> line<span style="color: black;">&#91;</span>:-<span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span>
                    <span style="color: #ff7700;font-weight:bold;">else</span>:
                        <span style="color: #ff7700;font-weight:bold;">if</span> line<span style="color: black;">&#91;</span>-<span style="color: #ff4500;">2</span>:<span style="color: black;">&#93;</span> <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>'</span>:
                            line <span style="color: #66cc66;">=</span> line<span style="color: black;">&#91;</span>:-<span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span>
                        <span style="color: #ff7700;font-weight:bold;">elif</span> line<span style="color: black;">&#91;</span>-<span style="color: #ff4500;">1</span>:<span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\r</span>'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">&#41;</span>:
                            line <span style="color: #66cc66;">=</span> line<span style="color: black;">&#91;</span>:-<span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span>
                    line +<span style="color: #66cc66;">=</span> linesep
                <span style="color: #ff7700;font-weight:bold;">if</span> isUnicode:
                    <span style="color: #ff7700;font-weight:bold;">if</span> encoding <span style="color: #ff7700;font-weight:bold;">is</span> <span style="color: #008000;">None</span>:
                        encoding <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">getdefaultencoding</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
                    line <span style="color: #66cc66;">=</span> line.<span style="color: black;">encode</span><span style="color: black;">&#40;</span>encoding<span style="color: #66cc66;">,</span> errors<span style="color: black;">&#41;</span>
                f.<span style="color: black;">write</span><span style="color: black;">&#40;</span>line<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> read_md5<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Calculate the md5 hash for this file.
&nbsp;
        This reads through the entire file.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">read_hash</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'md5'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> _hash<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> hash_name<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">self</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'rb'</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> f:
            m <span style="color: #66cc66;">=</span> hashlib.<span style="color: #dc143c;">new</span><span style="color: black;">&#40;</span>hash_name<span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">while</span> <span style="color: #008000;">True</span>:
                d <span style="color: #66cc66;">=</span> f.<span style="color: black;">read</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">8192</span><span style="color: black;">&#41;</span>
                <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> d:
                    <span style="color: #ff7700;font-weight:bold;">break</span>
                m.<span style="color: black;">update</span><span style="color: black;">&#40;</span>d<span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> m
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> read_hash<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> hash_name<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Calculate given hash for this file.
&nbsp;
        List of supported hashes can be obtained from hashlib package. This
        reads the entire file.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._hash<span style="color: black;">&#40;</span>hash_name<span style="color: black;">&#41;</span>.<span style="color: black;">digest</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> read_hexhash<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> hash_name<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Calculate given hash for this file, returning hexdigest.
&nbsp;
        List of supported hashes can be obtained from hashlib package. This
        reads the entire file.
        &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._hash<span style="color: black;">&#40;</span>hash_name<span style="color: black;">&#41;</span>.<span style="color: black;">hexdigest</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Comme les fonctions, les méthodes peuvent être définies sur une ligne si</span>
    <span style="color: #808080; font-style: italic;"># le bloc ne fait qu'une ligne de taille. On utilise ça quand la fonction</span>
    <span style="color: #808080; font-style: italic;"># est juste un alias un peu avancé comme ici pour garder un style quasi</span>
    <span style="color: #808080; font-style: italic;"># déclaratif.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># --- Methods for querying the filesystem.</span>
    <span style="color: #808080; font-style: italic;"># N.B. On some platforms, the os.path functions may be implemented in C</span>
    <span style="color: #808080; font-style: italic;"># (e.g. isdir on Windows, Python 3.2.2), and compiled functions don't get</span>
    <span style="color: #808080; font-style: italic;"># bound. Playing it safe and wrapping them all in method calls.</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> isabs<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">isabs</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> exists<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">exists</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> isdir<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">isdir</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> isfile<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">isfile</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> islink<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">islink</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> ismount<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">ismount</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> samefile<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">samefile</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> getatime<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">getatime</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    atime <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        getatime<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; Last access time of the file. &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> getmtime<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">getmtime</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    mtime <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        getmtime<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; Last-modified time of the file. &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> getctime<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">getctime</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    ctime <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        getctime<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; Creation time of the file. &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> getsize<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>: <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">module</span>.<span style="color: black;">getsize</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
    size <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        getsize<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; Size of the file, in bytes. &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Technique intéressante : on peut générer dynamiquement le corps de</span>
    <span style="color: #808080; font-style: italic;"># la classe. En effet, il peut contenir des if, des try, des for, etc.</span>
    <span style="color: #808080; font-style: italic;"># Ici par exemple, on ne définit la méthode access() que si le module</span>
    <span style="color: #808080; font-style: italic;"># 'os' possède l'attribut 'access'.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Si ce n'est pas le cas, la classe n'aura pas cette méthode.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'access'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> access<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: black;">&#41;</span>:
            <span style="color: #483d8b;">&quot;&quot;&quot; Return true if current user has access to this path.
&nbsp;
            mode - One of the constants os.F_OK, os.R_OK, os.W_OK, os.X_OK
            &quot;&quot;&quot;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">access</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #dc143c;">stat</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Perform a stat() system call on this path. &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #dc143c;">os</span>.<span style="color: #dc143c;">stat</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> lstat<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Like path.stat(), but do not follow symbolic links. &quot;&quot;&quot;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">lstat</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Une autre technique intéressante : une des rares utilisation du double</span>
    <span style="color: #808080; font-style: italic;"># '_' en tant que préfixe qui ait du sens. '__method' interdit d'accéder</span>
    <span style="color: #808080; font-style: italic;"># directement à la méthode depuis l'extérieur. C'est ce qu'on a de plus</span>
    <span style="color: #808080; font-style: italic;"># proche de &quot;private&quot; en Python.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Ce n'est pas sécurisé du tout (on peut le contourner) et cela empêche le</span>
    <span style="color: #808080; font-style: italic;"># monkey patching et autres mesures de contournement en cas de besoin,</span>
    <span style="color: #808080; font-style: italic;"># donc je ne vous recommande pas de le faire.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Mais dans ce cas, ces méthodes sont volontairement définies ainsi pour</span>
    <span style="color: #808080; font-style: italic;"># être invisibles puis un peu plus bas, si win32security ou pwd existent</span>
    <span style="color: #808080; font-style: italic;"># (rappelez-vous, ce sont des dépendances optionnelles), alors elles sont</span>
    <span style="color: #808080; font-style: italic;"># aliasées pour être rendues disponibles.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Il y a 3 implémentations (3 méthodes: une pour windows, une pour unix et</span>
    <span style="color: #808080; font-style: italic;"># une pour le cas où aucun module n'est présent) pour la même</span>
    <span style="color: #808080; font-style: italic;"># fonctionnalité, et l'une des 3 méthodes est utilisée comme</span>
    <span style="color: #808080; font-style: italic;"># implémentation de get_owner().</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># On aurait pu tout mettre dans des if directement, mais ça ferait des</span>
    <span style="color: #808080; font-style: italic;"># gros blocs moins lisibles. Ici il est facile de comprendre le code</span>
    <span style="color: #808080; font-style: italic;"># source.</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> __get_owner_windows<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        r<span style="color: #483d8b;">&quot;&quot;&quot;
        Return the name of the owner of this file or directory. Follow
        symbolic links.
&nbsp;
        Return a name of the form ur'DOMAIN<span style="color: #000099; font-weight: bold;">\U</span>ser Name'; may be a group.
        &quot;&quot;&quot;</span>
        desc <span style="color: #66cc66;">=</span> win32security.<span style="color: black;">GetFileSecurity</span><span style="color: black;">&#40;</span>
            <span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> win32security.<span style="color: black;">OWNER_SECURITY_INFORMATION</span><span style="color: black;">&#41;</span>
        sid <span style="color: #66cc66;">=</span> desc.<span style="color: black;">GetSecurityDescriptorOwner</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        account<span style="color: #66cc66;">,</span> domain<span style="color: #66cc66;">,</span> typecode <span style="color: #66cc66;">=</span> win32security.<span style="color: black;">LookupAccountSid</span><span style="color: black;">&#40;</span><span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> sid<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> domain + u<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\\</span>'</span> + account
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> __get_owner_unix<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot;
        Return the name of the owner of this file or directory. Follow
        symbolic links.
        &quot;&quot;&quot;</span>
        st <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: #dc143c;">stat</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #dc143c;">pwd</span>.<span style="color: black;">getpwuid</span><span style="color: black;">&#40;</span>st.<span style="color: black;">st_uid</span><span style="color: black;">&#41;</span>.<span style="color: black;">pw_name</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> __get_owner_not_implemented<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">raise</span> <span style="color: #008000;">NotImplementedError</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Ownership not available on this platform.&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'win32security'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">globals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
        get_owner <span style="color: #66cc66;">=</span> __get_owner_windows
    <span style="color: #ff7700;font-weight:bold;">elif</span> <span style="color: #483d8b;">'pwd'</span> <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">globals</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
        get_owner <span style="color: #66cc66;">=</span> __get_owner_unix
    <span style="color: #ff7700;font-weight:bold;">else</span>:
        get_owner <span style="color: #66cc66;">=</span> __get_owner_not_implemented
&nbsp;
    owner <span style="color: #66cc66;">=</span> <span style="color: #008000;">property</span><span style="color: black;">&#40;</span>
        get_owner<span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;&quot;&quot; Name of the owner of this file or directory. &quot;&quot;&quot;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'statvfs'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #dc143c;">statvfs</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
            <span style="color: #483d8b;">&quot;&quot;&quot; Perform a statvfs() system call on this path. &quot;&quot;&quot;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #dc143c;">os</span>.<span style="color: #dc143c;">statvfs</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'pathconf'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> pathconf<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> name<span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">pathconf</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> name<span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
    <span style="color: #808080; font-style: italic;"># Pas d'autres commentaires après celui-là. jusqu'à la classe de fin.</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Les méthodes suivantes retournent 'self' bien que ce ne soit</span>
    <span style="color: #808080; font-style: italic;"># pas nécessaire.</span>
    <span style="color: #808080; font-style: italic;"># Par exemple path('/tmp/test').chmod(777) va retourner path('/tmp/test')</span>
    <span style="color: #808080; font-style: italic;"># alors que tout ce qu'on lui demande, c'est de changer la permission</span>
    <span style="color: #808080; font-style: italic;"># du dossier. On le fait pour permettre le chaîning, c'est à dire</span>
    <span style="color: #808080; font-style: italic;"># d'autoriser les appels enchainés comme :</span>
    <span style="color: #808080; font-style: italic;"># path('/tmp/test').chmod(777).rename('/tmp/essai').mkdir('ping')</span>
    <span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># --- Modifying operations on files and directories</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> utime<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> times<span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Set the access and modified times of this file. &quot;&quot;&quot;</span>
        <span style="color: #dc143c;">os</span>.<span style="color: black;">utime</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> times<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> chmod<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">chmod</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'chown'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> chown<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> uid<span style="color: #66cc66;">,</span> gid<span style="color: black;">&#41;</span>:
            <span style="color: #dc143c;">os</span>.<span style="color: black;">chown</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> uid<span style="color: #66cc66;">,</span> gid<span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> rename<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">new</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">rename</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">new</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #dc143c;">new</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> renames<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">new</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">renames</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">new</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #dc143c;">new</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># --- Create/delete operations on directories</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> mkdir<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: #66cc66;">=</span><span style="color: #ff4500;">0777</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">mkdir</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> mkdir_p<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: #66cc66;">=</span><span style="color: #ff4500;">0777</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            <span style="color: #008000;">self</span>.<span style="color: black;">mkdir</span><span style="color: black;">&#40;</span>mode<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">OSError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">if</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">EEXIST</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> makedirs<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: #66cc66;">=</span><span style="color: #ff4500;">0777</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">makedirs</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> makedirs_p<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> mode<span style="color: #66cc66;">=</span><span style="color: #ff4500;">0777</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            <span style="color: #008000;">self</span>.<span style="color: black;">makedirs</span><span style="color: black;">&#40;</span>mode<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">OSError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">if</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">EEXIST</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> rmdir<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">rmdir</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> rmdir_p<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            <span style="color: #008000;">self</span>.<span style="color: black;">rmdir</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">OSError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">if</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">ENOTEMPTY</span> <span style="color: #ff7700;font-weight:bold;">and</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">EEXIST</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> removedirs<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">removedirs</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> removedirs_p<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            <span style="color: #008000;">self</span>.<span style="color: black;">removedirs</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">OSError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">if</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">ENOTEMPTY</span> <span style="color: #ff7700;font-weight:bold;">and</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">EEXIST</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># --- Modifying operations on files</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> touch<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #483d8b;">&quot;&quot;&quot; Set the access/modified times of this file to the current time.
        Create the file if it does not exist.
        &quot;&quot;&quot;</span>
        fd <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">os</span>.<span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">O_WRONLY</span> | <span style="color: #dc143c;">os</span>.<span style="color: black;">O_CREAT</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0666</span><span style="color: black;">&#41;</span>
        <span style="color: #dc143c;">os</span>.<span style="color: black;">close</span><span style="color: black;">&#40;</span>fd<span style="color: black;">&#41;</span>
        <span style="color: #dc143c;">os</span>.<span style="color: black;">utime</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">None</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> remove<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> remove_p<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            <span style="color: #008000;">self</span>.<span style="color: black;">unlink</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">OSError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">if</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">ENOENT</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> unlink<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #dc143c;">os</span>.<span style="color: black;">unlink</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> unlink_p<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">remove_p</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># --- Links</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'link'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> link<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> newpath<span style="color: black;">&#41;</span>:
            <span style="color: #483d8b;">&quot;&quot;&quot; Create a hard link at 'newpath', pointing to this file. &quot;&quot;&quot;</span>
            <span style="color: #dc143c;">os</span>.<span style="color: black;">link</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> newpath<span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>newpath<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'symlink'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> symlink<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> newlink<span style="color: black;">&#41;</span>:
            <span style="color: #483d8b;">&quot;&quot;&quot; Create a symbolic link at 'newlink', pointing here. &quot;&quot;&quot;</span>
            <span style="color: #dc143c;">os</span>.<span style="color: black;">symlink</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> newlink<span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span>newlink<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'readlink'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> readlink<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
            <span style="color: #483d8b;">&quot;&quot;&quot; Return the path to which this symbolic link points.
&nbsp;
            The result may be an absolute or a relative path.
            &quot;&quot;&quot;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>._next_class<span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span>.<span style="color: black;">readlink</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #ff7700;font-weight:bold;">def</span> readlinkabs<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
            <span style="color: #483d8b;">&quot;&quot;&quot; Return the path to which this symbolic link points.
&nbsp;
            The result is always an absolute path.
            &quot;&quot;&quot;</span>
            p <span style="color: #66cc66;">=</span> <span style="color: #008000;">self</span>.<span style="color: black;">readlink</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">if</span> p.<span style="color: black;">isabs</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
                <span style="color: #ff7700;font-weight:bold;">return</span> p
            <span style="color: #ff7700;font-weight:bold;">else</span>:
                <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: black;">&#40;</span><span style="color: #008000;">self</span>.<span style="color: black;">parent</span> / p<span style="color: black;">&#41;</span>.<span style="color: black;">abspath</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># --- High-level functions from shutil</span>
&nbsp;
    copyfile <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: black;">copyfile</span>
    copymode <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: black;">copymode</span>
    copystat <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: black;">copystat</span>
    <span style="color: #dc143c;">copy</span> <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: #dc143c;">copy</span>
    copy2 <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: black;">copy2</span>
    copytree <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: black;">copytree</span>
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">shutil</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'move'</span><span style="color: black;">&#41;</span>:
        move <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: black;">move</span>
    rmtree <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">shutil</span>.<span style="color: black;">rmtree</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> rmtree_p<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">try</span>:
            <span style="color: #008000;">self</span>.<span style="color: black;">rmtree</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">except</span> <span style="color: #008000;">OSError</span><span style="color: #66cc66;">,</span> e:
            <span style="color: #ff7700;font-weight:bold;">if</span> e.<span style="color: #dc143c;">errno</span> <span style="color: #66cc66;">!=</span> <span style="color: #dc143c;">errno</span>.<span style="color: black;">ENOENT</span>:
                <span style="color: #ff7700;font-weight:bold;">raise</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># --- Special stuff from os</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'chroot'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> chroot<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
            <span style="color: #dc143c;">os</span>.<span style="color: black;">chroot</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">hasattr</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'startfile'</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">def</span> startfile<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
            <span style="color: #dc143c;">os</span>.<span style="color: black;">startfile</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>
            <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
&nbsp;
<span style="color: #808080; font-style: italic;">#&lt;sm&gt;</span>
<span style="color: #808080; font-style: italic;"># La seule spécificité de cette classe est d'overrider la méthode __new__ qui</span>
<span style="color: #808080; font-style: italic;"># est le véritable constructeur en Python (__init__ n'est pas un constructeur)</span>
<span style="color: #808080; font-style: italic;"># L'auteur le fait car tempdir hérite de path qui hérite d'unicode. Or, tous</span>
<span style="color: #808080; font-style: italic;"># les types non-mutables (int, tuple, str, etc, et donc unicode), n'étant pas</span>
<span style="color: #808080; font-style: italic;"># modifiables, ne peuvent être changés dans __init__. Ici __new__ est</span>
<span style="color: #808080; font-style: italic;"># utilisé pour retourner un path tout en créant un dossier temporaire, ce</span>
<span style="color: #808080; font-style: italic;"># qui ne marcherait pas dans __init__. Il est très rare d'avoir besoin de</span>
<span style="color: #808080; font-style: italic;"># s'occuper de __new__.</span>
<span style="color: #808080; font-style: italic;">#&lt;/sm&gt;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> tempdir<span style="color: black;">&#40;</span>path<span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">&quot;&quot;&quot;
    A temporary directory via tempfile.mkdtemp, and constructed with the
    same parameters that you can use as a context manager.
&nbsp;
    Example:
&nbsp;
        with tempdir() as d:
            # do stuff with the path object &quot;d&quot;
&nbsp;
        # here the directory is deleted automatically
    &quot;&quot;&quot;</span>
&nbsp;
    <span style="color: #66cc66;">@</span>ClassProperty
    <span style="color: #66cc66;">@</span><span style="color: #008000;">classmethod</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> _next_class<span style="color: black;">&#40;</span>cls<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> path
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__new__</span><span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span> *args<span style="color: #66cc66;">,</span> **kwargs<span style="color: black;">&#41;</span>:
        dirname <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">tempfile</span>.<span style="color: black;">mkdtemp</span><span style="color: black;">&#40;</span>*args<span style="color: #66cc66;">,</span> **kwargs<span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">super</span><span style="color: black;">&#40;</span>tempdir<span style="color: #66cc66;">,</span> cls<span style="color: black;">&#41;</span>.<span style="color: #0000cd;">__new__</span><span style="color: black;">&#40;</span>cls<span style="color: #66cc66;">,</span> dirname<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> *args<span style="color: #66cc66;">,</span> **kwargs<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">pass</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> __enter__<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> __exit__<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> exc_type<span style="color: #66cc66;">,</span> exc_value<span style="color: #66cc66;">,</span> <span style="color: #dc143c;">traceback</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> exc_value:
            <span style="color: #008000;">self</span>.<span style="color: black;">rmtree</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre></td></tr></table></div>

<p>C&#8217;est une bibliothèque très complète et propre, et bien qu&#8217;il y ait quelques astuces ici et là, vous avez pu constater que l&#8217;usage de la POO reste tout à fait accessible : héritage simple, déclaration de méthode, properties, etc. On ne fait pas beaucoup de folies.</p>
<p>Il n&#8217;y a pas besoin de faire les choses compliquées avec la POO, on peut faire des choses tout à fait ordinaires et utiles.</p>
<p>Pour le dernier tuto de la série, on tapera dans la magie noire, à savoir <a href="../le-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-8/index.html">les métaclasses</a>. Tintintin.</p>
<p>P.S: cet article a été sponsorisé par le plugin Sublime Text <a href="https://github.com/ehuss/Sublime-Wrap-Plus">Wraps Plus</a>. Avec Wraps Plus, plus de caractères en sus !</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Partager:</h3><div class="sd-content"><ul><li class="share-twitter"><div class="twitter_button"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http%3A%2F%2Fsametmax.com%2Fle-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7%2F&#038;counturl=http%3A%2F%2Fsametmax.com%2Fle-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7%2F&#038;count=horizontal&#038;text=Le%20guide%20ultime%20et%20d%C3%A9finitif%20sur%20la%20programmation%20orient%C3%A9e%20objet%20en%20Python%20%C3%A0%20l%E2%80%99usage%20des%20d%C3%A9butants%20qui%20sont%20rassur%C3%A9s%20par%20les%20textes%20d%C3%A9taill%C3%A9s%20qui%20prennent%20le%20temps%20de%20tout%20expliquer.%20Partie%207.%3A" style="width:101px; height:20px;"></iframe></div></li><li class="share-facebook"><div class="like_button"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fsametmax.com%2Fle-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7%2F&amp;layout=button_count&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;height=21&amp;locale=en_US&amp;width=90" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:96px; height:21px;" allowTransparency="true"></iframe></div></li><li class="share-google-plus-1"><div class="googleplus1_button"><div class="g-plus" data-action="share" data-annotation="bubble" data-href="http://sametmax.com/le-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7/"></div></div></li><li class="share-email"><a rel="nofollow" data-shared="" class="share-email sd-button" href="index.html%3Fshare=email.html" title="Click to email this to a friend"><span>Email</span></a></li><li><a href="index.html%3Fshare=email.html#" class="sharing-anchor sd-button share-more"><span>More</span></a></li><li class="share-end"></li></ul><div class="sharing-hidden"><div class="inner" style="display: none;"><ul><li class="share-reddit"><div class="reddit_button"><iframe src="http://www.reddit.com/static/button/button1.html?width=120&amp;url=http%3A%2F%2Fsametmax.com%2Fle-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7%2F&amp;title=Le%20guide%20ultime%20et%20d%C3%A9finitif%20sur%20la%20programmation%20orient%C3%A9e%20objet%20en%20Python%20%C3%A0%20l%E2%80%99usage%20des%20d%C3%A9butants%20qui%20sont%20rassur%C3%A9s%20par%20les%20textes%20d%C3%A9taill%C3%A9s%20qui%20prennent%20le%20temps%20de%20tout%20expliquer.%20Partie%207." height="22" width="120" scrolling="no" frameborder="0"></iframe></div></li><li class="share-pinterest"><div class="pinterest_button"><a href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fsametmax.com%2Fle-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7%2F&#038;description=Le%20guide%20ultime%20et%20d%C3%A9finitif%20sur%20la%20programmation%20orient%C3%A9e%20objet%20en%20Python%20%C3%A0%20l%E2%80%99usage%20des%20d%C3%A9butants%20qui%20sont%20rassur%C3%A9s%20par%20les%20textes%20d%C3%A9taill%C3%A9s%20qui%20prennent%20le%20temps%20de%20tout%20expliquer.%20Partie%207." data-pin-do="buttonBookmark" data-pin-config="beside"><img src="http://assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a></div></li><li class="share-end"></li><li class="share-tumblr"><a target="" href="http://www.tumblr.com/share/link/?url=http%3A%2F%2Fsametmax.com%2Fle-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7%2F&name=Le%20guide%20ultime%20et%20d%C3%A9finitif%20sur%20la%20programmation%20orient%C3%A9e%20objet%20en%20Python%20%C3%A0%20l%E2%80%99usage%20des%20d%C3%A9butants%20qui%20sont%20rassur%C3%A9s%20par%20les%20textes%20d%C3%A9taill%C3%A9s%20qui%20prennent%20le%20temps%20de%20tout%20expliquer.%20Partie%207." title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:62px; height:20px; background:url('http://platform.tumblr.com/v1/share_2.png') top left no-repeat transparent;">Share on Tumblr</a></li><li class="share-pocket"><div class="pocket_button"><a href="https://getpocket.com/save" class="pocket-btn" data-lang="en" data-save-url="http://sametmax.com/le-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7/" data-pocket-count="horizontal" >Pocket</a></div></li><li class="share-end"></li><li class="share-end"></li></ul></div></div></div></div></div>                        </section><!-- .entry-content -->

        <footer class="entry-meta"><hr class="featurette-divider"><div class="author-info"><div class="row-fluid"><div class="comment-avatar author-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=100&amp;d=retro&amp;r=X' class='avatar avatar-100 photo' height='100' width='100' /></div> <div class="author-description span10"><h3>About Sam</h3><p>Waf !</p><div class="author-link"><a href="../author/sam/index.html" rel="author">View all posts by Sam <span class="meta-nav">&rarr;</span></a></div></div></div></div></footer>                                    </article>
                                
                            
                        
                    
<div id="comments" class="comments-area" >
	<h2 id="tc-comment-title" class="comments-title">24 thoughts on &ldquo;<span>Le guide ultime et définitif sur la programmation orientée objet en Python à l’usage des débutants qui sont rassurés par les textes détaillés qui prennent le temps de tout expliquer. Partie 7.</span>&rdquo;</h2>              <ul class="commentlist">
                        <li class="comment even thread-even depth-1" id="li-comment-8497">
          
            <article id="comment-8497" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ddc1e18c9a4651f0c24b14a2ca84372a?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://bioinfo-fr.net' rel='external nofollow' class='url'>Yohan</a>  </cite> <a class="comment-date" href="index.html#comment-8497"><time datetime="2013-04-29T06:28:23+00:00">29/04/2013 at 06:28</time></a></header>  <section class="comment-content comment"><p>Ca y est j&#8217;ai tout lu&#8230; Ca m&#8217;a pris une bonne heure mais j&#8217;y suis arrivé :D Il y a pas mal de magie noire dans cette lib et j&#8217;ai pas tout compris mais j&#8217;y reviendrai.<br />
En tous cas merci pour ce morceau de rock&#8230; et les explications qui vont avec.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8499">
          
            <article id="comment-8499" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/fc32c6686686ecc595f05ad1885c2fb3?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">roro  </cite> <a class="comment-date" href="index.html#comment-8499"><time datetime="2013-04-29T08:17:48+00:00">29/04/2013 at 08:17</time></a></header>  <section class="comment-content comment"><p>Tu dis que mettre des accents dans les coms fait planter.<br />
Quel contournements possibles de cela ?</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-8500">
          
            <article id="comment-8500" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ddc1e18c9a4651f0c24b14a2ca84372a?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://bioinfo-fr.net' rel='external nofollow' class='url'>Yohan</a>  </cite> <a class="comment-date" href="index.html#comment-8500"><time datetime="2013-04-29T08:54:40+00:00">29/04/2013 at 08:54</time></a></header>  <section class="comment-content comment"><p>Tu peux mettre un joli <code> # encoding: utf8</code> au tout début du fichier (<a href="../lencoding-en-python-une-bonne-fois-pour-toute.1.html" rel="nofollow">encoding</a>).</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-8501">
          
            <article id="comment-8501" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8501"><time datetime="2013-04-29T09:14:13+00:00">29/04/2013 at 09:14</time></a></header>  <section class="comment-content comment"><p>Sous Python 2.7, comme dit yohan, tu peux spécifier l&#8217;encoding. Sous Python 3 ça ne plantera pas.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-8504">
          
            <article id="comment-8504" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/9369e3d134cec4a408d88aa31920bec4?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Mentat  </cite> <a class="comment-date" href="index.html#comment-8504"><time datetime="2013-04-29T11:33:26+00:00">29/04/2013 at 11:33</time></a></header>  <section class="comment-content comment"><p>&gt; path(&#8216;truc&#8217;) / &#8216;machin&#8217; donne path(&#8216;trucm/achin&#8217;)<br />
path(&#8216;truc/machin&#8217;)</p>
<p>&gt;pour créer le prochaine path,<br />
Le prochain</p>
<p># Règle d&#8217;or d&#8217;une belle API : si il faut regarder dans la doc à chaque<br />
# fois qu&#8217;on utilise quelque chose, il faut écrire un meilleur code.<br />
Ca c&#8217;est TRES vrai, mais pas toujours facile à mettre en oeuvre.</p>
<p>&gt; Yield permet de transformet<br />
transformer</p>
<p>&gt;pour des raisons performances<br />
+de</p>
<p>&gt;Ici dans __new__ est utilisé pour retourner un path tout en créant un un dossier<br />
-dans -un</p>
<p>&gt;plus de caractères en sus !<br />
en suce. Nan, j&#8217;déconne.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-foxmask odd alt thread-odd thread-alt depth-1" id="li-comment-8506">
          
            <article id="comment-8506" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/437805955e9381e69429143c0fc40f6e?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">foxmask  </cite> <a class="comment-date" href="index.html#comment-8506"><time datetime="2013-04-29T13:17:34+00:00">29/04/2013 at 13:17</time></a></header>  <section class="comment-content comment"><p>merki ;) c&#8217;est corigeaïe</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-8521">
          
            <article id="comment-8521" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/efca4fc75d514818d08f08413f9f15c9?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://twitter.com/morgotth' rel='external nofollow' class='url'>Morgotth</a>  </cite> <a class="comment-date" href="index.html#comment-8521"><time datetime="2013-04-29T19:34:56+00:00">29/04/2013 at 19:34</time></a></header>  <section class="comment-content comment"><p>Bravo pour avoir eu le courage de tout commenter !!</p>
<p>J&#8217;avais déjà pu le lire (suite à un de tes billets ?!) et c&#8217;est vrai que le code est simple. Et plus qu&#8217;une bibliothèque de confort, c&#8217;est une bibliothèque de productivité ;)</p>
<p>Seule remarque : dans la docstring, il y a quasiment pas de doctest ce qui est un comble :</p>
<p>* ça manque d&#8217;exemples<br />
* ça rajouterait des tests rapidement écrit</p>
<p>Vu que tu n&#8217;en parle pas trop, quel est ton avis ?</p>
<blockquote><p>Pour le dernier tuto de la série, on tapera dans la magie noire, à savoir les métaclasses. Tintintin.</p></blockquote>
<p><a href="https://github.com/coleifer/peewee" rel="nofollow">peewee</a> ? C&#8217;est un des rares codes à m&#8217;avoir effrayé, à se demander si c&#8217;est du Python :&#8217;)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-8522">
          
            <article id="comment-8522" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8522"><time datetime="2013-04-29T19:46:51+00:00">29/04/2013 at 19:46</time></a></header>  <section class="comment-content comment"><p>Je suis pour les docstrings, mais la communauté est partagée dessus donc il n&#8217;y a pas de réponse valable dans tous les cas.</p>
<p>Par contre non, je commenterais pas peewee, je vais rester dans l&#8217;exemple académique sur les métaclasses car le sujet est suffisament tarabiscoté pour ne pas rajouter la complexité du code à la difficulté de compréhension.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-8523">
          
            <article id="comment-8523" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/efca4fc75d514818d08f08413f9f15c9?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://twitter.com/morgotth' rel='external nofollow' class='url'>Morgotth</a>  </cite> <a class="comment-date" href="index.html#comment-8523"><time datetime="2013-04-29T20:22:02+00:00">29/04/2013 at 20:22</time></a></header>  <section class="comment-content comment"><p>C&#8217;est sur que 2469 lignes, faut s&#8217;accrocher ^^</p>
<p>Mais quelles sont les reproches sur les docstrings ? À part la cassure de la frontière test/code, il n&#8217;y a que du positif :/</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-8524">
          
            <article id="comment-8524" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8524"><time datetime="2013-04-29T22:57:25+00:00">29/04/2013 at 22:57</time></a></header>  <section class="comment-content comment"><p>Les docstests sont difficiles à isoler individuellement, elles sont dépendantes de l&#8217;encodage de la docstring, elles donnent des message de failure non introspectibles et il faut des notations spéciales pour tester des résultats dont la représentation textuelle varie.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-kontre even thread-even depth-1" id="li-comment-8526">
          
            <article id="comment-8526" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">kontre  </cite> <a class="comment-date" href="index.html#comment-8526"><time datetime="2013-04-30T06:51:14+00:00">30/04/2013 at 06:51</time></a></header>  <section class="comment-content comment"><blockquote><p># Et non, la docstring n&#8217;a aucun effet. Ça pourrait être un comment.</p></blockquote>
<p>Objection, votre honneur : <a href="http://www.python.org/dev/peps/pep-0258/#attribute-docstrings" rel="nofollow">http://www.python.org/dev/peps/pep-0258/#attribute-docstrings</a><br />
C&#8217;est pris en compte dans sphinx, par exemple.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-8528">
          
            <article id="comment-8528" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8528"><time datetime="2013-04-30T06:59:55+00:00">30/04/2013 at 06:59</time></a></header>  <section class="comment-content comment"><p>Oui mais là on parle de Python tout nu mon amour. Parce que sinon on peut dire que les &#8216;@&#8217; sont pris en compte dans doxygen et les &#8216;/**&#8217; dans les autres outils de doc, et c&#8217;est la porte ouverte à toutes les fenêtres.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-kontre even thread-even depth-1" id="li-comment-8533">
          
            <article id="comment-8533" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">kontre  </cite> <a class="comment-date" href="index.html#comment-8533"><time datetime="2013-04-30T07:34:03+00:00">30/04/2013 at 07:34</time></a></header>  <section class="comment-content comment"><p>Merde, j&#8217;allais dire que c&#8217;était général à python puisque c&#8217;est dans le pep 224, mais en fait il a été rejeté. Du coup, faites comme si j&#8217;avais rien dit. Ça m&#8217;apprendra à lire trop vite.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-8538">
          
            <article id="comment-8538" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8538"><time datetime="2013-04-30T08:31:58+00:00">30/04/2013 at 08:31</time></a></header>  <section class="comment-content comment"><p>C&#8217;est piégeux les pep.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-8547">
          
            <article id="comment-8547" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/337428a6e34734f07be5de0c8ae454cb?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Etienne  </cite> <a class="comment-date" href="index.html#comment-8547"><time datetime="2013-04-30T13:37:25+00:00">30/04/2013 at 13:37</time></a></header>  <section class="comment-content comment"><p>Très intéressant Sam.</p>
<p>Parmi les choses sur lesquelles j&#8217;ai buté, la méthode <code>using_module</code>. Ton commentaire a l&#8217;air inexact.</p>
<p>Tu écris qu&#8217;elle retourne le module actuellement utilisé, ce qui me paraissait bizarre (suffit de faire <code>path.module</code> pour ça, et ça ne correspond pas au code: la méthode prend un module en paramètre et retourne une classe.</p>
<p>Je me suis retrouvé sur la repo de path et la discussion concernant la manière de permettre de &#8220;<a href="https://github.com/jaraco/path.py/pull/9" rel="nofollow">spécifier explicitement le module path a utiliser</a>&#8221; (en l&#8217;occurence posix ou nt), ce qui a clarifié les choses.</p>
<p>Par ailleurs, les auteurs écrivent dans la méthode <code>simple_cache</code>:<br />
<blockquote>When Python 3.2 is available, use functools.lru_cache instead.</p></blockquote>
<p>.<br />
Je ne comprend pas ce que ça signifie: a part cette mention, on ne voit <code>functools.lru_cache</code> nulle part dans le code.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-8548">
          
            <article id="comment-8548" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8548"><time datetime="2013-04-30T14:40:04+00:00">30/04/2013 at 14:40</time></a></header>  <section class="comment-content comment"><p>Tu as raison, je vais corrigé ça.</p>
<p>Pour functools.lru_cache, je pense que c&#8217;est le fantome d&#8217;un comment qui n&#8217;a jamais été implémenté.</p>
<p>Du coup :</p>
<p><a href="https://github.com/jaraco/path.py/issues/21" rel="nofollow">https://github.com/jaraco/path.py/issues/21</a></p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-8553">
          
            <article id="comment-8553" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/337428a6e34734f07be5de0c8ae454cb?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Etienne  </cite> <a class="comment-date" href="index.html#comment-8553"><time datetime="2013-04-30T19:16:56+00:00">30/04/2013 at 19:16</time></a></header>  <section class="comment-content comment"><p>Cool! Première fois que je me sens utile en python</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8562">
          
            <article id="comment-8562" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/c7051d8640fa4b6984317e5b7c32f156?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">sd76  </cite> <a class="comment-date" href="index.html#comment-8562"><time datetime="2013-05-01T13:44:33+00:00">01/05/2013 at 13:44</time></a></header>  <section class="comment-content comment"><p>Il manque un lien dans l&#8217;article 6 :p</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-even depth-1" id="li-comment-8563">
          
            <article id="comment-8563" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8563"><time datetime="2013-05-01T14:16:02+00:00">01/05/2013 at 14:16</time></a></header>  <section class="comment-content comment"><p>Plus maintenant !</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-kontre odd alt thread-odd thread-alt depth-1" id="li-comment-8917">
          
            <article id="comment-8917" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">kontre  </cite> <a class="comment-date" href="index.html#comment-8917"><time datetime="2013-05-16T07:56:02+00:00">16/05/2013 at 07:56</time></a></header>  <section class="comment-content comment"><p>Voilà, j&#8217;ai enfin lu l&#8217;article en entier. Long, mais très instructif, cette lib est encore mieux que ce que je pensais !</p>
<p>Une petite question : tu dis que l&#8217;auteur n&#8217;utilise pas @property pour garder la compatibilité python 2.5, mais il l&#8217;utilise pour la méthode <code>uncshare()</code></p>
<p>Enfin, pour terminer, quelle serait la meilleure manière d&#8217;intégrer cette lib à un projet ? On place direct le fichier quelque part dans l&#8217;arborescence du projet ? On peut l&#8217;importer de manière automatique depuis le setup.py ? On demande à l&#8217;utilisateur de l&#8217;installer (dans le cas où le projet n&#8217;est pas grand public mais les utilisateurs sont sensé savoir se débrouiller un minimum) ? Je pense notamment aux mises à jour ou au fait qu&#8217;il est peut-être plus judicieux d&#8217;utiliser la lib du système si elle est présente.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-even depth-1" id="li-comment-8952">
          
            <article id="comment-8952" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-8952"><time datetime="2013-05-17T10:40:45+00:00">17/05/2013 at 10:40</time></a></header>  <section class="comment-content comment"><p>Je vais ouvrir un ticket pour poser cette question au mec sur @property:</p>
<p><a href="https://github.com/jaraco/path.py/issues/24" rel="nofollow">https://github.com/jaraco/path.py/issues/24</a></p>
<p>Pour l&#8217;intégration, ça dépend de ce que tu veux faire.</p>
<p>Si tu veux l&#8217;intégrer dans un projet web perso, il faut le mettre dans requirements.txt:</p>
<p><a href="../votre-python-aime-les-pip/index.html" rel="nofollow">http://sametmax.com/votre-python-aime-les-pip/</a></p>
<p>Si tu le joints à une lib sur pypi, alors il faut le mettre dans le setup.py:</p>
<p><a href="../creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/index.html" rel="nofollow">http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/</a></p>
<p>Si c&#8217;est pour un projet tout con ou un deb (car je pense que path.py n&#8217;est pas dans les dépots), alors on peut juste filer le fichier dans l&#8217;archive.</p>
<p>Pour zerobin on fait un mix (pour d&#8217;autres libs que path.py), donc tu peux regarder comment en fait :</p>
<p><a href="https://github.com/sametmax/0bin/tree/master/zerobin" rel="nofollow">https://github.com/sametmax/0bin/tree/master/zerobin</a></p>
<p>On a la dépendance dans setup.py, qui est installé automatiquement. Mais si l&#8217;utilisateur télécharge l&#8217;archive des sources, il peut dezipper le projet et l&#8217;utiliser cash, sans rien installer, car on fournit les depannces avec pour ce format. Ce n&#8217;est pas toujours possible, mais là c&#8217;était facile à faire.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-kontre odd alt thread-odd thread-alt depth-1" id="li-comment-9040">
          
            <article id="comment-9040" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">kontre  </cite> <a class="comment-date" href="index.html#comment-9040"><time datetime="2013-05-21T12:54:40+00:00">21/05/2013 at 12:54</time></a></header>  <section class="comment-content comment"><p>Dans les dépôts d&#8217;ubuntu y&#8217;a python-unipath, je ne sais pas ce que ça vaut.</p>
<p>Merci pour les différentes méthodes, je vais juste inclure les fichiers vu que ça va rester en interne. J&#8217;ai plus qu&#8217;à m&#8217;y mettre&#8230;</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-19969">
          
            <article id="comment-19969" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/ea8f752e4ca2c76ec567486750b68bea?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://recher.wordpress.com' rel='external nofollow' class='url'>Recher</a>  </cite> <a class="comment-date" href="index.html#comment-19969"><time datetime="2014-02-17T16:20:50+00:00">17/02/2014 at 16:20</time></a></header>  <section class="comment-content comment"><p><span class="merci"></span><br />
Hop, le package de correction du jour. Attention, y&#8217;a beaucoup.</p>
<p>l’orienté obj<strong>ect</strong><br />
l’orienté obj<strong>et</strong></p>
<p>dans un dossie<strong>rs</strong><br />
dans un dossie<strong>r</strong></p>
<p>les algos en détai<strong>ls</strong><br />
les algos en détai<strong>l</strong></p>
<p>d&#8217;un caractèr<strong>es</strong><br />
d&#8217;un caractèr<strong>e</strong></p>
<p>hexad<strong>e</strong>cimal<br />
hexad<strong>é</strong>cimal<br />
(quitte à pourrir l&#8217;encodage d&#8217;un fichier en mettant des accents, autant aller jusqu&#8217;au bout).</p>
<p>si on <strong>peut </strong>faire passer<br />
si on <strong>veut </strong>faire passer<br />
(pas sûr de moi)</p>
<p>dans certains protocol<strong>e</strong><br />
dans certains protocol<strong>es</strong></p>
<p>&#8212;<br />
Interlude :<br />
Notons qui si vous avez participé à path.py, vous avez plus de 50% de chances de vous appeler Jason.<br />
De plus, si vous êtes un participant important à path.py, vous avez 100% de chances de vous appeler Jason.<br />
Si vous vous appelez Jason, vous avez 0.019% de chance d&#8217;avoir participé à path.py.<br />
&#8212;</p>
<p>Manipulation du FS<br />
Manipulation du <strong>File System</strong><br />
Ça vous coûtera pas beaucoup plus en bande passante, et ça évitera d&#8217;effrayer des gens qui ne sont pas familier avec cette acronyme.</p>
<p>Sommes de contr<strong>o</strong>le<br />
Sommes de contr<strong>ô</strong>le</p>
<p>Les cod<strong>e</strong> d&#8217;erreu<strong>rs</strong> lié<strong>es</strong> a<strong>u</strong> fichie<strong>r</strong><br />
Les cod<strong>es</strong> d&#8217;erreu<strong>r</strong> lié<strong>s</strong> a<strong>ux</strong> fichie<strong>rs</strong><br />
Hyper Combo !</p>
<p>ti<strong>è</strong>rce<br />
ti<strong>e</strong>rce</p>
<p><strong>oo</strong>ptionelle<br />
<strong>o</strong>ptionelle</p>
<p>Les warnin<strong>g</strong> ressemblent<br />
Les warnin<strong>gs</strong> ressemblent </p>
<p>d<strong>e</strong>corateur<br />
d<strong>é</strong>corateur</p>
<p>de les voi<strong>re</strong> en minuscule<br />
de les voi<strong>r</strong> en minuscule</p>
<p>tous les outils de manipulation de nom de fichiers <strong>existant</strong><br />
tous les outils <strong>existants </strong>de manipulation de noms de fichiers </p>
<p>et des comportements existan<strong>t</strong><br />
et des comportements existan<strong>ts</strong></p>
<p>Distinction entre participe présent et adjectif verbal. Just sayin&#8217; :<br />
<a href="http://grammaire.reverso.net/4_1_12_accord_des_formes_en_ant.shtml" rel="nofollow">http://grammaire.reverso.net/4_1_12_accord_des_formes_en_ant.shtml</a></p>
<p>quand on cré<strong>er</strong> un type de base<br />
quand on cré<strong>e</strong> un type de base</p>
<p>int(), str(), list(), datetime(), unicod<strong>e</strong>, etc,<br />
int(), str(), list(), datetime(), unicod<strong>e()</strong>, etc, </p>
<p>j&#8217;aurais chois<strong>it</strong><br />
j&#8217;aurais chois<strong>i</strong></p>
<p><strong>prend </strong>les docstring<br />
<strong>prennent </strong>les docstrings<br />
parce que le sujet c&#8217;est &#8220;certains outils&#8221; (pluriel) et non pas &#8220;sphinx&#8221; (singulier)</p>
<p>Une méthode retourne une classe path<br />
Une méthode <strong>qui </strong>retourne une classe path</p>
<p>un module <strong>de </strong>spécifique à un OS<br />
un module spécifique à un OS</p>
<p>des cha<strong>i</strong>nes<br />
des cha<strong>î</strong>nes</p>
<p>une API symp<strong>as</strong>.<br />
une API symp<strong>a</strong>.</p>
<p>la repr<strong>e</strong>sentation<br />
la repr<strong>é</strong>sentation </p>
<p>path(&#8216;truc&#8217;) / &#8216;machin&#8217; donne path(&#8216;truc<strong>m/a</strong>chin&#8217;)<br />
path(&#8216;truc&#8217;) / &#8216;machin&#8217; donne path(&#8216;truc<strong>/ma</strong>chin&#8217;)</p>
<p>tout ce qui est ici <strong>ce </strong>fait<br />
tout ce qui est ici <strong>se </strong>fait</p>
<p>et &#8216;*&#8217; <strong>et </strong>l&#8217;opérateur<br />
et &#8216;*&#8217; <strong>est </strong>l&#8217;opérateur </p>
<p>n&#8217;appara<strong>i</strong>tront<br />
n&#8217;appara<strong>î</strong>tront</p>
<p>un détail <strong>i</strong>mplémentation<br />
un détail <strong>d&#8217;i</strong>mplémentation</p>
<p><strong>Ce </strong>3 méthodes<br />
<strong>Ces </strong>3 méthodes</p>
<p>qu&#8217;elles wra<strong>ps</strong>.<br />
qu&#8217;elles wrap<strong>pent</strong>.<br />
C&#8217;est pas parce que c&#8217;est un anglicisme qu&#8217;il faut mal le conjuguer !</p>
<p>qui cré<strong>er</strong> un<br />
qui cré<strong>e</strong> un</p>
<p>qui cré<strong>er</strong> un<br />
qui cré<strong>e</strong> un<br />
(il y est deux fois)</p>
<p>et c&#8217;est le genre de chose que vous <strong>voudrez </strong>faire quand vous vous êtes toujours demandé<br />
et c&#8217;est le genre de chose que vous <strong>vouliez </strong>faire quand vous vous êtes toujours demandé<br />
C&#8217;est pas vraiment une faute, mais la concordance des temps m&#8217;a paru bizarre.</p>
<p>Pour lister récursivemen<strong>ts</strong><br />
Pour lister récursivemen<strong>t</strong></p>
<p>algor<strong>y</strong>thme<br />
algor<strong>i</strong>thme </p>
<p>des erreurs parm<strong>is</strong><br />
des erreurs parm<strong>i</strong></p>
<p>aux erreu<strong>r</strong>)<br />
aux erreu<strong>rs</strong>)</p>
<p>n&#8217;utilis<strong>e</strong> pas walk()<br />
n&#8217;utilis<strong>ent</strong> pas walk()</p>
<p>m<strong>e</strong>thodes<br />
m<strong>é</strong>thodes </p>
<p><strong>la </strong>cas<br />
<strong>le </strong>cas</p>
<p>vou<strong>s  r</strong>ecommande<br />
vou<strong>s r</strong>ecommande</p>
<p>un peu plus <strong>pas</strong><br />
un peu plus <strong>bas</strong></p>
<p>3 méthodes: <strong>un </strong>pour windows<br />
3 méthodes: <strong>une </strong>pour windows</p>
<p>fonctionnalit<strong>éé</strong><br />
fonctionnalit<strong>é</strong></p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-106768">
          
            <article id="comment-106768" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/6aa8af04c35f4715db3b1906d12a49d9?s=80&amp;d=retro&amp;r=X' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">sensini42  </cite> <a class="comment-date" href="index.html#comment-106768"><time datetime="2014-08-05T14:19:14+00:00">05/08/2014 at 14:19</time></a></header>  <section class="comment-content comment"><p>modules tempfile, os : l&#8217;espace fait partie du lien, ça fait bizarre</p>
<p>c&#8217;est à dire : c’est-à-dire</p>
<p>un bibliothèque : une</p>
<p>#Lister des fichier : fichiers<br />
aux fichiers. : sans . pour être cohérent</p>
<p>Ici donc, ou hérite : on hérite</p>
<p>c&#8217;est à dire : c’est-à-dire</p>
<p>(on ne les a pas vu) : les décorateurs-&gt; vus, les classes -&gt; vues + . après la parenthèse</p>
<p>avoir de fichiers qui fait : qui fassent</p>
<p>etc : etc.</p>
<p>celui choisit : choisi</p>
<p>sur les chemin : chemins<br />
si il faut : s&#8217;il</p>
<p>si il n&#8217;est pas : s&#8217;il<br />
une bug : un (bogue :()</p>
<p>une param : un param<br />
l&#8217;API est très claire : clair</p>
<p>l&#8217;encapsutation…est…le bievenu : la bienvenue</p>
<p>(c&#8217;est à dire la valeur : c’est-à-dire</p>
<p>Avec wrap Plus, des caractères seuls en début ou fin de ligne («(» en fin, «:» au début) et ça, c&#8217;est quand même moche :þ</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
              </ul><!-- .commentlist -->
            								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html%3Fshare=email.html#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://sametmax.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-describedby="email-notes" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment-69005804924c5ba04" cols="45" rows="8" aria-describedby="form-allowed-tags" aria-required="true"></textarea><textarea name="comment" rows="1" cols="1" style="display:none"></textarea></p><input type="hidden" name="comment-replaced" value="true" />						<p class="form-allowed-tags" id="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;pre&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" class="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='5912' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="462e5b1df8" /></p><script src="../index.html%3Flive-comment-preview.js" type="text/javascript"></script><div id="commentPreview"></div><p style="display:none;"><input type="text" name="nxts" value="1446911416" /><input type="text" name="nxts_signed" value="89a525bb27a2780763d76c96786ed5826a6bbf2c" /><input type="text" name="60b0898998b38feb005f" value="1384821080ddbd3ad8d04e611" /><input type="text" name="3391944b2f16b5" value="" /></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments">Notify me of follow-up comments by email.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;" /> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts by email.</label></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="65"/></p>					</form>
							</div><!-- #respond -->
			</div><!-- #comments .comments-area -->


<div class="ie-comment">
Des questions Python sans rapport avec l'article ? Posez-les sur <a href="http://indexerror.net">IndexError</a>.

</div>
        
          <hr class="featurette-divider __after_loop">
          <nav id="nav-below" class="navigation" role="navigation">

              <h3 class="assistive-text">
                Post navigation              </h3>

              <ul class="pager">
                                  <li class="previous">
                    <span class="nav-previous">
                      <a href="../importerror-cannot-import-name-maxrepeat/index.html" rel="prev"><span class="meta-nav">&larr;</span> ImportError: cannot import name MAXREPEAT</a>                    </span>
                  </li>
                                                  <li class="next">
                    <span class="nav-next">
                        <a href="../mettre-ubuntu-en-veille-en-appuyant-sur-le-bouton-power/index.html" rel="next">Mettre Ubuntu en veille en appuyant sur le bouton &#8216;power&#8217; <span class="meta-nav">&rarr;</span></a>                    </span>
                  </li>
                              </ul>

          </nav><!-- #nav-below .navigation -->

        
        
                </div><!--.article-container -->

                    
        <div class="span3 right tc-sidebar">
           <div id="right" class="widget-area" role="complementary">
                                                      <aside id="text-9" class="widget widget_text">			<div class="textwidget"><p style="font-size:1.3em"><a href="../mais-ou-je-suis-tombee-la/index.html">Mais où je suis tombé(e) là ?</a></p></div>
		</aside><aside id="text-7" class="widget widget_text">			<div class="textwidget"><img src="http://www.adobe.com/images/pdficon_small.png" width="16" height="16"/> <a href="http://pdfcrowd.com/url_to_pdf/">Télécharger cette page en PDF</a> </div>
		</aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"><br><br><a href="../appel-a-contributeurs-impertinents/index.html"><img src="../wp-content/uploads/2012/07/contributeur.png" width="288px" style="vertical-align: middle;margin-top:-40px;margin-bottom:10px;"></a> </div>
		</aside><aside id="blog_subscription-4" class="widget jetpack_subscription_widget"><h3 class="widget-title"><label for="subscribe-field">Souscrire à nos conneries</label></h3>
		<form action="index.html%3Fshare=email.html#" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-4">
			<div id="subscribe-text"><p>Entrez votre adresse mail et vous recevrez une notification à chaque nouvel article.</p>
</div><p>Join 646 other subscribers</p>

			<p id="subscribe-email">
				<label id="jetpack-subscribe-label" for="subscribe-field">
					Email Address				</label>
				<input type="email" name="email" value="Email Address" id="subscribe-field" placeholder="Email Address" />
			</p>

			<p id="subscribe-submit">
				<input type="hidden" name="action" value="subscribe" />
				<input type="hidden" name="source" value="http://sametmax.com/le-guide-ultime-et-definitif-sur-la-programmation-orientee-objet-en-python-a-lusage-des-debutants-qui-sont-rassures-par-les-textes-detailles-qui-prennent-le-temps-de-tout-expliquer-partie-7/?shared=email&#038;msg=fail" />
				<input type="hidden" name="sub-type" value="widget" />
				<input type="hidden" name="redirect_fragment" value="blog_subscription-4" />
								<input type="submit" value="J&#039;adhère, bon dieu !" name="jetpack_subscriptions_widget" />
			</p>
		</form>

		<script>
			( function( d ) {
				if ( ( 'placeholder' in d.createElement( 'input' ) ) ) {
					var label = d.getElementById( 'jetpack-subscribe-label' );
 					label.style.clip 	 = 'rect(1px, 1px, 1px, 1px)';
 					label.style.position = 'absolute';
 					label.style.height   = '1px';
 					label.style.width    = '1px';
 					label.style.overflow = 'hidden';
				}
			} ) ( document );
		</script>

		
</aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">TagCloud</h3><div class="tagcloud"><a href='../tag/0bin/index.html' class='tag-link-148' title='9 topics' style='font-size: 8.8092485549133pt;'>0bin</a>
<a href='../tag/angularjs/index.html' class='tag-link-443' title='9 topics' style='font-size: 8.8092485549133pt;'>angularjs</a>
<a href='../tag/autobahn/index.html' class='tag-link-979' title='9 topics' style='font-size: 8.8092485549133pt;'>autobahn</a>
<a href='../tag/bash/index.html' class='tag-link-14' title='16 topics' style='font-size: 10.670520231214pt;'>bash</a>
<a href='../tag/bitcoin/index.html' class='tag-link-320' title='7 topics' style='font-size: 8pt;'>bitcoin</a>
<a href='../tag/blog/index.html' class='tag-link-107' title='26 topics' style='font-size: 12.28901734104pt;'>blog</a>
<a href='../tag/cache/index.html' class='tag-link-333' title='10 topics' style='font-size: 9.1329479768786pt;'>cache</a>
<a href='../tag/comprehension-lists/index.html' class='tag-link-20' title='8 topics' style='font-size: 8.4046242774566pt;'>comprehension-lists</a>
<a href='../tag/crossbar/index.html' class='tag-link-1046' title='8 topics' style='font-size: 8.4046242774566pt;'>crossbar</a>
<a href='../tag/css/index.html' class='tag-link-188' title='9 topics' style='font-size: 8.8092485549133pt;'>css</a>
<a href='../tag/cul-2/index.html' class='tag-link-33' title='11 topics' style='font-size: 9.4566473988439pt;'>cul</a>
<a href='../tag/decorator/index.html' class='tag-link-265' title='7 topics' style='font-size: 8pt;'>decorator</a>
<a href='../tag/django/index.html' class='tag-link-28' title='81 topics' style='font-size: 16.173410404624pt;'>django</a>
<a href='../tag/don/index.html' class='tag-link-1210' title='10 topics' style='font-size: 9.1329479768786pt;'>don</a>
<a href='../tag/encoding/index.html' class='tag-link-54' title='8 topics' style='font-size: 8.4046242774566pt;'>encoding</a>
<a href='../tag/git/index.html' class='tag-link-18' title='34 topics' style='font-size: 13.179190751445pt;'>git</a>
<a href='../tag/http/index.html' class='tag-link-204' title='13 topics' style='font-size: 10.023121387283pt;'>http</a>
<a href='../tag/import/index.html' class='tag-link-215' title='9 topics' style='font-size: 8.8092485549133pt;'>import</a>
<a href='../tag/ipython/index.html' class='tag-link-164' title='10 topics' style='font-size: 9.1329479768786pt;'>ipython</a>
<a href='../tag/iterable/index.html' class='tag-link-217' title='14 topics' style='font-size: 10.265895953757pt;'>iterable</a>
<a href='../tag/javascript/index.html' class='tag-link-96' title='44 topics' style='font-size: 14.06936416185pt;'>javascript</a>
<a href='../tag/jquery/index.html' class='tag-link-112' title='8 topics' style='font-size: 8.4046242774566pt;'>jquery</a>
<a href='../tag/lambda/index.html' class='tag-link-292' title='7 topics' style='font-size: 8pt;'>lambda</a>
<a href='../tag/linux/index.html' class='tag-link-238' title='10 topics' style='font-size: 9.1329479768786pt;'>linux</a>
<a href='../tag/meta/index.html' class='tag-link-102' title='127 topics' style='font-size: 17.791907514451pt;'>meta</a>
<a href='../tag/mysql/index.html' class='tag-link-82' title='8 topics' style='font-size: 8.4046242774566pt;'>mysql</a>
<a href='../tag/nginx/index.html' class='tag-link-183' title='14 topics' style='font-size: 10.265895953757pt;'>nginx</a>
<a href='../tag/nsfw/index.html' class='tag-link-319' title='14 topics' style='font-size: 10.265895953757pt;'>nsfw</a>
<a href='../tag/pip/index.html' class='tag-link-344' title='7 topics' style='font-size: 8pt;'>pip</a>
<a href='../tag/poo/index.html' class='tag-link-549' title='14 topics' style='font-size: 10.265895953757pt;'>poo</a>
<a href='../tag/python/index.html' class='tag-link-4' title='429 topics' style='font-size: 22pt;'>python</a>
<a href='../tag/python-3/index.html' class='tag-link-365' title='8 topics' style='font-size: 8.4046242774566pt;'>python 3</a>
<a href='../tag/redis/index.html' class='tag-link-196' title='10 topics' style='font-size: 9.1329479768786pt;'>redis</a>
<a href='../tag/ruby/index.html' class='tag-link-325' title='8 topics' style='font-size: 8.4046242774566pt;'>ruby</a>
<a href='../tag/server/index.html' class='tag-link-185' title='7 topics' style='font-size: 8pt;'>server</a>
<a href='../tag/shell/index.html' class='tag-link-202' title='9 topics' style='font-size: 8.8092485549133pt;'>shell</a>
<a href='../tag/ssh/index.html' class='tag-link-206' title='7 topics' style='font-size: 8pt;'>ssh</a>
<a href='../tag/sublime-text/index.html' class='tag-link-76' title='9 topics' style='font-size: 8.8092485549133pt;'>sublime text</a>
<a href='../tag/ubuntu/index.html' class='tag-link-255' title='15 topics' style='font-size: 10.42774566474pt;'>ubuntu</a>
<a href='../tag/unicode/index.html' class='tag-link-53' title='7 topics' style='font-size: 8pt;'>unicode</a>
<a href='../tag/unit-tests/index.html' class='tag-link-302' title='8 topics' style='font-size: 8.4046242774566pt;'>unit tests</a>
<a href='../tag/unpacking/index.html' class='tag-link-180' title='8 topics' style='font-size: 8.4046242774566pt;'>unpacking</a>
<a href='../tag/virtualenv/index.html' class='tag-link-259' title='8 topics' style='font-size: 8.4046242774566pt;'>virtualenv</a>
<a href='../tag/wamp/index.html' class='tag-link-1039' title='14 topics' style='font-size: 10.265895953757pt;'>wamp</a>
<a href='../tag/yield/index.html' class='tag-link-287' title='9 topics' style='font-size: 8.8092485549133pt;'>yield</a></div>
</aside><aside id="text-5" class="widget widget_text"><h3 class="widget-title"> Envoyez des sioux</h3>			<div class="textwidget"><p><img src="../wp-content/uploads/2013/07/bitcoin.png" width="16" height="16"/> On adooooore les bitcoins :</p>

<p>

<a href="bitcoin:19zAHPPuce4BAhsdy9KaFwVLurEJXMhMAn?amount=1X8&label=SamEtMax">19zAHPPuce4BAhsdy9KaFwVLurEJXMhMAn</a>

</p></div>
		</aside><aside id="nav_menu-3" class="widget widget_nav_menu"><h3 class="widget-title">Nos projets</h3><div class="menu-nos-projets-container"><ul id="menu-nos-projets" class="menu"><li id="menu-item-15841" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15841"><a href="http://multiboards.net/">Multiboards &#8211; l&#8217;actu geek fr en une page</a></li>
<li id="menu-item-15837" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15837"><a href="http://0bin.net">0bin &#8211; le pastebin chiffré</a></li>
<li id="menu-item-15838" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15838"><a href="http://allthatcounts.net">All that counts &#8211; compteur pour jeux</a></li>
<li id="menu-item-15839" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15839"><a href="https://github.com/sametmax/django-quicky">Django quicky &#8211; quick views for Django</a></li>
<li id="menu-item-15840" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15840"><a href="https://github.com/sametmax/VizHash.js">VizHash.js &#8211; Hash visuels</a></li>
<li id="menu-item-15842" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15842"><a href="https://github.com/sametmax/codes-des-articles">Code des articles du blog</a></li>
</ul></div></aside>                                              </div><!-- #left or #right-->
        </div><!--.tc-sidebar -->

        
        </div><!--.row -->
    </div><!-- .container role: main -->

    
</div><!--#main-wrapper"-->

		<!-- FOOTER -->
		<footer id="footer" class="">
		 					<div class="container footer-widgets ">
					<div class="row widget-area" role="complementary">
												
							<div id="footer_one" class="span4">
																
										<aside id="nav_menu-2" class="widget widget_nav_menu"><h3 class="widget-title">Hors du blog</h3><div class="menu-bottom-menu-container"><ul id="menu-bottom-menu" class="menu"><li id="menu-item-2391" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2391"><a href="../contactez-nous/index.html">Page de contact</a></li>
<li id="menu-item-12230" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12230"><a href="http://twitter.com/sam_et_max">@sam_et_max sur tweeter</a></li>
<li id="menu-item-12285" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12285"><a href="http://bridge.suumitsu.eu/?action=display&#038;bridge=TwitterBridge&#038;u=sam_et_max&#038;format=AtomFormat">Nos tweets en RSS</a></li>
<li id="menu-item-12231" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12231"><a href="https://github.com/sametmax/">Fork me, I&#8217;m famous (github)</a></li>
</ul></div></aside>
																							</div><!-- .{$key}_widget_class -->

						
							<div id="footer_two" class="span4">
																
										<aside id="text-8" class="widget widget_text">			<div class="textwidget">Tous les textes de ce blog, sauf signalement contraire, sont sous licence <a href="http://creativecommons.org/licenses/by/3.0/">creative common 3.0 unported</a>.</div>
		</aside>
																							</div><!-- .{$key}_widget_class -->

						
							<div id="footer_three" class="span4">
																
										<aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Toi aussi, trouve un article obsolète sur notre blog</h3>		<ul>
	<li><a href='../2015/11/index.html'>November 2015</a>&nbsp;(5)</li>
	<li><a href='../2015/10/index.html'>October 2015</a>&nbsp;(2)</li>
	<li><a href='../2015/09/index.html'>September 2015</a>&nbsp;(6)</li>
	<li><a href='../2015/08/index.html'>August 2015</a>&nbsp;(10)</li>
	<li><a href='../2015/07/index.html'>July 2015</a>&nbsp;(18)</li>
	<li><a href='../2015/06/index.html'>June 2015</a>&nbsp;(13)</li>
	<li><a href='../2015/05/index.html'>May 2015</a>&nbsp;(12)</li>
	<li><a href='../2015/04/index.html'>April 2015</a>&nbsp;(13)</li>
	<li><a href='../2015/03/index.html'>March 2015</a>&nbsp;(8)</li>
	<li><a href='../2015/02/index.html'>February 2015</a>&nbsp;(4)</li>
	<li><a href='../2015/01/index.html'>January 2015</a>&nbsp;(21)</li>
	<li><a href='../2014/12/index.html'>December 2014</a>&nbsp;(24)</li>
	<li><a href='../2014/11/index.html'>November 2014</a>&nbsp;(6)</li>
	<li><a href='../2014/10/index.html'>October 2014</a>&nbsp;(18)</li>
	<li><a href='../2014/09/index.html'>September 2014</a>&nbsp;(10)</li>
	<li><a href='../2014/08/index.html'>August 2014</a>&nbsp;(5)</li>
	<li><a href='../2014/07/index.html'>July 2014</a>&nbsp;(11)</li>
	<li><a href='../2014/06/index.html'>June 2014</a>&nbsp;(25)</li>
	<li><a href='../2014/05/index.html'>May 2014</a>&nbsp;(14)</li>
	<li><a href='../2014/04/index.html'>April 2014</a>&nbsp;(10)</li>
	<li><a href='../2014/03/index.html'>March 2014</a>&nbsp;(23)</li>
	<li><a href='../2014/02/index.html'>February 2014</a>&nbsp;(27)</li>
	<li><a href='../2014/01/index.html'>January 2014</a>&nbsp;(17)</li>
	<li><a href='../2013/12/index.html'>December 2013</a>&nbsp;(27)</li>
	<li><a href='../2013/11/index.html'>November 2013</a>&nbsp;(25)</li>
	<li><a href='../2013/10/index.html'>October 2013</a>&nbsp;(27)</li>
	<li><a href='../2013/09/index.html'>September 2013</a>&nbsp;(1)</li>
	<li><a href='../2013/08/index.html'>August 2013</a>&nbsp;(31)</li>
	<li><a href='../2013/07/index.html'>July 2013</a>&nbsp;(32)</li>
	<li><a href='../2013/06/index.html'>June 2013</a>&nbsp;(24)</li>
	<li><a href='../2013/05/index.html'>May 2013</a>&nbsp;(30)</li>
	<li><a href='../2013/04/index.html'>April 2013</a>&nbsp;(31)</li>
	<li><a href='../2013/03/index.html'>March 2013</a>&nbsp;(33)</li>
	<li><a href='../2013/02/index.html'>February 2013</a>&nbsp;(29)</li>
	<li><a href='../2013/01/index.html'>January 2013</a>&nbsp;(34)</li>
	<li><a href='../2012/12/index.html'>December 2012</a>&nbsp;(32)</li>
	<li><a href='../2012/11/index.html'>November 2012</a>&nbsp;(36)</li>
	<li><a href='../2012/10/index.html'>October 2012</a>&nbsp;(35)</li>
	<li><a href='../2012/09/index.html'>September 2012</a>&nbsp;(36)</li>
	<li><a href='../2012/08/index.html'>August 2012</a>&nbsp;(37)</li>
	<li><a href='../2012/07/index.html'>July 2012</a>&nbsp;(33)</li>
	<li><a href='../2012/06/index.html'>June 2012</a>&nbsp;(24)</li>
	<li><a href='../2012/05/index.html'>May 2012</a>&nbsp;(31)</li>
	<li><a href='../2012/04/index.html'>April 2012</a>&nbsp;(20)</li>
	<li><a href='../2012/03/index.html'>March 2012</a>&nbsp;(10)</li>
	<li><a href='../2012/02/index.html'>February 2012</a>&nbsp;(14)</li>
		</ul>
</aside>
																							</div><!-- .{$key}_widget_class -->

																	</div><!-- .row.widget-area -->
				</div><!--.footer-widgets -->
				    				 <div class="colophon">
			 	<div class="container">
			 		<div class="row-fluid">
					    <div class="span4 social-block pull-left"><span class="tc-footer-social-links-wrapper" ><a class="social-icon icon-feed" href="../feed/rss/index.html" title="Subscribe to my rss feed"  ></a></span></div><div class="span4 credits"><p>&middot; &copy; 2015 <a href="../index.html" title="Sam &amp; Max" rel="bookmark">Sam &amp; Max</a> &middot; Designed by <a href="http://themesandco.com/">Themes &amp; Co</a> &middot;</p></div><div class="span4 backtop"><p class="pull-right"><a class="back-to-top" href="index.html%3Fshare=email.html#">Back to top</a></p></div>	      			</div><!-- .row-fluid -->
	      		</div><!-- .container -->
	      	</div><!-- .colophon -->
	    			</footer>
			<div style="display:none">
	<div class="grofile-hash-map-bf9ecde8f5e286de6ce5c80206cf9dd6">
	</div>
	<div class="grofile-hash-map-ddc1e18c9a4651f0c24b14a2ca84372a">
	</div>
	<div class="grofile-hash-map-fc32c6686686ecc595f05ad1885c2fb3">
	</div>
	<div class="grofile-hash-map-bf9ecde8f5e286de6ce5c80206cf9dd6">
	</div>
	<div class="grofile-hash-map-9369e3d134cec4a408d88aa31920bec4">
	</div>
	<div class="grofile-hash-map-437805955e9381e69429143c0fc40f6e">
	</div>
	<div class="grofile-hash-map-efca4fc75d514818d08f08413f9f15c9">
	</div>
	<div class="grofile-hash-map-b93cc4fb6413bbe5c837530662bee9b4">
	</div>
	<div class="grofile-hash-map-337428a6e34734f07be5de0c8ae454cb">
	</div>
	<div class="grofile-hash-map-c7051d8640fa4b6984317e5b7c32f156">
	</div>
	<div class="grofile-hash-map-ea8f752e4ca2c76ec567486750b68bea">
	</div>
	<div class="grofile-hash-map-6aa8af04c35f4715db3b1906d12a49d9">
	</div>
	</div>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
					<script type="text/javascript">
			  (function() {
			    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			    po.src = 'https://apis.google.com/js/plusone.js';
			    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
			  })();
			</script>
				<div id="sharing_email" style="display: none;">
		<form action="index.html%3Fshare=email.html" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

			
			
			<img style="float: right; display: none" class="loading" src="../wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a href="index.html%3Fshare=email.html#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
					<script type="text/javascript">
				// Pinterest shared resources
				var s = document.createElement("script");
				s.type = "text/javascript";
				s.async = true;
				s.src = window.location.protocol + "//assets.pinterest.com/js/pinit.js";
				var x = document.getElementsByTagName("script")[0];
				x.parentNode.insertBefore(s, x);
				// if 'Pin it' button has 'counts' make container wider
				jQuery(window).load( function(){ jQuery( 'li.share-pinterest a span:visible' ).closest( '.share-pinterest' ).width( '80px' ); } );
			</script>
		<script type="text/javascript" src="http://platform.tumblr.com/v1/share.js"></script>		<script>
		// Don't use Pocket's default JS as it we need to force init new Pocket share buttons loaded via JS.
		function jetpack_sharing_pocket_init() {
			jQuery.getScript( 'https://widgets.getpocket.com/v1/j/btn.js?v=1' );
		}
		jQuery( document ).on( 'ready', jetpack_sharing_pocket_init );
		jQuery( document.body ).on( 'post-load', jetpack_sharing_pocket_init );
		</script>
		<script type='text/javascript' src='../wp-content/plugins/akismet/_inc/form.js%3Fver=3.1.2'></script>
<script type='text/javascript' src='../wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js%3Fver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/sametmax.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ..."};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/contact-form-7/includes/js/scripts.js%3Fver=4.0.3'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var pollsL10n = {"ajax_url":"http:\/\/sametmax.com\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/wp-polls/polls-js.js%3Fver=2.68'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201545'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2015Novaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/jetpack/modules/wpgroho.js%3Fver=4.1'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/ui/core.min.js%3Fver=1.11.2'></script>
<script type='text/javascript' src='../wp-content/themes/customizr/inc/assets/js/modernizr.min.js%3Fver=3.2.10'></script>
<script type='text/javascript' src='../wp-content/themes/customizr/inc/assets/js/retina.min.js%3Fver=3.2.10'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/jetpack/modules/sharedaddy/sharing.js%3Fver=20140920'></script>

	<script src="http://stats.wp.com/e-201545.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:3.3',blog:'32490438',post:'5912',tz:'0'});
	var load_cmc = function(){linktracker_init(32490438,5912,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script><div class="tc-btt-wrapper"><i class="btt-arrow" style="color:#394143"></i></div>	</body>
	</html>