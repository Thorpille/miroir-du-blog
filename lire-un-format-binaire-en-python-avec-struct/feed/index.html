<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	>
<channel>
	<title>Comments on: Lire un format binaire en Python avec struct</title>
	<atom:link href="http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 11:08:18 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>By: Romain</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162850</link>
		<dc:creator><![CDATA[Romain]]></dc:creator>
		<pubDate>Thu, 02 Jul 2015 07:14:40 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162850</guid>
		<description><![CDATA[Effectivement, ça peut faire le taf... si on ajoute https://pypi.python.org/pypi/asn1ate/0.5 avec parce que se taper une grammaire asn.1 à la main n&#039;est pas un sort enviable !

J&#039;y penserai la prochaine fois que je devrai décoder des fichiers TAP :D
]]></description>
		<content:encoded><![CDATA[<p>Effectivement, ça peut faire le taf&#8230; si on ajoute <a href="https://pypi.python.org/pypi/asn1ate/0.5" rel="nofollow">https://pypi.python.org/pypi/asn1ate/0.5</a> avec parce que se taper une grammaire asn.1 à la main n&#8217;est pas un sort enviable !</p>
<p>J&#8217;y penserai la prochaine fois que je devrai décoder des fichiers TAP :D</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162691</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Mon, 29 Jun 2015 18:10:33 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162691</guid>
		<description><![CDATA[&lt;p&gt;https://pypi.python.org/pypi/pyasn1 :)&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p><a href="https://pypi.python.org/pypi/pyasn1" rel="nofollow">https://pypi.python.org/pypi/pyasn1</a> :)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Romain</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162685</link>
		<dc:creator><![CDATA[Romain]]></dc:creator>
		<pubDate>Mon, 29 Jun 2015 15:56:20 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162685</guid>
		<description><![CDATA[C&#039;est vrai que c&#039;est un module assez génial et en même temps c&#039;est dommage que la description du format soit si cryptique (quoique ce ne doit pas tellement pire que des regexes).

À quand un article sur du décodage asn1 en python :-) ?
]]></description>
		<content:encoded><![CDATA[<p>C&#8217;est vrai que c&#8217;est un module assez génial et en même temps c&#8217;est dommage que la description du format soit si cryptique (quoique ce ne doit pas tellement pire que des regexes).</p>
<p>À quand un article sur du décodage asn1 en python :-) ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kontre</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162673</link>
		<dc:creator><![CDATA[kontre]]></dc:creator>
		<pubDate>Mon, 29 Jun 2015 12:05:37 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162673</guid>
		<description><![CDATA[&lt;p&gt;@YCL1 Le problème de ctypes c&#039;est qu&#039;il n&#039;y a aucun garde-fou, quand ça merde ça segfault python lui-même (ce qui a peu de chance d&#039;arriver avec des uint, certes). Au moins struct est safe. De plus ton exemple se fait assez facilement avec struct.&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>@YCL1 Le problème de ctypes c&#8217;est qu&#8217;il n&#8217;y a aucun garde-fou, quand ça merde ça segfault python lui-même (ce qui a peu de chance d&#8217;arriver avec des uint, certes). Au moins struct est safe. De plus ton exemple se fait assez facilement avec struct.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162609</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Sat, 27 Jun 2015 06:26:11 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162609</guid>
		<description><![CDATA[&lt;p&gt;Bien vu. Une des conneries de la PSF est leur volonté de rediriger par défaut sur la doc de la 2.7.&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>Bien vu. Une des conneries de la PSF est leur volonté de rediriger par défaut sur la doc de la 2.7.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: cendrieR</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162604</link>
		<dc:creator><![CDATA[cendrieR]]></dc:creator>
		<pubDate>Sat, 27 Jun 2015 04:26:15 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162604</guid>
		<description><![CDATA[Merci pour l&#039;article !

Petite question : le lien vers la doc pointe toujours sur python 2.7. Tu ne voulais pas encourager le passage en python 3 ?
]]></description>
		<content:encoded><![CDATA[<p>Merci pour l&#8217;article !</p>
<p>Petite question : le lien vers la doc pointe toujours sur python 2.7. Tu ne voulais pas encourager le passage en python 3 ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: YCL1</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162592</link>
		<dc:creator><![CDATA[YCL1]]></dc:creator>
		<pubDate>Fri, 26 Jun 2015 23:26:24 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162592</guid>
		<description><![CDATA[Argh le commentaire a tout modifié..

http://pastebin.com/G7FjUJLh
]]></description>
		<content:encoded><![CDATA[<p>Argh le commentaire a tout modifié..</p>
<p><a href="http://pastebin.com/G7FjUJLh" rel="nofollow">http://pastebin.com/G7FjUJLh</a></p>
]]></content:encoded>
	</item>
	<item>
		<title>By: YCL1</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162590</link>
		<dc:creator><![CDATA[YCL1]]></dc:creator>
		<pubDate>Fri, 26 Jun 2015 23:18:43 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162590</guid>
		<description><![CDATA[&lt;p&gt;struct est pratique pour convertir rapidement des éléments de même taille, regrouper des blocs pour en calculer le checksum par exemple.&lt;/p&gt;

&lt;p&gt;Mais c&#039;est beaucoup moins aisé quand il s&#039;agit d&#039;extraire des éléments de taille variables, de structurer des éléments.&lt;/p&gt;

&lt;p&gt;Les structures ctypes sont beaucoup plus efficaces pour décoder/décommuter des paquets binaires.&lt;/p&gt;

&lt;p&gt;Une petite démo :&lt;/p&gt;

&lt;pre lang=&quot;python&quot;&gt;

import ctypes
 
class Header_Decoder(ctypes.BigEndianStructure): # {
    _pack_ = 1
    _fields_ = [
        (&#039;protocol_id&#039;, ctypes.c_uint8, 8),      # 1 byte:  byte 1,      bits 00-07
        (&#039;segmentation&#039;, ctypes.c_uint8, 3),     # 3 bits:  byte 2,      bits 08-10
        (&#039;transaction_type&#039;, ctypes.c_uint8, 5), # 5 bits:  byte 2,      bits 11-15
        (&#039;packet_length&#039;, ctypes.c_uint32),      # 4 bytes: bytes 3-6,   bits 16-47
        (&#039;checksum&#039;, ctypes.c_uint16),           # 2 bytes: bytes 7-8,   bits 48-63
    ]
# } Header_Decoder
 
HEADER_LENGHT_BYTES = ctypes.sizeof(Header_Decoder)
 
packet = b&#039;\xFF\x10\x00\x00\x00\x0C\x00\xE3\x48\x65\x79\x21&#039;
 
header = Header_Decoder.from_buffer_copy(packet[0 : 0 + HEADER_LENGHT_BYTES])
 
print(&quot;Protocol ID:&quot;, header.protocol_id)
print(&quot;Segmentation:&quot;, header.segmentation)
print(&quot;Transaction type:&quot;, header.transaction_type)
print(&quot;Checksum:&quot;, header.checksum)
print(&quot;Data:&quot;, packet[HEADER_LENGHT_BYTES : header.packet_length].decode(&#039;ascii&#039;))

&lt;/pre&gt;
]]></description>
		<content:encoded><![CDATA[<p>struct est pratique pour convertir rapidement des éléments de même taille, regrouper des blocs pour en calculer le checksum par exemple.</p>
<p>Mais c&#8217;est beaucoup moins aisé quand il s&#8217;agit d&#8217;extraire des éléments de taille variables, de structurer des éléments.</p>
<p>Les structures ctypes sont beaucoup plus efficaces pour décoder/décommuter des paquets binaires.</p>
<p>Une petite démo :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;">&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> ctypes
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> Header_Decoder<span style="color: black;">&#40;</span>ctypes.<span style="color: black;">BigEndianStructure</span><span style="color: black;">&#41;</span>: <span style="color: #808080; font-style: italic;"># {</span>
    _pack_ <span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
    _fields_ <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span>
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'protocol_id'</span><span style="color: #66cc66;">,</span> ctypes.<span style="color: black;">c_uint8</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>      <span style="color: #808080; font-style: italic;"># 1 byte:  byte 1,      bits 00-07</span>
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'segmentation'</span><span style="color: #66cc66;">,</span> ctypes.<span style="color: black;">c_uint8</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>     <span style="color: #808080; font-style: italic;"># 3 bits:  byte 2,      bits 08-10</span>
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'transaction_type'</span><span style="color: #66cc66;">,</span> ctypes.<span style="color: black;">c_uint8</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">5</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: #808080; font-style: italic;"># 5 bits:  byte 2,      bits 11-15</span>
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'packet_length'</span><span style="color: #66cc66;">,</span> ctypes.<span style="color: black;">c_uint32</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>      <span style="color: #808080; font-style: italic;"># 4 bytes: bytes 3-6,   bits 16-47</span>
        <span style="color: black;">&#40;</span><span style="color: #483d8b;">'checksum'</span><span style="color: #66cc66;">,</span> ctypes.<span style="color: black;">c_uint16</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>           <span style="color: #808080; font-style: italic;"># 2 bytes: bytes 7-8,   bits 48-63</span>
    <span style="color: black;">&#93;</span>
<span style="color: #808080; font-style: italic;"># } Header_Decoder</span>
&nbsp;
HEADER_LENGHT_BYTES <span style="color: #66cc66;">=</span> ctypes.<span style="color: black;">sizeof</span><span style="color: black;">&#40;</span>Header_Decoder<span style="color: black;">&#41;</span>
&nbsp;
packet <span style="color: #66cc66;">=</span> b<span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\x</span>FF<span style="color: #000099; font-weight: bold;">\x</span>10<span style="color: #000099; font-weight: bold;">\x</span>00<span style="color: #000099; font-weight: bold;">\x</span>00<span style="color: #000099; font-weight: bold;">\x</span>00<span style="color: #000099; font-weight: bold;">\x</span>0C<span style="color: #000099; font-weight: bold;">\x</span>00<span style="color: #000099; font-weight: bold;">\x</span>E3<span style="color: #000099; font-weight: bold;">\x</span>48<span style="color: #000099; font-weight: bold;">\x</span>65<span style="color: #000099; font-weight: bold;">\x</span>79<span style="color: #000099; font-weight: bold;">\x</span>21'</span>
&nbsp;
header <span style="color: #66cc66;">=</span> Header_Decoder.<span style="color: black;">from_buffer_copy</span><span style="color: black;">&#40;</span>packet<span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span> : <span style="color: #ff4500;">0</span> + HEADER_LENGHT_BYTES<span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Protocol ID:&quot;</span><span style="color: #66cc66;">,</span> header.<span style="color: black;">protocol_id</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Segmentation:&quot;</span><span style="color: #66cc66;">,</span> header.<span style="color: black;">segmentation</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Transaction type:&quot;</span><span style="color: #66cc66;">,</span> header.<span style="color: black;">transaction_type</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Checksum:&quot;</span><span style="color: #66cc66;">,</span> header.<span style="color: black;">checksum</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;Data:&quot;</span><span style="color: #66cc66;">,</span> packet<span style="color: black;">&#91;</span>HEADER_LENGHT_BYTES : header.<span style="color: black;">packet_length</span><span style="color: black;">&#93;</span>.<span style="color: black;">decode</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'ascii'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span></pre></td></tr></table></div>

]]></content:encoded>
	</item>
	<item>
		<title>By: buffalo974</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162588</link>
		<dc:creator><![CDATA[buffalo974]]></dc:creator>
		<pubDate>Fri, 26 Jun 2015 20:24:36 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162588</guid>
		<description><![CDATA[Un conseil ou un tuyau, pour un pythoniste amateur qui voudrait faire un peu de C++,  pour améliorer son python, par curiosité et par &quot;plaisir&quot; ?
]]></description>
		<content:encoded><![CDATA[<p>Un conseil ou un tuyau, pour un pythoniste amateur qui voudrait faire un peu de C++,  pour améliorer son python, par curiosité et par &#8220;plaisir&#8221; ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: boblinux</title>
		<link>http://sametmax.com/lire-un-format-binaire-en-python-avec-struct/#comment-162587</link>
		<dc:creator><![CDATA[boblinux]]></dc:creator>
		<pubDate>Fri, 26 Jun 2015 20:21:27 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=16503#comment-162587</guid>
		<description><![CDATA[@Moato

Au pire, si tu veux vraiment une réponse à ta question, va faire un tour sur http://indexerror.net/questions , j&#039;suis sûr que tu trouveras un tas de mecs (oé, les meufs c&#039;est une espece en voie d&#039;extinction dans le monde du dev)  dispo pour répondre à ta question !

ps : fu..k les  balises html
]]></description>
		<content:encoded><![CDATA[<p>@Moato</p>
<p>Au pire, si tu veux vraiment une réponse à ta question, va faire un tour sur <a href="http://indexerror.net/questions" rel="nofollow">http://indexerror.net/questions</a> , j&#8217;suis sûr que tu trouveras un tas de mecs (oé, les meufs c&#8217;est une espece en voie d&#8217;extinction dans le monde du dev)  dispo pour répondre à ta question !</p>
<p>ps : fu..k les  balises html</p>
]]></content:encoded>
	</item>
</channel>
</rss>
