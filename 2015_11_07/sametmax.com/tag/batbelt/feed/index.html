<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max &#187; batbelt</title>
	<atom:link href="http://sametmax.com/tag/batbelt/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 10:56:13 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>Minibelt, la petite soeur de batbelt 3</title>
		<link>http://sametmax.com/minibelt-la-petite-soeur-de-batbelt/</link>
		<comments>http://sametmax.com/minibelt-la-petite-soeur-de-batbelt/#comments</comments>
		<pubDate>Mon, 21 Oct 2013 10:54:01 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[batbelt]]></category>
		<category><![CDATA[minibelt]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=7494</guid>
		<description><![CDATA[C'est un subset de batbelt <strong>qui tient dans UN fichier</strong>, et qui contient uniquement les fonctions qu'on utilise le plus souvent.]]></description>
				<content:encoded><![CDATA[<p>Quand j&#8217;ai créé batbelt, j&#8217;ai voulu en faire une boîte à outils pour des trucs pratiques qu&#8217;on ne trouve pas dans la lib standard, et qui n&#8217;ont pas de thèmes particuliers. Une genre de collection de snippets que j&#8217;utiliserais pour tous mes gros projets.</p>
<p>Mais voilà, il y a des choses qu&#8217;on utilise souvent, et d&#8217;autres moins. Et <a href="http://sametmax.com/mon-premier-projet-python3/">certaines personnes</a> ne veulent pas installer un package complet avec plusieurs modules juste pour quelques fonctions. Surtout que tous les projets ne sont pas des gros projets.</p>
<p>C&#8217;est pourquoi j&#8217;ai créé <a href="https://github.com/sametmax/minibelt">minibelt</a>.</p>
<p>C&#8217;est un subset de batbelt <strong>qui tient dans UN fichier</strong>, et qui contient uniquement les fonctions qu&#8217;on utilise le plus souvent. Vous pouvez bien sûr l&#8217;installer avec <a href="http://sametmax.com/votre-python-aime-les-pip/">pip</a>, mais le plus simple, c&#8217;est de juste copier / coller le fichier et le mettre à côté de votre code, puis de l&#8217;oublier.</p>
<p>L&#8217;autre bonne nouvelle, c&#8217;est que puisqu&#8217;il y a moins de code, je me suis bougé le cul pour rendre minibelt compatible Python 2 et Python 3 (enfin je crois :-)). Le README contient aussi l&#8217;ensemble de la documentation nécessaire.</p>
<p>Peut être même qu&#8217;un jour de pluie, j&#8217;ajouterai des tests unitaires, soyons fou.</p>
<p>Enjoy.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/minibelt-la-petite-soeur-de-batbelt/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
	<enclosure url="http://sametmax.com/wp-content/uploads/2013/10/MTtM4bK.jpg" length="107745" type="image/jpg" />	</item>
		<item>
		<title>FIRST ! 9</title>
		<link>http://sametmax.com/first/</link>
		<comments>http://sametmax.com/first/#comments</comments>
		<pubDate>Thu, 01 Aug 2013 23:04:27 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[batbelt]]></category>
		<category><![CDATA[iterable]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=6991</guid>
		<description><![CDATA[Cherchant un post pas trop long à faire car j'ai été malade comme un chien depuis hier, je m'étais chauffé pour faire une intro au module <a href="http://docs.python.org/2/library/array.html">array</a>. Et puis, changeant d'avis par flemme, j'ouvre le code de <a href="http://sametmax.com/batbelt-la-lib-des-petits-outils-python-qui-vont-bien/">batbelt</a>, et je cherche un petit snippet que je n'ai pas présenté.]]></description>
				<content:encoded><![CDATA[<p>Cherchant un post pas trop long à faire car j&#8217;ai été malade comme un chien depuis hier, je m&#8217;étais chauffé pour faire une intro au module <a href="http://docs.python.org/2/library/array.html">array</a>. Et puis, changeant d&#8217;avis par flemme, j&#8217;ouvre le code de <a href="http://sametmax.com/batbelt-la-lib-des-petits-outils-python-qui-vont-bien/">batbelt</a>, et je cherche un petit snippet que je n&#8217;ai pas présenté.</p>
<p>Bonne pêche !</p>
<p>Voici des fonctions qui s&#8217;utilisent sur des itérables, n&#8217;importe lequel, même un dont la taille est inconnu ou infini. La première retourne le premier élément, et, si l&#8217;itérable est vide, elle retourne une valeur par défaut :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> first<span style="color: black;">&#40;</span>iterable<span style="color: #66cc66;">,</span> default<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> iterable:
        <span style="color: #ff7700;font-weight:bold;">return</span> x
    <span style="color: #ff7700;font-weight:bold;">return</span> default</pre></td></tr></table></div>

<p>C&#8217;est une sorte de [0], mais valable pour tous les itérables, par juste les indexables comme les tuples, les strings ou les listes. Et en prime, pas besoin de faire un <code>try / catch</code> dessus puisqu&#8217;il permet une valeur par défaut :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> first<span style="color: black;">&#40;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
<span style="color: #ff4500;">0</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> first<span style="color: black;">&#40;</span><span style="color: black;">&#91;</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'flammkuchen'</span><span style="color: black;">&#41;</span>
<span style="color: #483d8b;">'flammkuchen'</span></pre></td></tr></table></div>

<p>Le second est aussi sympathique, il fait la même chose, mais retourne l&#8217;élément seulement si il est vrai :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> first_true<span style="color: black;">&#40;</span>iterable<span style="color: #66cc66;">,</span> key<span style="color: #66cc66;">=</span><span style="color: #ff7700;font-weight:bold;">lambda</span> x: x<span style="color: #66cc66;">,</span> default<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> iterable:
        <span style="color: #ff7700;font-weight:bold;">if</span> key<span style="color: black;">&#40;</span>x<span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">return</span> x
    <span style="color: #ff7700;font-weight:bold;">return</span> default</pre></td></tr></table></div>

<p><code>key</code> fonctionne comme pour la fonction <code>sorted()</code>, à savoir que c&#8217;est une injection de dépendance. C&#8217;est cette fonction qui va déterminer si l&#8217;élément est vrai ou non. Par défaut la fonction retourne l&#8217;élément tel quel, et le fait qu&#8217;il soit vrai ou non sera donc déterminé par son contexte booléen :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> first_true<span style="color: black;">&#40;</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
<span style="color: #ff4500;">1</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> first_true<span style="color: black;">&#40;</span><span style="color: black;">&#91;</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#40;</span><span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#40;</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> first_true<span style="color: black;">&#40;</span><span style="color: black;">&#91;</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#40;</span><span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #ff7700;font-weight:bold;">lambda</span> x: x<span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#40;</span><span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: black;">&#41;</span>
<span style="color: #66cc66;">&gt;&gt;&gt;</span> first_true<span style="color: black;">&#40;</span><span style="color: black;">&#91;</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #ff7700;font-weight:bold;">lambda</span> x: x<span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'socca'</span><span style="color: black;">&#41;</span>
u<span style="color: #483d8b;">'socca'</span></pre></td></tr></table></div>

<p>Ce petit article m&#8217;a fait réaliser qu&#8217;on pourrait sans problème fusionner les deux en faisant :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> first<span style="color: black;">&#40;</span>iterable<span style="color: #66cc66;">,</span> key<span style="color: #66cc66;">=</span><span style="color: #ff7700;font-weight:bold;">lambda</span> x: <span style="color: #008000;">True</span><span style="color: #66cc66;">,</span> default<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">for</span> x <span style="color: #ff7700;font-weight:bold;">in</span> iterable:
        <span style="color: #ff7700;font-weight:bold;">if</span> key<span style="color: black;">&#40;</span>x<span style="color: black;">&#41;</span>:
            <span style="color: #ff7700;font-weight:bold;">return</span> x
    <span style="color: #ff7700;font-weight:bold;">return</span> default</pre></td></tr></table></div>

<p>Mais j&#8217;ai pas la foi de faire un commit ce soir, donc fuck.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/first/feed/</wfw:commentRss>
		<slash:comments>9</slash:comments>
	<enclosure url="http://sametmax.com/wp-content/uploads/2013/08/RQtNYLn.jpg" length="75403" type="image/jpg" />	</item>
	</channel>
</rss>
