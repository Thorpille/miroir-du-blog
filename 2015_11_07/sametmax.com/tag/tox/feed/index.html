<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Sam &#38; Max &#187; tox</title>
	<atom:link href="http://sametmax.com/tag/tox/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 10:56:13 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>Paramètres par défaut pour la commande py.test 3</title>
		<link>http://sametmax.com/parametres-par-defaut-pour-la-commande-py-test/</link>
		<comments>http://sametmax.com/parametres-par-defaut-pour-la-commande-py-test/#comments</comments>
		<pubDate>Fri, 03 May 2013 08:23:51 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[pytest]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[tox]]></category>
		<category><![CDATA[unit tests]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=5969</guid>
		<description><![CDATA[Je ne fais plus de tests unittaires sans <a href="http://sametmax.com/se-simplifier-les-tests-python-avec-pytest/">pytest</a>, et je me retrouve souvent à rentrer les mêmes paramètres de la commande encore et encore. Parfois, quand j'autilise des wrappers tels que django-pytest et pytest-django (ça s'invente pas), je ne peux même pas passer d'arguments directement à <code>py.test</code>.

On peut y remedier en créer un fichier de config à la racine du projet.]]></description>
				<content:encoded><![CDATA[<p>Je ne fais plus de tests unittaires sans <a href="http://sametmax.com/se-simplifier-les-tests-python-avec-pytest/">pytest</a>, et je me retrouve souvent à rentrer les mêmes paramètres de la commande encore et encore. Parfois, quand j&#8217;utilise des wrappers tels que django-pytest et pytest-django (ça s&#8217;invente pas), je ne peux même pas passer d&#8217;arguments directement à <code>py.test</code>.</p>
<p>On peut y remédier en créant un fichier de config à la racine du projet. Nommez le fichier <em>tox.ini</em>, car c&#8217;est aussi le nom du fichier de configuration de l&#8217;outil de tests <a href="http://testrun.org/tox/latest//">tox</a>, et il est compatible, donc autant avoir un seul format. Dedans, créez une section pytest, et vous pouvez configurer la lib la dedans.</p>
<p>En l’occurrence, le settings &#8220;addopts&#8221;, pour &#8220;add options&#8221; (ajouter options), permet de spécifier les options de la ligne de commande à toujours ajouter à <code>py.test</code>.</p>
<p>Mon fichier contient toujours au moins ceci :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="json" style="font-family:monospace;">[pytest]
addopts = --ignore=&quot;virtualenv&quot; --capture=no</pre></td></tr></table></div>

<p>Ainsi <code>py.test</code> ignore toujours le dossier <em>virtualenv</em> (qui est un lien vers l&#8217;env virtuel de mon projet) car je ne veux pas qu&#8217;il lance les tests de ce dossier. Et il ne capture pas stdout, ce qui me permet d&#8217;utiliser <a href="http://sametmax.com/debugger-en-python-les-bases-de-pdb/">ipdb</a> pendant les tests unittaires. Parfois j&#8217;utilise aussi <code>--maxfail=1</code> quand je veux qu&#8217;il s&#8217;arrête dès la première erreur rencontrée.</p>
<p>Pour ne pas aller dans ce dossier et ne pas capturer stdout.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/parametres-par-defaut-pour-la-commande-py-test/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
	<enclosure url="http://sametmax.com/wp-content/uploads/2013/05/OaEu6Os.jpg" length="78922" type="image/jpg" />	</item>
	</channel>
</rss>
