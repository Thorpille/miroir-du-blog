<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	>
<channel>
	<title>Comments on: Écrire des logs en Python</title>
	<atom:link href="http://sametmax.com/ecrire-des-logs-en-python/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/ecrire-des-logs-en-python/</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 11:08:18 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-159467</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Wed, 22 Apr 2015 20:46:52 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-159467</guid>
		<description><![CDATA[&lt;p&gt;Pose ta question sur IndedError, ça aura plus de visibilité.&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>Pose ta question sur IndedError, ça aura plus de visibilité.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Fred</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-159456</link>
		<dc:creator><![CDATA[Fred]]></dc:creator>
		<pubDate>Wed, 22 Apr 2015 17:01:13 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-159456</guid>
		<description><![CDATA[Hello, sorry , je reviens dessus :

je te cite :&quot;

import logging

logging.handlers

log = logging.getLogger(&quot;mylogger&quot;)

mailer = logging.handlers.SMTPHandler(mailhost=&#039;tonhost&#039;,

fromaddr=&#039;ton_mail_denvoie&#039;,

toaddrs=[&#039;liste&#039;, &#039;de&#039;, &#039;destinataires&#039;],

subject=&#039;Alerte rouge !&#039;,

credentials=(&#039;username&#039;,&#039;password&#039;),

secure=None)

mailer.setLevel(logging.ERROR)

log.addHandler(mailer)

&quot;&quot;

c&#039;est parfait.

mais supposons que j&#039;ai une classe A et un autre fichier  main.py

j&#039;ai des résultats d&#039;instructions sur la classe A et je veux regrouper tous ces résultats et les envoyer par mail En Une Fois.

dans la classe A :

-&gt; j&#039;ai une liste qui va append toutes les résultats des erreurs des instructions

dans le main.py

-&gt; j&#039;appel la liste de la classe en paramètre:

if any(&#039;CRITICAL&#039; in msg or &#039;ERROR&#039; in msg or &#039;FAILURE&#039; in msg for msg in A.ma_list):

....log.error(&#039;&#092;n&#039;.join(A.ma_list))

Y a t-il moyen de faire autrement que de regrouper les résultats dans une liste pour les envoyer en un bloc ?

Merci à toi.
]]></description>
		<content:encoded><![CDATA[<p>Hello, sorry , je reviens dessus :</p>
<p>je te cite :&#8221;</p>
<p>import logging</p>
<p>logging.handlers</p>
<p>log = logging.getLogger(&#8220;mylogger&#8221;)</p>
<p>mailer = logging.handlers.SMTPHandler(mailhost=&#8217;tonhost&#8217;,</p>
<p>fromaddr=&#8217;ton_mail_denvoie&#8217;,</p>
<p>toaddrs=[&#8216;liste&#8217;, &#8216;de&#8217;, &#8216;destinataires&#8217;],</p>
<p>subject=&#8217;Alerte rouge !&#8217;,</p>
<p>credentials=(&#8216;username&#8217;,&#8217;password&#8217;),</p>
<p>secure=None)</p>
<p>mailer.setLevel(logging.ERROR)</p>
<p>log.addHandler(mailer)</p>
<p>&#8220;&#8221;</p>
<p>c&#8217;est parfait.</p>
<p>mais supposons que j&#8217;ai une classe A et un autre fichier  main.py</p>
<p>j&#8217;ai des résultats d&#8217;instructions sur la classe A et je veux regrouper tous ces résultats et les envoyer par mail En Une Fois.</p>
<p>dans la classe A :</p>
<p>-&gt; j&#8217;ai une liste qui va append toutes les résultats des erreurs des instructions</p>
<p>dans le main.py</p>
<p>-&gt; j&#8217;appel la liste de la classe en paramètre:</p>
<p>if any(&#8216;CRITICAL&#8217; in msg or &#8216;ERROR&#8217; in msg or &#8216;FAILURE&#8217; in msg for msg in A.ma_list):</p>
<p>&#8230;.log.error(&#8216;&#092;n&#8217;.join(A.ma_list))</p>
<p>Y a t-il moyen de faire autrement que de regrouper les résultats dans une liste pour les envoyer en un bloc ?</p>
<p>Merci à toi.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Fred</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-157620</link>
		<dc:creator><![CDATA[Fred]]></dc:creator>
		<pubDate>Thu, 12 Mar 2015 15:48:04 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-157620</guid>
		<description><![CDATA[Merci Sam ! c&#039;est exactement ce que je cherchais :-D

du très très bon boulot votre site !

Et si j&#039;ai besoin de poser une question qui n&#039;a pas de billet sur votre site ?

Merci à vous
]]></description>
		<content:encoded><![CDATA[<p>Merci Sam ! c&#8217;est exactement ce que je cherchais :-D</p>
<p>du très très bon boulot votre site !</p>
<p>Et si j&#8217;ai besoin de poser une question qui n&#8217;a pas de billet sur votre site ?</p>
<p>Merci à vous</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-157616</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Thu, 12 Mar 2015 15:40:55 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-157616</guid>
		<description><![CDATA[&lt;p&gt;Ca ressemble à ça (de tête) :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import logging
logging.handlers

log = logging.getLogger(&quot;mylogger&quot;)

mailer = logging.handlers.SMTPHandler(mailhost=&#039;tonhost&#039;,
                                fromaddr=&#039;ton_mail_denvoie&#039;,
                                toaddrs=[&#039;liste&#039;, &#039;de&#039;, &#039;destinataires&#039;],
                                subject=&#039;Alerte rouge !&#039;,
                                credentials=(&#039;username&#039;,&#039;password&#039;),
                                secure=None)
mailer.setLevel(logging.ERROR)
log.addHandler(mailer)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Et ça enverra un mail pour toutes les erreurs logguées sur ce logger.&lt;/p&gt;

&lt;p&gt;Par contre le handler par défaut ne permet pas l&#039;utilisation de TLS, ce qui est bien relou. Et la méthode de contournement est, pour ainsi dire, hum... http://mynthon.net/howto/-/python/python%20-%20logging.SMTPHandler-how-to-use-gmail-smtp-server.txt&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>Ca ressemble à ça (de tête) :</p>
<pre><code>import logging
logging.handlers

log = logging.getLogger("mylogger")

mailer = logging.handlers.SMTPHandler(mailhost='tonhost',
                                fromaddr='ton_mail_denvoie',
                                toaddrs=['liste', 'de', 'destinataires'],
                                subject='Alerte rouge !',
                                credentials=('username','password'),
                                secure=None)
mailer.setLevel(logging.ERROR)
log.addHandler(mailer)
</code></pre>
<p>Et ça enverra un mail pour toutes les erreurs logguées sur ce logger.</p>
<p>Par contre le handler par défaut ne permet pas l&#8217;utilisation de TLS, ce qui est bien relou. Et la méthode de contournement est, pour ainsi dire, hum&#8230; <a href="http://mynthon.net/howto/-/python/python%20-%20logging.SMTPHandler-how-to-use-gmail-smtp-server.txt" rel="nofollow">http://mynthon.net/howto/-/python/python%20-%20logging.SMTPHandler-how-to-use-gmail-smtp-server.txt</a></p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Fred</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-157195</link>
		<dc:creator><![CDATA[Fred]]></dc:creator>
		<pubDate>Wed, 04 Mar 2015 15:19:59 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-157195</guid>
		<description><![CDATA[hello, très belle article.

pouvez vous donner un exemple avec le SMTPHandler ?

après plusieurs traitement ,

le SMTPHandler va envoyer le rapport des traitements par mail

Merci à vous

cdt

Fred
]]></description>
		<content:encoded><![CDATA[<p>hello, très belle article.</p>
<p>pouvez vous donner un exemple avec le SMTPHandler ?</p>
<p>après plusieurs traitement ,</p>
<p>le SMTPHandler va envoyer le rapport des traitements par mail</p>
<p>Merci à vous</p>
<p>cdt</p>
<p>Fred</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: CaptainMurloc</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-147543</link>
		<dc:creator><![CDATA[CaptainMurloc]]></dc:creator>
		<pubDate>Wed, 29 Oct 2014 08:41:30 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-147543</guid>
		<description><![CDATA[Super !
Merci beaucoup. :)

A bientôt ! ♥]]></description>
		<content:encoded><![CDATA[<p>Super !<br />
Merci beaucoup. :)</p>
<p>A bientôt ! ♥</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-147541</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Wed, 29 Oct 2014 07:17:30 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-147541</guid>
		<description><![CDATA[Donne un nom à ton logger :

&lt;pre lang=&quot;python&quot;&gt;
logger = logging.getLogger(&quot;trop_cool&quot;)
&lt;/pre&gt;

Et dans un autre fichier, si tu utilise le même nom, tu auras le même logger, qui écrit dans le même fichier.]]></description>
		<content:encoded><![CDATA[<p>Donne un nom à ton logger :</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;">logger <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">logging</span>.<span style="color: black;">getLogger</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;trop_cool&quot;</span><span style="color: black;">&#41;</span></pre></td></tr></table></div>

<p>Et dans un autre fichier, si tu utilise le même nom, tu auras le même logger, qui écrit dans le même fichier.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: CaptainMurloc</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-147508</link>
		<dc:creator><![CDATA[CaptainMurloc]]></dc:creator>
		<pubDate>Tue, 28 Oct 2014 15:04:01 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-147508</guid>
		<description><![CDATA[Hello !

Merci pour ce super article, cela m&#039;aide beaucoup (moi qui débute totalement en python). Je n&#039;ai d&#039;ailleurs pas de grandes connaissances en objet car j&#039;ai été jetée dedans (le python) pour mon apprentissage et n&#039;ai pas réellement de bases.

&lt;em&gt;Voici donc ma demande :&lt;/em&gt;

J&#039;ai récupérer le code de la section &quot;&lt;em&gt;Pour les gens pressés&lt;/em&gt;&quot; (je ne suis pas spécialement pressée, mais du temps gagné reste du temps gagné (Obvious)).

Tu dis :
&lt;blockquote&gt;Donc, faites comme moi, mettez cette config dans un fichier à part, et pour chaque nouveau projet, copier le bêtement. Comme ça vous aurez en une seconde la possibilité de logger dans un fichier et sur la console avec une désactivation facile.&quot;&lt;/blockquote&gt;

J&#039;ai trouvé ça cool, mais je ne sais pas réellement si ce que j&#039;essaie de faire (ce que je pense avoir déduit de ce que tu as dit) est réellement faisable. En effet, je voudrai : (les noms sont totalement illustratifs)
- créer un fichier init_logger.py qui contiendrait le code que tu as posté
- appeler ce fichier depuis un autre, admettons add_logs.py, et écrire dans le fichier de logs créé (du coup par init_logger, donc activity.log) mais à partir de add_logs.py

J&#039;ai modifié ton code en créant juste une fonction qui contient le reste du code pour pouvoir l&#039;appeler depuis add_logs.py
&lt;code&gt;
def initialisation() :
    # création de l&#039;objet logger qui va nous servir à écrire dans les logs
    logger = logging.getLogger()
    # on met le niveau du logger à DEBUG, comme ça il écrit tout
    [...]
&lt;/code&gt;

A partir de là, j&#039;ai donc fait l&#039;import de init_logger dans add_logs.py et j&#039;ai appelé la fonction initialisation().
Cela fonctionne correctement, je récupère bien
Hello
Testing foo

Mais comme je dis plus tôt, je ne vois pas trop comment faire pour écrire dans le fichier de logs depuis add_logs.
Si cela n&#039;est pas possible, soit. Mais comme je n&#039;en suis pas sûre, je préfère demander ! :)

J&#039;espère tout de même que ce soit faisable (ce serait tellement plus propre ^^).
A bientôt !

- CaptainMurloc]]></description>
		<content:encoded><![CDATA[<p>Hello !</p>
<p>Merci pour ce super article, cela m&#8217;aide beaucoup (moi qui débute totalement en python). Je n&#8217;ai d&#8217;ailleurs pas de grandes connaissances en objet car j&#8217;ai été jetée dedans (le python) pour mon apprentissage et n&#8217;ai pas réellement de bases.</p>
<p><em>Voici donc ma demande :</em></p>
<p>J&#8217;ai récupérer le code de la section &#8220;<em>Pour les gens pressés</em>&#8221; (je ne suis pas spécialement pressée, mais du temps gagné reste du temps gagné (Obvious)).</p>
<p>Tu dis :</p>
<blockquote><p>Donc, faites comme moi, mettez cette config dans un fichier à part, et pour chaque nouveau projet, copier le bêtement. Comme ça vous aurez en une seconde la possibilité de logger dans un fichier et sur la console avec une désactivation facile.&#8221;</p></blockquote>
<p>J&#8217;ai trouvé ça cool, mais je ne sais pas réellement si ce que j&#8217;essaie de faire (ce que je pense avoir déduit de ce que tu as dit) est réellement faisable. En effet, je voudrai : (les noms sont totalement illustratifs)<br />
&#8211; créer un fichier init_logger.py qui contiendrait le code que tu as posté<br />
&#8211; appeler ce fichier depuis un autre, admettons add_logs.py, et écrire dans le fichier de logs créé (du coup par init_logger, donc activity.log) mais à partir de add_logs.py</p>
<p>J&#8217;ai modifié ton code en créant juste une fonction qui contient le reste du code pour pouvoir l&#8217;appeler depuis add_logs.py<br />
<code><br />
def initialisation() :<br />
    # création de l'objet logger qui va nous servir à écrire dans les logs<br />
    logger = logging.getLogger()<br />
    # on met le niveau du logger à DEBUG, comme ça il écrit tout<br />
    [...]<br />
</code></p>
<p>A partir de là, j&#8217;ai donc fait l&#8217;import de init_logger dans add_logs.py et j&#8217;ai appelé la fonction initialisation().<br />
Cela fonctionne correctement, je récupère bien<br />
Hello<br />
Testing foo</p>
<p>Mais comme je dis plus tôt, je ne vois pas trop comment faire pour écrire dans le fichier de logs depuis add_logs.<br />
Si cela n&#8217;est pas possible, soit. Mais comme je n&#8217;en suis pas sûre, je préfère demander ! :)</p>
<p>J&#8217;espère tout de même que ce soit faisable (ce serait tellement plus propre ^^).<br />
A bientôt !</p>
<p>&#8211; CaptainMurloc</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-19618</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Wed, 12 Feb 2014 09:01:20 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-19618</guid>
		<description><![CDATA[Mieux.]]></description>
		<content:encoded><![CDATA[<p>Mieux.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Seb</title>
		<link>http://sametmax.com/ecrire-des-logs-en-python/#comment-19612</link>
		<dc:creator><![CDATA[Seb]]></dc:creator>
		<pubDate>Wed, 12 Feb 2014 07:16:01 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=5267#comment-19612</guid>
		<description><![CDATA[Salut,

que penses-tu de Logbook comparé au module Logging ?
https://pypi.python.org/pypi/Logbook

Merci d&#039;avance]]></description>
		<content:encoded><![CDATA[<p>Salut,</p>
<p>que penses-tu de Logbook comparé au module Logging ?<br />
<a href="https://pypi.python.org/pypi/Logbook" rel="nofollow">https://pypi.python.org/pypi/Logbook</a></p>
<p>Merci d&#8217;avance</p>
]]></content:encoded>
	</item>
</channel>
</rss>
